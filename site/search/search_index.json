{"config":{"lang":["vi"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83d\ude80 Kh\u00f3a H\u1ecdc ArgoCD 10 Ng\u00e0y \u2014 L\u00e0m Ch\u1ee7 GitOps T\u1eeb S\u1ed1 0","text":""},{"location":"#gioi-thieu","title":"\ud83d\udccb Gi\u1edbi thi\u1ec7u","text":"<p>\u0110\u00e2y l\u00e0 kh\u00f3a h\u1ecdc ArgoCD th\u1ef1c h\u00e0nh \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 b\u1ea1n c\u00f3 th\u1ec3 ti\u1ebfn h\u00e0nh ngay m\u1ed7i ng\u00e0y m\u00e0 kh\u00f4ng c\u1ea7n t\u00ecm ki\u1ebfm th\u00eam t\u00e0i li\u1ec7u. M\u1ed7i th\u01b0 m\u1ee5c <code>day-XX/</code> ch\u1ee9a \u0111\u1ea7y \u0111\u1ee7:</p> <ul> <li>\ud83d\udcd6 README.md \u2014 L\u00fd thuy\u1ebft + FAQ + h\u01b0\u1edbng d\u1eabn t\u1eebng b\u01b0\u1edbc</li> <li>\ud83d\udcc1 manifests/ \u2014 File YAML s\u1eb5n s\u00e0ng <code>kubectl apply</code></li> <li>\ud83d\udd27 scripts/ \u2014 Script t\u1ef1 \u0111\u1ed9ng h\u00f3a setup/verify/cleanup</li> <li>\u270f\ufe0f exercises/ \u2014 B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh + checklist ho\u00e0n th\u00e0nh</li> <li>\u2753 questions.md \u2014 30 c\u00e2u h\u1ecfi \u00f4n t\u1eadp k\u00e8m \u0111\u00e1p \u00e1n chi ti\u1ebft</li> </ul>"},{"location":"#yeu-cau-truoc-khi-bat-au-prerequisites","title":"\ud83d\udee0\ufe0f Y\u00eau c\u1ea7u tr\u01b0\u1edbc khi b\u1eaft \u0111\u1ea7u (Prerequisites)","text":""},{"location":"#phan-mem-can-cai-at","title":"Ph\u1ea7n m\u1ec1m c\u1ea7n c\u00e0i \u0111\u1eb7t","text":"Tool M\u1ee5c \u0111\u00edch C\u00e0i \u0111\u1eb7t Docker Container runtime docker.com/get-docker Minikube Local K8s cluster <code>brew install minikube</code> ho\u1eb7c minikube.sigs.k8s.io kubectl K8s CLI <code>brew install kubectl</code> Helm (Day 4+) Package manager <code>brew install helm</code> Git Source control <code>brew install git</code> ArgoCD CLI ArgoCD command line <code>brew install argocd</code>"},{"location":"#khoi-tao-minikube","title":"Kh\u1edfi t\u1ea1o Minikube","text":"<pre><code># T\u1ea1o cluster v\u1edbi \u0111\u1ee7 t\u00e0i nguy\u00ean cho ArgoCD\nminikube start --cpus=4 --memory=8192 --driver=docker\n\n# Ki\u1ec3m tra cluster \u0111\u00e3 s\u1eb5n s\u00e0ng\nkubectl cluster-info\nkubectl get nodes\n</code></pre>"},{"location":"#lo-trinh-10-ngay","title":"\ud83d\udcc5 L\u1ed9 Tr\u00ecnh 10 Ng\u00e0y","text":"Ng\u00e0y Ch\u1ee7 \u0111\u1ec1 N\u1ed9i dung ch\u00ednh Th\u01b0 m\u1ee5c 01 \ud83c\udfc1 Nh\u1eadp m\u00f4n GitOps &amp; C\u00e0i \u0111\u1eb7t ArgoCD GitOps fundamentals, ArgoCD architecture, installation day-01/ 02 \ud83d\udd17 K\u1ebft n\u1ed1i Repository &amp; \u1ee8ng d\u1ee5ng \u0111\u1ea7u ti\u00ean Application CRD, Git connection, first deploy day-02/ 03 \ud83d\udd04 Sync Strategies &amp; Ph\u1ee5c h\u1ed3i s\u1ef1 c\u1ed1 Manual/Auto sync, Self-heal, Prune day-03/ 04 \u2388 L\u00e0m vi\u1ec7c v\u1edbi Helm Charts Helm repo, Git charts, override values day-04/ 05 \ud83c\udfaf Kustomize \u2014 Base &amp; Overlays Multi-env config, dev/prod overlays day-05/ 06 \ud83c\udf10 Qu\u1ea3n l\u00fd nhi\u1ec1u Cluster Hub-and-Spoke, cross-cluster deploy day-06/ 07 \ud83c\udfd7\ufe0f App of Apps Pattern Root app, child apps, Git structure day-07/ 08 \u26a1 ApplicationSet List, Git, Cluster generators day-08/ 09 \ud83d\udd12 B\u1ea3o m\u1eadt (RBAC &amp; Projects) AppProject, RBAC policies, SSO day-09/ 10 \ud83d\ude80 Canary &amp; Blue/Green Argo Rollouts, progressive delivery day-10/"},{"location":"#cau-truc-moi-ngay","title":"\ud83d\udcc2 C\u1ea5u tr\u00fac m\u1ed7i ng\u00e0y","text":"<pre><code>day-XX/\n\u251c\u2500\u2500 README.md              # L\u00fd thuy\u1ebft + h\u01b0\u1edbng d\u1eabn th\u1ef1c h\u00e0nh\n\u251c\u2500\u2500 questions.md            # 30 c\u00e2u h\u1ecfi \u00f4n t\u1eadp (c\u00f3 \u0111\u00e1p \u00e1n)\n\u251c\u2500\u2500 exercises/\n\u2502   \u2514\u2500\u2500 exercise.md         # B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh + checklist\n\u251c\u2500\u2500 manifests/ ho\u1eb7c argocd/ # YAML files s\u1eb5n s\u00e0ng d\u00f9ng\n\u2514\u2500\u2500 scripts/                # Automation scripts\n</code></pre>"},{"location":"#cach-su-dung","title":"\ud83d\udccc C\u00e1ch s\u1eed d\u1ee5ng","text":"<pre><code># 1. Clone repository\ngit clone https://github.com/simplesoft-duongdt3/argoCD-learning\ncd argoCD\n\n# 2. B\u1eaft \u0111\u1ea7u t\u1eeb Day 01\ncd day-01\ncat README.md\n\n# 3. Ch\u1ea1y script setup (n\u1ebfu c\u00f3)\nchmod +x scripts/*.sh\n./scripts/install-argocd.sh\n\n# 4. L\u00e0m b\u00e0i t\u1eadp\ncat exercises/exercise.md\n\n# 5. \u00d4n t\u1eadp v\u1edbi c\u00e2u h\u1ecfi\ncat questions.md\n</code></pre>"},{"location":"#thong-ke-khoa-hoc","title":"\ud83d\udcca Th\u1ed1ng k\u00ea kh\u00f3a h\u1ecdc","text":"Metric S\u1ed1 l\u01b0\u1ee3ng \ud83d\udcd6 T\u1ed5ng ng\u00e0y h\u1ecdc 10 \ud83d\udcc1 T\u1ed5ng s\u1ed1 files 75+ \u2753 T\u1ed5ng c\u00e2u h\u1ecfi \u00f4n t\u1eadp 300 \u270f\ufe0f T\u1ed5ng b\u00e0i t\u1eadp 30+ \ud83d\udd27 Scripts t\u1ef1 \u0111\u1ed9ng 8 <p>\ud83d\udca1 Tip: M\u1ed7i ng\u00e0y n\u00ean d\u00e0nh 2-3 gi\u1edd \u0111\u1ec3 \u0111\u1ecdc l\u00fd thuy\u1ebft, th\u1ef1c h\u00e0nh, ho\u00e0n th\u00e0nh b\u00e0i t\u1eadp, v\u00e0 tr\u1ea3 l\u1eddi c\u00e2u h\u1ecfi \u00f4n t\u1eadp.</p>"},{"location":"next-action/","title":"\u2705 \u0110\u00e1nh Gi\u00e1 &amp; C\u00e1c B\u01b0\u1edbc Ti\u1ebfp Theo (Next Actions)","text":"<p>Sau khi review to\u00e0n b\u1ed9 n\u1ed9i dung kh\u00f3a h\u1ecdc 10 ng\u00e0y ArgoCD, d\u01b0\u1edbi \u0111\u00e2y l\u00e0 nh\u1eadn x\u00e9t t\u1ed5ng quan v\u00e0 c\u00e1c \u0111\u1ec1 xu\u1ea5t h\u00e0nh \u0111\u1ed9ng ti\u1ebfp theo \u0111\u1ec3 ho\u00e0n thi\u1ec7n kh\u00f3a h\u1ecdc.</p>"},{"location":"next-action/#1-anh-gia-hien-trang","title":"1. \u0110\u00e1nh Gi\u00e1 Hi\u1ec7n Tr\u1ea1ng","text":""},{"location":"next-action/#iem-manh","title":"\ud83d\udfe2 \u0110i\u1ec3m m\u1ea1nh","text":"<ul> <li>C\u1ea5u tr\u00fac r\u00f5 r\u00e0ng: M\u1ed7i ng\u00e0y \u0111\u1ec1u c\u00f3 <code>README</code> (l\u00fd thuy\u1ebft), <code>manifests</code> (th\u1ef1c h\u00e0nh), <code>exercises</code> (b\u00e0i t\u1eadp), <code>questions</code> (\u00f4n t\u1eadp).</li> <li>T\u00ednh th\u1ef1c chi\u1ebfn cao: Scripts c\u00e0i \u0111\u1eb7t t\u1ef1 \u0111\u1ed9ng, file YAML s\u1eb5n s\u00e0ng ch\u1ea1y, kh\u00f4ng c\u1ea7n config th\u1ee7 c\u00f4ng nhi\u1ec1u.</li> <li>Bao ph\u1ee7 r\u1ed9ng: T\u1eeb c\u01a1 b\u1ea3n (c\u00e0i \u0111\u1eb7t, deploy app) \u0111\u1ebfn n\u00e2ng cao (Multi-cluster, ApplicationSet, Rollouts).</li> <li>H\u1ed7 tr\u1ee3 ng\u01b0\u1eddi h\u1ecdc: C\u00f3 Checklist b\u00e0i t\u1eadp v\u00e0 Q&amp;A chi ti\u1ebft v\u1edbi \u0111\u00e1p \u00e1n \u1ea9n (<code>&lt;details&gt;</code>).</li> </ul>"},{"location":"next-action/#iem-can-cai-thien-bo-sung","title":"\ud83d\udfe1 \u0110i\u1ec3m c\u1ea7n c\u1ea3i thi\u1ec7n / B\u1ed5 sung","text":"<ul> <li>Diagrams: Hi\u1ec7n t\u1ea1i d\u00f9ng ASCII art. N\u00ean thay b\u1eb1ng \u1ea3nh s\u01a1 \u0111\u1ed3 ki\u1ebfn tr\u00fac th\u1ef1c t\u1ebf ho\u1eb7c Mermaid diagrams ph\u1ee9c t\u1ea1p h\u01a1n \u0111\u1ec3 tr\u1ef1c quan.</li> <li>Secret Management: M\u1edbi ch\u1ec9 \u0111\u1ec1 c\u1eadp l\u00fd thuy\u1ebft \u1edf Day 09. Thi\u1ebfu b\u00e0i th\u1ef1c h\u00e0nh c\u1ee5 th\u1ec3 v\u1ec1 Sealed Secrets ho\u1eb7c External Secrets Operator (ESO) - v\u1ea5n \u0111\u1ec1 th\u1ef1c t\u1ebf r\u1ea5t quan tr\u1ecdng.</li> <li>CI Integration: Ch\u01b0a c\u00f3 b\u00e0i th\u1ef1c h\u00e0nh t\u00edch h\u1ee3p v\u1edbi CI (GitHub Actions/GitLab CI) \u0111\u1ec3 update image tag t\u1ef1 \u0111\u1ed9ng.</li> <li>Monitoring: Ch\u01b0a h\u01b0\u1edbng d\u1eabn c\u00e0i \u0111\u1eb7t Prometheus/Grafana \u0111\u1ec3 theo d\u00f5i ArgoCD metrics.</li> <li>ArgoCD Image Updater: M\u1ed9t tool r\u1ea5t ph\u1ed5 bi\u1ebfn \u0111i k\u00e8m ArgoCD ch\u01b0a \u0111\u01b0\u1ee3c nh\u1eafc \u0111\u1ebfn.</li> </ul>"},{"location":"next-action/#2-ke-hoach-hanh-ong-tiep-theo-action-plan","title":"2. K\u1ebf Ho\u1ea1ch H\u00e0nh \u0110\u1ed9ng Ti\u1ebfp Theo (Action Plan)","text":""},{"location":"next-action/#giai-oan-1-kiem-thu-hoan-thien-ngay-lap-tuc","title":"\ud83d\ude80 Giai \u0111o\u1ea1n 1: Ki\u1ec3m th\u1eed &amp; Ho\u00e0n thi\u1ec7n (Ngay l\u1eadp t\u1ee9c)","text":"<ul> <li>[ ] Dry Run to\u00e0n b\u1ed9 kh\u00f3a h\u1ecdc: T\u1ef1 ch\u1ea1y l\u1ea1i t\u1eeb Day 01 -&gt; Day 10 tr\u00ean m\u1ed9t m\u00e1y s\u1ea1ch (clean VM/Mac) \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o kh\u00f4ng s\u00f3t b\u01b0\u1edbc n\u00e0o.</li> <li>[ ] Review l\u1ea1i Link/References: Ki\u1ec3m tra c\u00e1c link tr\u00edch d\u1eabn trong README c\u00f3 c\u00f2n ho\u1ea1t \u0111\u1ed9ng kh\u00f4ng.</li> <li>[ ] Spell check: R\u00e0 so\u00e1t l\u1ed7i ch\u00ednh t\u1ea3 ti\u1ebfng Vi\u1ec7t/Anh.</li> <li>[ ] Update README: Th\u00eam b\u1ea3ng m\u1ee5c l\u1ee5c (ToC) v\u00e0 link nh\u1ea3y nhanh gi\u1eefa c\u00e1c ng\u00e0y.</li> <li>[ ] Verify Exercises: Ch\u1ea1y th\u1eed t\u1ea5t c\u1ea3 c\u00e1c b\u00e0i t\u1eadp \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o file <code>exercise.md</code> checklist l\u00e0 ch\u00ednh x\u00e1c.</li> </ul>"},{"location":"next-action/#giai-oan-2-bo-sung-day-11-nang-cao-devops-flow","title":"\ud83d\udce6 Giai \u0111o\u1ea1n 2: B\u1ed5 sung \"Day 11+\" (N\u00e2ng cao &amp; DevOps Flow)","text":"<p>N\u1ebfu mu\u1ed1n kh\u00f3a h\u1ecdc ho\u00e0n h\u1ea3o h\u01a1n, c\u00e2n nh\u1eafc th\u00eam c\u00e1c n\u1ed9i dung ph\u1ee5 tr\u1ee3:</p> <ol> <li>Lab: Secrets Management Deep Dive:<ul> <li>Th\u00eam h\u01b0\u1edbng d\u1eabn c\u00e0i <code>bitnami/sealed-secrets</code>.</li> <li>T\u1ea1o Secret m\u00e3 h\u00f3a v\u00e0 commit l\u00ean Git.</li> <li>Demo decrypt secret trong pod.</li> </ul> </li> <li>Lab: CI/CD Pipeline Integration:<ul> <li>T\u1ea1o GitHub Actions workflow \u0111\u01a1n gi\u1ea3n: Build Docker image -&gt; Push Docker Hub -&gt; Update Helm value/Kustomize image tag trong Git repo -&gt; ArgoCD sync.</li> <li>Demo \"GitOps Bridge\" pattern.</li> </ul> </li> <li>Lab: ArgoCD Image Updater:<ul> <li>C\u00e0i \u0111\u1eb7t Image Updater \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng theo d\u00f5i Docker Hub tags (thay th\u1ebf CI push).</li> </ul> </li> <li>Lab: Monitoring &amp; Alerting:<ul> <li>C\u00e0i Prometheus + Grafana stack.</li> <li>Import ArgoCD Grafana Dashboard.</li> <li>Setup AlertManager rule khi App Failed/Degraded.</li> </ul> </li> </ol>"},{"location":"next-action/#giai-oan-3-ong-goi-phan-phoi","title":"\ud83d\udcda Giai \u0111o\u1ea1n 3: \u0110\u00f3ng g\u00f3i &amp; Ph\u00e2n ph\u1ed1i","text":"<ul> <li>[ ] T\u1ea1o Repository m\u1eabu (Template Repo):<ul> <li>T\u1ea1o m\u1ed9t repo Git s\u1ea1ch ch\u1ee9a c\u1ea5u tr\u00fac kh\u00f3a h\u1ecdc.</li> <li>Ng\u01b0\u1eddi h\u1ecdc s\u1ebd <code>fork</code> repo n\u00e0y v\u1ec1 \u0111\u1ec3 l\u00e0m b\u00e0i t\u1eadp.</li> </ul> </li> <li>[ ] Quay Video h\u01b0\u1edbng d\u1eabn:<ul> <li>M\u1ed7i ng\u00e0y 1 video ng\u1eafn (15-20p) demo c\u00e1c b\u01b0\u1edbc ch\u1ea1y script v\u00e0 gi\u1ea3i th\u00edch manifest.</li> </ul> </li> <li>[ ] Xu\u1ea5t b\u1ea3n l\u00ean GitHub Pages/GitBook:<ul> <li>D\u00f9ng MkDocs ho\u1eb7c GitBook \u0111\u1ec3 render c\u00e1c file Markdown th\u00e0nh website d\u1ec5 \u0111\u1ecdc, t\u00ecm ki\u1ebfm.</li> </ul> </li> <li>[ ] Slide b\u00e0i gi\u1ea3ng:<ul> <li>T\u1ea1o slide t\u00f3m t\u1eaft l\u00fd thuy\u1ebft cho m\u1ed7i ng\u00e0y (d\u00f9ng Google Slides ho\u1eb7c Marp).</li> </ul> </li> </ul>"},{"location":"next-action/#giai-oan-4-cong-ong-support","title":"\ud83e\udd1d Giai \u0111o\u1ea1n 4: C\u1ed9ng \u0111\u1ed3ng &amp; Support","text":"<ul> <li>[ ] T\u1ea1o Discord/Slack Channel: N\u01a1i h\u1ecdc vi\u00ean th\u1ea3o lu\u1eadn v\u00e0 h\u1ecfi \u0111\u00e1p.</li> <li>[ ] Weekly Q&amp;A Session: Livestream gi\u1ea3i \u0111\u00e1p th\u1eafc m\u1eafc.</li> <li>[ ] Contribution Guide: H\u01b0\u1edbng d\u1eabn h\u1ecdc vi\u00ean \u0111\u00f3ng g\u00f3p (fix typo, th\u00eam b\u00e0i t\u1eadp) v\u00e0o repo kh\u00f3a h\u1ecdc.</li> </ul>"},{"location":"next-action/#3-goi-y-cau-truc-repository-cho-hoc-vien","title":"3. G\u1ee3i \u00fd c\u1ea5u tr\u00fac Repository cho H\u1ecdc vi\u00ean","text":"<p>N\u00ean t\u1ea1o m\u1ed9t repo ri\u00eang <code>argocd-course-labs</code> \u0111\u1ec3 h\u1ecdc vi\u00ean fork, c\u1ea5u tr\u00fac nh\u01b0 sau:</p> <pre><code>argocd-course-labs/\n\u251c\u2500\u2500 .github/workflows/    # CI pipelines m\u1eabu\n\u251c\u2500\u2500 apps/                 # N\u01a1i h\u1ecdc vi\u00ean s\u1ebd t\u1ea1o App of Apps / ApplicationSets\n\u251c\u2500\u2500 charts/               # Helm charts m\u1eabu\n\u251c\u2500\u2500 kustomize/            # Kustomize bases\n\u2514\u2500\u2500 README.md             # H\u01b0\u1edbng d\u1eabn setup m\u00f4i tr\u01b0\u1eddng lab\n</code></pre> <p>Kh\u00f3a h\u1ecdc hi\u1ec7n t\u1ea1i (<code>argocd/</code>) l\u00e0 t\u00e0i li\u1ec7u tham kh\u1ea3o (Solution), c\u00f2n repo <code>argocd-course-labs</code> l\u00e0 n\u01a1i h\u1ecd l\u00e0m b\u00e0i t\u1eadp (Environment).</p> <p>T\u00f3m l\u1ea1i: N\u1ed9i dung hi\u1ec7n t\u1ea1i \u0111\u00e3 \u0111\u1ee7 t\u1ed1t \u0111\u1ec3 release phi\u00ean b\u1ea3n v1.0. C\u00e1c ph\u1ea7n b\u1ed5 sung (Secrets, CI, Monitoring) n\u00ean \u0111\u01b0\u1ee3c \u01b0u ti\u00ean trong b\u1ea3n update v1.1.</p>"},{"location":"day-01/","title":"\ud83d\udcc5 Ng\u00e0y 1: Nh\u1eadp M\u00f4n GitOps &amp; C\u00e0i \u0110\u1eb7t ArgoCD","text":""},{"location":"day-01/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u GitOps l\u00e0 g\u00ec v\u00e0 t\u1ea1i sao n\u00f3 quan tr\u1ecdng</li> <li>C\u00e0i \u0111\u1eb7t ArgoCD l\u00ean Kubernetes cluster</li> <li>Login v\u00e0o ArgoCD UI &amp; CLI</li> </ul>"},{"location":"day-01/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-01/#gitops-la-gi","title":"GitOps l\u00e0 g\u00ec?","text":"<p>GitOps l\u00e0 ph\u01b0\u01a1ng ph\u00e1p tri\u1ec3n khai \u1ee9ng d\u1ee5ng s\u1eed d\u1ee5ng Git l\u00e0m ngu\u1ed3n s\u1ef1 th\u1eadt duy nh\u1ea5t (single source of truth). M\u1ecdi thay \u0111\u1ed5i tr\u00ean h\u1ec7 th\u1ed1ng production \u0111\u1ec1u ph\u1ea3i \u0111i qua Git.</p>"},{"location":"day-01/#so-sanh-cach-truyen-thong-vs-gitops","title":"So s\u00e1nh: C\u00e1ch truy\u1ec1n th\u1ed1ng vs GitOps","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    C\u00c1CH TRUY\u1ec0N TH\u1ed0NG (Push-based)           \u2502\n\u2502                                                             \u2502\n\u2502  Developer \u2192 CI Pipeline \u2192 kubectl apply \u2192 K8s Cluster     \u2502\n\u2502                                                             \u2502\n\u2502  \u274c Ai c\u0169ng c\u00f3 th\u1ec3 \"kubectl apply\" tr\u1ef1c ti\u1ebfp               \u2502\n\u2502  \u274c Kh\u00f4ng bi\u1ebft tr\u1ea1ng th\u00e1i th\u1ef1c s\u1ef1 tr\u00ean cluster              \u2502\n\u2502  \u274c Kh\u00f4ng c\u00f3 audit trail                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    GITOPS (Pull-based)                      \u2502\n\u2502                                                             \u2502\n\u2502  Developer \u2192 Git Commit \u2192 ArgoCD (Pull) \u2192 K8s Cluster      \u2502\n\u2502                                                             \u2502\n\u2502  \u2705 Git l\u00e0 single source of truth                           \u2502\n\u2502  \u2705 ArgoCD t\u1ef1 detect drift v\u00e0 s\u1eeda ch\u1eefa                     \u2502\n\u2502  \u2705 M\u1ecdi thay \u0111\u1ed5i \u0111\u1ec1u c\u00f3 audit trail trong Git               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-01/#argocd-la-gi","title":"ArgoCD l\u00e0 g\u00ec?","text":"<p>ArgoCD l\u00e0 m\u1ed9t Continuous Delivery tool cho Kubernetes, ho\u1ea1t \u0111\u1ed9ng theo m\u00f4 h\u00ecnh Pull-based GitOps:</p> <ol> <li>Khai b\u00e1o tr\u1ea1ng th\u00e1i mong mu\u1ed1n trong Git (YAML/Helm/Kustomize)</li> <li>ArgoCD theo d\u00f5i Git repo li\u00ean t\u1ee5c</li> <li>ArgoCD so s\u00e1nh tr\u1ea1ng th\u00e1i Git v\u1edbi tr\u1ea1ng th\u00e1i th\u1ef1c t\u1ebf tr\u00ean cluster</li> <li>ArgoCD \u0111\u1ed3ng b\u1ed9 (sync) n\u1ebfu ph\u00e1t hi\u1ec7n kh\u00e1c bi\u1ec7t</li> </ol>"},{"location":"day-01/#kien-truc-argocd","title":"Ki\u1ebfn tr\u00fac ArgoCD","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    ArgoCD Server                      \u2502\n\u2502                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 API      \u2502  \u2502 Repository   \u2502  \u2502 Application   \u2502  \u2502\n\u2502  \u2502 Server   \u2502  \u2502 Server       \u2502  \u2502 Controller    \u2502  \u2502\n\u2502  \u2502          \u2502  \u2502              \u2502  \u2502               \u2502  \u2502\n\u2502  \u2502 (UI+API) \u2502  \u2502 (Clone Git)  \u2502  \u2502 (Sync/Diff)  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Redis            \u2502  \u2502 Dex (SSO)                \u2502  \u2502\n\u2502  \u2502 (Cache)          \u2502  \u2502 (Authentication)         \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-01/#thuc-hanh-cai-at-argocd","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh: C\u00e0i \u0111\u1eb7t ArgoCD","text":""},{"location":"day-01/#cach-1-cai-bang-manifest-khuyen-nghi-cho-nguoi-moi","title":"C\u00e1ch 1: C\u00e0i b\u1eb1ng Manifest (Khuy\u1ebfn ngh\u1ecb cho ng\u01b0\u1eddi m\u1edbi)","text":"<pre><code># B\u01b0\u1edbc 1: T\u1ea1o namespace\nkubectl create namespace argocd\n\n# B\u01b0\u1edbc 2: C\u00e0i \u0111\u1eb7t ArgoCD\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n\n# B\u01b0\u1edbc 3: Ch\u1edd t\u1ea5t c\u1ea3 Pod s\u1eb5n s\u00e0ng (~2-3 ph\u00fat)\nkubectl wait --for=condition=Ready pods --all -n argocd --timeout=300s\n\n# B\u01b0\u1edbc 4: Ki\u1ec3m tra\nkubectl get pods -n argocd\n</code></pre>"},{"location":"day-01/#cach-2-cai-bang-helm","title":"C\u00e1ch 2: C\u00e0i b\u1eb1ng Helm","text":"<pre><code># B\u01b0\u1edbc 1: Th\u00eam Helm repo\nhelm repo add argo https://argoproj.github.io/argo-helm\nhelm repo update\n\n# B\u01b0\u1edbc 2: C\u00e0i \u0111\u1eb7t\nhelm install argocd argo/argo-cd \\\n  --namespace argocd \\\n  --create-namespace \\\n  --set server.service.type=NodePort\n\n# B\u01b0\u1edbc 3: Ki\u1ec3m tra\nkubectl get pods -n argocd\n</code></pre>"},{"location":"day-01/#truy-cap-argocd-ui","title":"Truy c\u1eadp ArgoCD UI","text":"<pre><code># Port-forward \u0111\u1ec3 truy c\u1eadp UI\nkubectl port-forward svc/argocd-server -n argocd 8080:443 &amp;\n\n# M\u1edf tr\u00ecnh duy\u1ec7t: https://localhost:8080\n# Username: admin\n# Password: l\u1ea5y b\u1eb1ng l\u1ec7nh d\u01b0\u1edbi \u0111\u00e2y\n\n# L\u1ea5y password admin\nkubectl -n argocd get secret argocd-initial-admin-secret \\\n  -o jsonpath=\"{.data.password}\" | base64 -d &amp;&amp; echo\n</code></pre>"},{"location":"day-01/#cai-argocd-cli","title":"C\u00e0i ArgoCD CLI","text":"<pre><code># macOS\nbrew install argocd\n\n# Linux\ncurl -sSL -o argocd-linux-amd64 \\\n  https://github.com/argoproj/argo-cd/releases/latest/download/argocd-linux-amd64\nsudo install -m 555 argocd-linux-amd64 /usr/local/bin/argocd\nrm argocd-linux-amd64\n\n# Login qua CLI\nargocd login localhost:8080 --username admin --password &lt;YOUR_PASSWORD&gt; --insecure\n</code></pre>"},{"location":"day-01/#faq","title":"\u2753 FAQ","text":""},{"location":"day-01/#q-argocd-co-thay-the-jenkinsgitlab-ci-khong","title":"Q: ArgoCD c\u00f3 thay th\u1ebf Jenkins/GitLab CI kh\u00f4ng?","text":"<p>A: Kh\u00f4ng! ArgoCD ch\u1ec9 lo ph\u1ea7n CD (Continuous Delivery). B\u1ea1n v\u1eabn c\u1ea7n Jenkins/GitLab CI cho ph\u1ea7n CI (build, test, push image). Flow \u0111\u1ea7y \u0111\u1ee7:</p> <pre><code>CI (Jenkins/GitLab)              CD (ArgoCD)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500               \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nBuild \u2192 Test \u2192 Push Image   \u2192   Git commit YAML \u2192 ArgoCD Sync \u2192 K8s\n</code></pre>"},{"location":"day-01/#q-argocd-khac-gi-flux","title":"Q: ArgoCD kh\u00e1c g\u00ec Flux?","text":"<p>A: C\u1ea3 hai \u0111\u1ec1u l\u00e0 GitOps tool, nh\u01b0ng ArgoCD c\u00f3 UI m\u1ea1nh m\u1ebd, d\u1ec5 d\u00f9ng h\u01a1n cho team l\u1edbn. Flux nh\u1eb9 h\u01a1n v\u00e0 \"Kubernetes-native\" h\u01a1n.</p>"},{"location":"day-01/#q-argocd-co-chay-uoc-tren-minikube-khong","title":"Q: ArgoCD c\u00f3 ch\u1ea1y \u0111\u01b0\u1ee3c tr\u00ean Minikube kh\u00f4ng?","text":"<p>A: C\u00f3! ArgoCD c\u1ea7n kho\u1ea3ng 2 CPU + 4GB RAM. H\u00e3y \u0111\u1ea3m b\u1ea3o Minikube c\u00f3 \u0111\u1ee7 t\u00e0i nguy\u00ean.</p>"},{"location":"day-01/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul>"},{"location":"day-01/#cleanup","title":"\ud83e\uddf9 Cleanup","text":"<pre><code># N\u1ebfu mu\u1ed1n x\u00f3a ArgoCD (KH\u00d4NG n\u00ean x\u00f3a n\u1ebfu c\u00f2n ti\u1ebfp t\u1ee5c kh\u00f3a h\u1ecdc)\nkubectl delete -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\nkubectl delete namespace argocd\n</code></pre> <p>\u23ed\ufe0f Ng\u00e0y ti\u1ebfp theo: Day 02 \u2014 K\u1ebft n\u1ed1i Repository &amp; \u1ee8ng d\u1ee5ng \u0111\u1ea7u ti\u00ean</p>"},{"location":"day-01/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 1: Nh\u1eadp M\u00f4n GitOps &amp; C\u00e0i \u0110\u1eb7t ArgoCD","text":""},{"location":"day-01/questions/#phan-1-gitops-fundamentals-cau-1-10","title":"Ph\u1ea7n 1: GitOps Fundamentals (C\u00e2u 1-10)","text":""},{"location":"day-01/questions/#cau-1-gitops-la-gi","title":"C\u00e2u 1: GitOps l\u00e0 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>GitOps l\u00e0 ph\u01b0\u01a1ng ph\u00e1p qu\u1ea3n l\u00fd h\u1ea1 t\u1ea7ng v\u00e0 tri\u1ec3n khai \u1ee9ng d\u1ee5ng s\u1eed d\u1ee5ng Git l\u00e0m ngu\u1ed3n s\u1ef1 th\u1eadt duy nh\u1ea5t (single source of truth). M\u1ecdi thay \u0111\u1ed5i tr\u00ean h\u1ec7 th\u1ed1ng \u0111\u1ec1u ph\u1ea3i th\u00f4ng qua Git commits.</p> <p>4 nguy\u00ean t\u1eafc c\u1ed1t l\u00f5i c\u1ee7a GitOps: 1. Declarative \u2014 H\u1ec7 th\u1ed1ng \u0111\u01b0\u1ee3c m\u00f4 t\u1ea3 d\u1ea1ng khai b\u00e1o (YAML) 2. Versioned &amp; Immutable \u2014 Tr\u1ea1ng th\u00e1i mong mu\u1ed1n \u0111\u01b0\u1ee3c l\u01b0u trong Git (c\u00f3 version history) 3. Pulled Automatically \u2014 Agent t\u1ef1 \u0111\u1ed9ng pull thay \u0111\u1ed5i t\u1eeb Git 4. Continuously Reconciled \u2014 Agent li\u00ean t\u1ee5c so s\u00e1nh v\u00e0 s\u1eeda ch\u1eefa drift</p>"},{"location":"day-01/questions/#cau-2-push-based-cd-va-pull-based-cd-khac-nhau-nhu-the-nao","title":"C\u00e2u 2: Push-based CD v\u00e0 Pull-based CD kh\u00e1c nhau nh\u01b0 th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Push-based Pull-based (GitOps) Ai deploy? CI pipeline push l\u00ean cluster Agent trong cluster t\u1ef1 pull t\u1eeb Git Credentials Pipeline c\u1ea7n kubeconfig/token Agent \u0111\u00e3 c\u00f3 quy\u1ec1n trong cluster V\u00ed d\u1ee5 Jenkins <code>kubectl apply</code>, GitLab CD ArgoCD, Flux B\u1ea3o m\u1eadt K\u00e9m h\u01a1n (credentials ngo\u00e0i cluster) T\u1ed1t h\u01a1n (credentials trong cluster) Drift detection Kh\u00f4ng c\u00f3 C\u00f3 \u2014 agent li\u00ean t\u1ee5c ki\u1ec3m tra <p>Pull-based an to\u00e0n h\u01a1n v\u00ec kh\u00f4ng c\u1ea7n expose cluster credentials ra ngo\u00e0i.</p>"},{"location":"day-01/questions/#cau-3-tai-sao-gitops-lai-quan-trong-trong-kubernetes","title":"C\u00e2u 3: T\u1ea1i sao GitOps l\u1ea1i quan tr\u1ecdng trong Kubernetes?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <ol> <li>Audit trail \u2014 M\u1ecdi thay \u0111\u1ed5i \u0111\u1ec1u c\u00f3 commit history, bi\u1ebft ai thay \u0111\u1ed5i g\u00ec, khi n\u00e0o</li> <li>Rollback d\u1ec5 d\u00e0ng \u2014 <code>git revert</code> \u0111\u1ec3 rollback, kh\u00f4ng c\u1ea7n nh\u1edb tr\u1ea1ng th\u00e1i tr\u01b0\u1edbc</li> <li>Consistency \u2014 Git l\u00e0 single source of truth, cluster lu\u00f4n kh\u1edbp v\u1edbi Git</li> <li>Drift detection \u2014 Ph\u00e1t hi\u1ec7n khi ai \u0111\u00f3 <code>kubectl edit</code> tr\u1ef1c ti\u1ebfp</li> <li>Self-healing \u2014 T\u1ef1 s\u1eeda ch\u1eefa khi cluster b\u1ecb thay \u0111\u1ed5i ngo\u00e0i Git</li> <li>Collaboration \u2014 D\u00f9ng PR/MR review tr\u01b0\u1edbc khi deploy, gi\u1ed1ng code review</li> </ol>"},{"location":"day-01/questions/#cau-4-single-source-of-truth-trong-gitops-nghia-la-gi","title":"C\u00e2u 4: \"Single Source of Truth\" trong GitOps ngh\u0129a l\u00e0 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Single Source of Truth ngh\u0129a l\u00e0 Git repository l\u00e0 n\u01a1i duy nh\u1ea5t x\u00e1c \u0111\u1ecbnh tr\u1ea1ng th\u00e1i mong mu\u1ed1n c\u1ee7a h\u1ec7 th\u1ed1ng. B\u1ea5t k\u1ef3 ai mu\u1ed1n bi\u1ebft h\u1ec7 th\u1ed1ng \u0111ang ch\u1ea1y g\u00ec \u2192 xem Git, kh\u00f4ng ph\u1ea3i ch\u1ea1y <code>kubectl get</code> tr\u00ean cluster.</p> <p>H\u1ec7 qu\u1ea3: - Kh\u00f4ng ai \u0111\u01b0\u1ee3c <code>kubectl apply</code> tr\u1ef1c ti\u1ebfp (tr\u1eeb tr\u01b0\u1eddng h\u1ee3p kh\u1ea9n c\u1ea5p) - M\u1ecdi thay \u0111\u1ed5i ph\u1ea3i qua Git commit - Cluster state ph\u1ea3i kh\u1edbp v\u1edbi Git state - N\u1ebfu kh\u00f4ng kh\u1edbp \u2192 ArgoCD t\u1ef1 s\u1eeda (self-heal)</p>"},{"location":"day-01/questions/#cau-5-declarative-configuration-khac-gi-imperative-configuration","title":"C\u00e2u 5: Declarative configuration kh\u00e1c g\u00ec Imperative configuration?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Declarative Imperative C\u00e1ch vi\u1ebft M\u00f4 t\u1ea3 tr\u1ea1ng th\u00e1i mong mu\u1ed1n M\u00f4 t\u1ea3 t\u1eebng b\u01b0\u1edbc th\u1ef1c hi\u1ec7n V\u00ed d\u1ee5 <code>replicas: 3</code> (t\u00f4i mu\u1ed1n 3 pods) <code>kubectl scale --replicas=3</code> (scale l\u00ean 3) Idempotent C\u00f3 (apply bao nhi\u00eau l\u1ea7n c\u0169ng c\u00f9ng k\u1ebft qu\u1ea3) Kh\u00f4ng \u0111\u1ea3m b\u1ea3o GitOps \u2705 Ph\u00f9 h\u1ee3p \u274c Kh\u00f4ng ph\u00f9 h\u1ee3p <p>GitOps y\u00eau c\u1ea7u declarative v\u00ec Git ch\u1ec9 l\u01b0u tr\u1ea1ng th\u00e1i mong mu\u1ed1n, kh\u00f4ng l\u01b0u sequence of commands.</p>"},{"location":"day-01/questions/#cau-6-argocd-la-gi-no-thuoc-loai-cong-cu-nao","title":"C\u00e2u 6: ArgoCD l\u00e0 g\u00ec? N\u00f3 thu\u1ed9c lo\u1ea1i c\u00f4ng c\u1ee5 n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>ArgoCD l\u00e0 m\u1ed9t Continuous Delivery (CD) tool cho Kubernetes, ho\u1ea1t \u0111\u1ed9ng theo m\u00f4 h\u00ecnh Pull-based GitOps.</p> <p>ArgoCD KH\u00d4NG ph\u1ea3i: - CI tool (kh\u00f4ng build/test code) - Container registry - Infrastructure provisioning tool (kh\u00f4ng t\u1ea1o cluster)</p> <p>ArgoCD L\u00c0: - GitOps operator \u2014 theo d\u00f5i Git v\u00e0 sync l\u00ean K8s - CD tool \u2014 ch\u1ec9 lo ph\u1ea7n tri\u1ec3n khai - Kubernetes controller \u2014 ch\u1ea1y b\u00ean trong cluster</p>"},{"location":"day-01/questions/#cau-7-liet-ke-cac-thanh-phan-chinh-trong-kien-truc-argocd","title":"C\u00e2u 7: Li\u1ec7t k\u00ea c\u00e1c th\u00e0nh ph\u1ea7n ch\u00ednh trong ki\u1ebfn tr\u00fac ArgoCD?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <ol> <li>API Server \u2014 Cung c\u1ea5p REST/gRPC API v\u00e0 Web UI, x\u1eed l\u00fd authentication</li> <li>Repository Server \u2014 Clone Git repos, render manifests (Helm/Kustomize/plain YAML)</li> <li>Application Controller \u2014 So s\u00e1nh tr\u1ea1ng th\u00e1i Git vs Cluster, th\u1ef1c hi\u1ec7n sync/reconcile</li> <li>Redis \u2014 Cache cho repo server, c\u1ea3i thi\u1ec7n performance</li> <li>Dex \u2014 Identity provider cho SSO (OIDC, SAML, LDAP)</li> <li>Notification Controller (optional) \u2014 G\u1eedi notifications qua Slack, email, webhook</li> </ol> <p>Application Controller l\u00e0 th\u00e0nh ph\u1ea7n quan tr\u1ecdng nh\u1ea5t \u2014 n\u00f3 li\u00ean t\u1ee5c reconcile tr\u1ea1ng th\u00e1i.</p>"},{"location":"day-01/questions/#cau-8-argocd-co-thay-the-jenkinsgitlab-ci-khong-tai-sao","title":"C\u00e2u 8: ArgoCD c\u00f3 thay th\u1ebf Jenkins/GitLab CI kh\u00f4ng? T\u1ea1i sao?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Kh\u00f4ng! ArgoCD ch\u1ec9 lo ph\u1ea7n CD (Continuous Delivery), kh\u00f4ng thay th\u1ebf CI (Continuous Integration).</p> Giai \u0111o\u1ea1n Tool Ch\u1ee9c n\u0103ng CI Jenkins, GitLab CI, GitHub Actions Build, test, push image CD ArgoCD, Flux Sync Git manifests \u2192 K8s cluster <p>Flow ho\u00e0n ch\u1ec9nh: <pre><code>Code commit \u2192 CI (build + test + push image) \u2192 Update YAML in Git \u2192 ArgoCD (sync to K8s)\n</code></pre></p> <p>ArgoCD b\u1ed5 tr\u1ee3 ch\u1ee9 kh\u00f4ng thay th\u1ebf CI tools.</p>"},{"location":"day-01/questions/#cau-9-so-sanh-argocd-va-flux","title":"C\u00e2u 9: So s\u00e1nh ArgoCD v\u00e0 Flux?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Ti\u00eau ch\u00ed ArgoCD Flux Web UI \u2705 UI m\u1ea1nh m\u1ebd, tr\u1ef1c quan \u274c Kh\u00f4ng c\u00f3 UI built-in CLI \u2705 C\u00f3 \u2705 C\u00f3 Multi-tenancy \u2705 Projects + RBAC \u26a0\ufe0f H\u1ea1n ch\u1ebf h\u01a1n Helm support \u2705 Native \u2705 Native Kustomize \u2705 Native \u2705 Native Kubernetes native D\u00f9ng CRD ri\u00eang Kubernetes-native h\u01a1n Community L\u1edbn h\u01a1n (CNCF Graduated) L\u1edbn (CNCF Graduated) Learning curve D\u1ec5 (c\u00f3 UI) Kh\u00f3 h\u01a1n (CLI-only) <p>Khi n\u00e0o ch\u1ecdn ArgoCD? Team l\u1edbn, c\u1ea7n UI tr\u1ef1c quan, multi-tenancy m\u1ea1nh. Khi n\u00e0o ch\u1ecdn Flux? Team nh\u1ecf, mu\u1ed1n lightweight, Kubernetes-native approach.</p>"},{"location":"day-01/questions/#cau-10-argocd-can-bao-nhieu-tai-nguyen-toi-thieu","title":"C\u00e2u 10: ArgoCD c\u1ea7n bao nhi\u00eau t\u00e0i nguy\u00ean t\u1ed1i thi\u1ec3u?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>T\u1ed1i thi\u1ec3u cho development/learning: - CPU: 2 cores - Memory: 4 GB RAM - Disk: 10 GB</p> <p>Khuy\u1ebfn ngh\u1ecb cho production (nh\u1ecf, 1-10 apps): - CPU: 4 cores - Memory: 8 GB RAM</p> <p>Production l\u1edbn (100+ apps): - B\u1eadt HA mode (3 API Server replicas) - Controller sharding - Redis cluster</p> <p>Minikube config: <pre><code>minikube start --cpus=4 --memory=8192\n</code></pre></p>"},{"location":"day-01/questions/#phan-2-cai-at-cau-hinh-cau-11-20","title":"Ph\u1ea7n 2: C\u00e0i \u0110\u1eb7t &amp; C\u1ea5u H\u00ecnh (C\u00e2u 11-20)","text":""},{"location":"day-01/questions/#cau-11-co-may-cach-cai-at-argocd-uu-nhuoc-iem","title":"C\u00e2u 11: C\u00f3 m\u1ea5y c\u00e1ch c\u00e0i \u0111\u1eb7t ArgoCD? \u01afu nh\u01b0\u1ee3c \u0111i\u1ec3m?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n C\u00e1ch \u01afu \u0111i\u1ec3m Nh\u01b0\u1ee3c \u0111i\u1ec3m Plain Manifest (<code>kubectl apply -f install.yaml</code>) \u0110\u01a1n gi\u1ea3n, kh\u00f4ng c\u1ea7n Helm Kh\u00f3 customize Helm Chart D\u1ec5 customize values C\u1ea7n bi\u1ebft Helm Kustomize Flexible overlays Ph\u1ee9c t\u1ea1p h\u01a1n Operator (ArgoCD Operator) Qu\u1ea3n l\u00fd lifecycle t\u1ed1t Th\u00eam layer ph\u1ee9c t\u1ea1p <p>Khuy\u1ebfn ngh\u1ecb: - Learning: Plain Manifest - Production: Helm Chart ho\u1eb7c Kustomize - Enterprise: ArgoCD Operator</p>"},{"location":"day-01/questions/#cau-12-namespace-argocd-co-bat-buoc-khong","title":"C\u00e2u 12: Namespace <code>argocd</code> c\u00f3 b\u1eaft bu\u1ed9c kh\u00f4ng?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Kh\u00f4ng b\u1eaft bu\u1ed9c, nh\u01b0ng khuy\u1ebfn ngh\u1ecb d\u00f9ng <code>argocd</code> v\u00ec: - T\u1ea5t c\u1ea3 manifests m\u1eb7c \u0111\u1ecbnh tham chi\u1ebfu namespace <code>argocd</code> - N\u1ebfu d\u00f9ng namespace kh\u00e1c, ph\u1ea3i s\u1eeda nhi\u1ec1u file - C\u1ed9ng \u0111\u1ed3ng v\u00e0 t\u00e0i li\u1ec7u \u0111\u1ec1u m\u1eb7c \u0111\u1ecbnh <code>argocd</code></p> <p>N\u1ebfu mu\u1ed1n d\u00f9ng namespace kh\u00e1c (v\u00ed d\u1ee5 <code>gitops</code>), ph\u1ea3i th\u00eam flag <code>--namespace gitops</code> cho m\u1ecdi l\u1ec7nh ArgoCD CLI.</p>"},{"location":"day-01/questions/#cau-13-lenh-nao-lay-mat-khau-admin-mac-inh-cua-argocd","title":"C\u00e2u 13: L\u1ec7nh n\u00e0o l\u1ea5y m\u1eadt kh\u1ea9u admin m\u1eb7c \u0111\u1ecbnh c\u1ee7a ArgoCD?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code>kubectl -n argocd get secret argocd-initial-admin-secret \\\n  -o jsonpath=\"{.data.password}\" | base64 -d &amp;&amp; echo\n</code></pre> <p>Gi\u1ea3i th\u00edch: 1. <code>get secret argocd-initial-admin-secret</code> \u2014 L\u1ea5y Secret ch\u1ee9a password 2. <code>-o jsonpath=\"{.data.password}\"</code> \u2014 Tr\u00edch xu\u1ea5t field <code>password</code> 3. <code>base64 -d</code> \u2014 Decode t\u1eeb base64 (K8s Secret lu\u00f4n encode base64) 4. <code>&amp;&amp; echo</code> \u2014 Xu\u1ed1ng d\u00f2ng sau password</p> <p>L\u01b0u \u00fd: N\u00ean x\u00f3a secret n\u00e0y sau khi \u0111\u1ed5i password: <code>kubectl delete secret argocd-initial-admin-secret -n argocd</code></p>"},{"location":"day-01/questions/#cau-14-lam-sao-truy-cap-argocd-ui","title":"C\u00e2u 14: L\u00e0m sao truy c\u1eadp ArgoCD UI?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>C\u00f3 3 c\u00e1ch:</p> <p>C\u00e1ch 1: Port-forward (Development) <pre><code>kubectl port-forward svc/argocd-server -n argocd 8080:443\n# M\u1edf https://localhost:8080\n</code></pre></p> <p>C\u00e1ch 2: NodePort <pre><code>kubectl patch svc argocd-server -n argocd -p '{\"spec\": {\"type\": \"NodePort\"}}'\nminikube service argocd-server -n argocd\n</code></pre></p> <p>C\u00e1ch 3: Ingress (Production) <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: argocd-server\n  namespace: argocd\n  annotations:\n    nginx.ingress.kubernetes.io/ssl-passthrough: \"true\"\nspec:\n  rules:\n    - host: argocd.example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: argocd-server\n                port:\n                  number: 443\n</code></pre></p>"},{"location":"day-01/questions/#cau-15-argocd-cli-login-command-la-gi","title":"C\u00e2u 15: ArgoCD CLI login command l\u00e0 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code>argocd login &lt;SERVER&gt; --username &lt;USER&gt; --password &lt;PASS&gt; --insecure\n</code></pre> <p>Tham s\u1ed1: - <code>&lt;SERVER&gt;</code> \u2014 \u0110\u1ecba ch\u1ec9 ArgoCD server (vd: <code>localhost:8080</code>) - <code>--username</code> \u2014 Username (m\u1eb7c \u0111\u1ecbnh: <code>admin</code>) - <code>--password</code> \u2014 Password - <code>--insecure</code> \u2014 B\u1ecf qua SSL certificate verification (ch\u1ec9 cho dev)</p> <p>Production n\u00ean d\u00f9ng: <pre><code>argocd login argocd.example.com --sso\n</code></pre></p>"},{"location":"day-01/questions/#cau-16-oi-password-admin-bang-cli-nhu-the-nao","title":"C\u00e2u 16: \u0110\u1ed5i password admin b\u1eb1ng CLI nh\u01b0 th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code>argocd account update-password \\\n  --current-password &lt;OLD_PASSWORD&gt; \\\n  --new-password &lt;NEW_PASSWORD&gt;\n</code></pre> <p>L\u01b0u \u00fd quan tr\u1ecdng: - Ph\u1ea3i login tr\u01b0\u1edbc khi \u0111\u1ed5i password - Password m\u1edbi n\u00ean c\u00f3 \u00edt nh\u1ea5t 8 k\u00fd t\u1ef1 - Sau khi \u0111\u1ed5i, n\u00ean x\u00f3a initial admin secret:   <pre><code>kubectl delete secret argocd-initial-admin-secret -n argocd\n</code></pre></p>"},{"location":"day-01/questions/#cau-17-argocd-chay-bao-nhieu-pods-mac-inh","title":"C\u00e2u 17: ArgoCD ch\u1ea1y bao nhi\u00eau Pods m\u1eb7c \u0111\u1ecbnh?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>V\u1edbi c\u00e0i \u0111\u1eb7t non-HA (m\u1eb7c \u0111\u1ecbnh), ArgoCD ch\u1ea1y 7 Pods:</p> Pod Ch\u1ee9c n\u0103ng <code>argocd-server</code> API + UI server <code>argocd-repo-server</code> Clone v\u00e0 render Git repos <code>argocd-application-controller</code> Reconcile apps, sync/diff <code>argocd-applicationset-controller</code> Qu\u1ea3n l\u00fd ApplicationSets <code>argocd-redis</code> Cache <code>argocd-notifications-controller</code> Notifications <code>argocd-dex-server</code> SSO authentication <p>Ki\u1ec3m tra: <code>kubectl get pods -n argocd</code></p>"},{"location":"day-01/questions/#cau-18-kubectl-wait-forconditionready-dung-e-lam-gi","title":"C\u00e2u 18: <code>kubectl wait --for=condition=Ready</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code>kubectl wait --for=condition=Ready pods --all -n argocd --timeout=300s\n</code></pre> <p>Gi\u1ea3i th\u00edch: - <code>--for=condition=Ready</code> \u2014 Ch\u1edd cho \u0111\u1ebfn khi Pod \u1edf tr\u1ea1ng th\u00e1i Ready - <code>pods --all</code> \u2014 \u00c1p d\u1ee5ng cho t\u1ea5t c\u1ea3 pods - <code>-n argocd</code> \u2014 Trong namespace argocd - <code>--timeout=300s</code> \u2014 Timeout sau 5 ph\u00fat</p> <p>T\u1ea1i sao c\u1ea7n? ArgoCD c\u1ea7n 2-3 ph\u00fat \u0111\u1ec3 t\u1ea5t c\u1ea3 pods kh\u1edfi \u0111\u1ed9ng. L\u1ec7nh n\u00e0y block cho \u0111\u1ebfn khi ho\u00e0n t\u1ea5t, tr\u00e1nh vi\u1ec7c ch\u1ea1y l\u1ec7nh ti\u1ebfp theo khi pods ch\u01b0a s\u1eb5n s\u00e0ng.</p>"},{"location":"day-01/questions/#cau-19-su-khac-nhau-giua-installyaml-va-hainstallyaml","title":"C\u00e2u 19: S\u1ef1 kh\u00e1c nhau gi\u1eefa <code>install.yaml</code> v\u00e0 <code>ha/install.yaml</code>?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <code>install.yaml</code> (Non-HA) <code>ha/install.yaml</code> (HA) API Server 1 replica 3 replicas Controller 1 replica 1 replica (leader election) Redis Standalone Redis HA (Sentinel) Repo Server 1 replica 2 replicas Use case Dev, testing Production <p>HA mode \u0111\u1ea3m b\u1ea3o ArgoCD v\u1eabn ho\u1ea1t \u0111\u1ed9ng khi 1 pod b\u1ecb crash.</p>"},{"location":"day-01/questions/#cau-20-lam-sao-kiem-tra-version-argocd-ang-chay","title":"C\u00e2u 20: L\u00e0m sao ki\u1ec3m tra version ArgoCD \u0111ang ch\u1ea1y?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>CLI: <pre><code>argocd version\n</code></pre> Output g\u1ed3m c\u1ea3 client version v\u00e0 server version.</p> <p>Ch\u1ec9 client: <pre><code>argocd version --client\n</code></pre></p> <p>T\u1eeb API: <pre><code>curl -sk https://localhost:8080/api/version\n</code></pre></p> <p>T\u1eeb Pod image: <pre><code>kubectl get pods -n argocd -o jsonpath='{.items[0].spec.containers[0].image}'\n</code></pre></p>"},{"location":"day-01/questions/#phan-3-kien-truc-nang-cao-cau-21-30","title":"Ph\u1ea7n 3: Ki\u1ebfn tr\u00fac &amp; N\u00e2ng Cao (C\u00e2u 21-30)","text":""},{"location":"day-01/questions/#cau-21-application-controller-reconcile-loop-hoat-ong-nhu-the-nao","title":"C\u00e2u 21: Application Controller reconcile loop ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Application Controller ch\u1ea1y reconciliation loop li\u00ean t\u1ee5c:</p> <ol> <li>Fetch desired state \u2014 L\u1ea5y manifests t\u1eeb Git (qua Repository Server)</li> <li>Fetch live state \u2014 L\u1ea5y tr\u1ea1ng th\u00e1i th\u1ef1c t\u1ebf t\u1eeb K8s API</li> <li>Diff \u2014 So s\u00e1nh desired vs live state</li> <li>Report \u2014 C\u1eadp nh\u1eadt Sync Status (Synced/OutOfSync)</li> <li>Sync (n\u1ebfu Auto-sync) \u2014 Apply thay \u0111\u1ed5i l\u00ean cluster</li> </ol> <p>M\u1eb7c \u0111\u1ecbnh: Reconciliation ch\u1ea1y m\u1ed7i 3 ph\u00fat (configurable qua <code>timeout.reconciliation</code> trong <code>argocd-cm</code>).</p>"},{"location":"day-01/questions/#cau-22-repository-server-co-vai-tro-gi","title":"C\u00e2u 22: Repository Server c\u00f3 vai tr\u00f2 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Repository Server l\u00e0 th\u00e0nh ph\u1ea7n stateless ch\u1ecbu tr\u00e1ch nhi\u1ec7m:</p> <ol> <li>Clone Git repositories \u2014 L\u1ea5y source code/manifests</li> <li>Render manifests \u2014 Chuy\u1ec3n \u0111\u1ed5i Helm/Kustomize/Jsonnet th\u00e0nh plain YAML</li> <li>Cache \u2014 L\u01b0u cache rendered manifests trong Redis \u0111\u1ec3 t\u0103ng t\u1ed1c</li> </ol> <p>Quan tr\u1ecdng: Repo Server kh\u00f4ng l\u01b0u tr\u1ea1ng th\u00e1i. N\u00f3 ch\u1ec9 l\u00e0 \"factory\" t\u1ea1o ra YAML t\u1eeb source.</p> <p>Performance tip: M\u1ed7i l\u1ea7n Application Controller c\u1ea7n diff, n\u00f3 g\u1ecdi Repo Server. N\u1ebfu c\u00f3 nhi\u1ec1u apps \u2192 t\u0103ng replicas c\u1ee7a Repo Server.</p>"},{"location":"day-01/questions/#cau-23-redis-trong-argocd-dung-e-lam-gi","title":"C\u00e2u 23: Redis trong ArgoCD d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Redis \u0111\u01b0\u1ee3c d\u00f9ng l\u00e0m cache layer:</p> <ol> <li>Cache Git repo metadata \u2014 Tr\u00e1nh clone repo l\u1ea1i m\u1ed7i l\u1ea7n</li> <li>Cache rendered manifests \u2014 Tr\u00e1nh render Helm/Kustomize l\u1ea1i</li> <li>Cache App state \u2014 L\u01b0u tr\u1ea1ng th\u00e1i app t\u1ea1m th\u1eddi</li> <li>Pub/Sub \u2014 Giao ti\u1ebfp gi\u1eefa API Server v\u00e0 Controller</li> </ol> <p>N\u1ebfu Redis ch\u1ebft? ArgoCD v\u1eabn ho\u1ea1t \u0111\u1ed9ng nh\u01b0ng ch\u1eadm h\u01a1n v\u00ec m\u1ecdi th\u1ee9 ph\u1ea3i fetch/render l\u1ea1i t\u1eeb \u0111\u1ea7u.</p>"},{"location":"day-01/questions/#cau-24-dex-trong-argocd-la-gi","title":"C\u00e2u 24: Dex trong ArgoCD l\u00e0 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Dex l\u00e0 m\u1ed9t identity service (OIDC provider) t\u00edch h\u1ee3p s\u1eb5n trong ArgoCD, cho ph\u00e9p:</p> <ul> <li>\u0110\u0103ng nh\u1eadp qua GitHub, Google, LDAP, SAML, Okta m\u00e0 kh\u00f4ng c\u1ea7n t\u00edch h\u1ee3p tr\u1ef1c ti\u1ebfp</li> <li>Dex ho\u1ea1t \u0111\u1ed9ng nh\u01b0 proxy gi\u1eefa ArgoCD v\u00e0 identity provider b\u00ean ngo\u00e0i</li> </ul> <p>Flow: <pre><code>User \u2192 ArgoCD UI \u2192 Dex \u2192 Google/GitHub/LDAP \u2192 Token \u2192 ArgoCD\n</code></pre></p> <p>Khi n\u00e0o kh\u00f4ng c\u1ea7n Dex? Khi d\u00f9ng tr\u1ef1c ti\u1ebfp OIDC provider (vd: Okta, Auth0) m\u00e0 ArgoCD h\u1ed7 tr\u1ee3 native.</p>"},{"location":"day-01/questions/#cau-25-configmap-argocd-cm-dung-e-cau-hinh-gi","title":"C\u00e2u 25: ConfigMap <code>argocd-cm</code> d\u00f9ng \u0111\u1ec3 c\u1ea5u h\u00ecnh g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p><code>argocd-cm</code> l\u00e0 ConfigMap ch\u00ednh c\u1ee7a ArgoCD, c\u1ea5u h\u00ecnh:</p> Key M\u00f4 t\u1ea3 <code>url</code> URL c\u1ee7a ArgoCD server <code>oidc.config</code> OIDC/SSO configuration <code>dex.config</code> Dex identity provider config <code>repositories</code> Git repo credentials <code>accounts.&lt;name&gt;</code> Local user accounts <code>resource.customizations</code> Custom health checks <code>timeout.reconciliation</code> Reconciliation interval <code>kustomize.buildOptions</code> Kustomize build flags <p>V\u00ed d\u1ee5 th\u00eam local user: <pre><code>data:\n  accounts.developer: \"apiKey, login\"\n</code></pre></p>"},{"location":"day-01/questions/#cau-26-namespace-nao-argocd-tao-khi-cai-at","title":"C\u00e2u 26: Namespace n\u00e0o ArgoCD t\u1ea1o khi c\u00e0i \u0111\u1eb7t?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>ArgoCD ch\u1ec9 t\u1ea1o 1 namespace: <code>argocd</code> (n\u1ebfu b\u1ea1n d\u00f9ng <code>--create-namespace</code> v\u1edbi Helm).</p> <p>V\u1edbi plain manifest, b\u1ea1n ph\u1ea3i t\u1ef1 t\u1ea1o: <code>kubectl create namespace argocd</code>.</p> <p>L\u01b0u \u00fd: ArgoCD kh\u00f4ng t\u1ea1o namespace cho \u1ee9ng d\u1ee5ng. B\u1ea1n c\u1ea7n: - T\u1ea1o namespace tr\u01b0\u1edbc: <code>kubectl create namespace my-app</code> - Ho\u1eb7c d\u00f9ng syncOption: <code>CreateNamespace=true</code></p>"},{"location":"day-01/questions/#cau-27-crd-custom-resource-definition-nao-argocd-tao","title":"C\u00e2u 27: CRD (Custom Resource Definition) n\u00e0o ArgoCD t\u1ea1o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>ArgoCD t\u1ea1o 4 CRDs ch\u00ednh:</p> CRD M\u00f4 t\u1ea3 <code>applications.argoproj.io</code> \u0110\u1ecbnh ngh\u0129a Application <code>applicationsets.argoproj.io</code> \u0110\u1ecbnh ngh\u0129a ApplicationSet <code>appprojects.argoproj.io</code> \u0110\u1ecbnh ngh\u0129a Project <code>applicationsetpolicies.argoproj.io</code> Policies cho ApplicationSet <p>Ki\u1ec3m tra: <pre><code>kubectl get crd | grep argoproj\n</code></pre></p>"},{"location":"day-01/questions/#cau-28-argocd-ho-tro-nhung-loai-manifest-nao","title":"C\u00e2u 28: ArgoCD h\u1ed7 tr\u1ee3 nh\u1eefng lo\u1ea1i manifest n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>ArgoCD h\u1ed7 tr\u1ee3 7 lo\u1ea1i manifest source:</p> <ol> <li>Plain YAML/JSON \u2014 Kubernetes manifests thu\u1ea7n</li> <li>Helm Charts \u2014 T\u1eeb Helm repo ho\u1eb7c Git</li> <li>Kustomize \u2014 Kustomization.yaml</li> <li>Jsonnet \u2014 Jsonnet files</li> <li>Plugin \u2014 Custom config management plugin</li> <li>Directory \u2014 Th\u01b0 m\u1ee5c ch\u1ee9a nhi\u1ec1u YAML files</li> <li>OCI Helm \u2014 Helm charts t\u1eeb OCI registry</li> </ol> <p>ArgoCD t\u1ef1 detect lo\u1ea1i manifest d\u1ef1a tr\u00ean n\u1ed9i dung th\u01b0 m\u1ee5c (c\u00f3 <code>Chart.yaml</code> \u2192 Helm, c\u00f3 <code>kustomization.yaml</code> \u2192 Kustomize, v.v.)</p>"},{"location":"day-01/questions/#cau-29-health-check-trong-argocd-hoat-ong-nhu-the-nao","title":"C\u00e2u 29: Health check trong ArgoCD ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>ArgoCD t\u1ef1 \u0111\u1ed9ng ki\u1ec3m tra health c\u1ee7a m\u1ed7i resource:</p> Resource Healthy khi Deployment T\u1ea5t c\u1ea3 replicas available StatefulSet T\u1ea5t c\u1ea3 replicas ready DaemonSet Desired = Current = Ready Service Lu\u00f4n Healthy Ingress C\u00f3 address assigned PVC Status = Bound Pod Phase = Running + containers ready <p>Health Statuses: - \ud83d\udfe2 Healthy \u2014 Resource ho\u1ea1t \u0111\u1ed9ng b\u00ecnh th\u01b0\u1eddng - \ud83d\udfe1 Progressing \u2014 \u0110ang c\u1eadp nh\u1eadt - \ud83d\udd34 Degraded \u2014 C\u00f3 l\u1ed7i - \u26aa Suspended \u2014 T\u1ea1m d\u1eebng - \u2753 Missing \u2014 Resource ch\u01b0a t\u1ed3n t\u1ea1i - \u2753 Unknown \u2014 Kh\u00f4ng x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c</p>"},{"location":"day-01/questions/#cau-30-lam-sao-xoa-hoan-toan-argocd-khoi-cluster","title":"C\u00e2u 30: L\u00e0m sao x\u00f3a ho\u00e0n to\u00e0n ArgoCD kh\u1ecfi cluster?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code># B\u01b0\u1edbc 1: X\u00f3a t\u1ea5t c\u1ea3 ArgoCD Applications tr\u01b0\u1edbc\nargocd app list -o name | xargs -I {} argocd app delete {} --cascade\n\n# B\u01b0\u1edbc 2: X\u00f3a ArgoCD components\nkubectl delete -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n\n# B\u01b0\u1edbc 3: X\u00f3a CRDs\nkubectl delete crd applications.argoproj.io\nkubectl delete crd applicationsets.argoproj.io\nkubectl delete crd appprojects.argoproj.io\n\n# B\u01b0\u1edbc 4: X\u00f3a namespace\nkubectl delete namespace argocd\n</code></pre> <p>\u26a0\ufe0f C\u1ea9n th\u1eadn: N\u1ebfu Application c\u00f3 <code>finalizer</code>, x\u00f3a ArgoCD tr\u01b0\u1edbc khi x\u00f3a Applications s\u1ebd g\u00e2y stuck resources. Lu\u00f4n x\u00f3a Applications tr\u01b0\u1edbc!</p>"},{"location":"day-01/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 1: Login &amp; \u0110\u1ed5i Password Admin","text":""},{"location":"day-01/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>Login v\u00e0o ArgoCD UI th\u00e0nh c\u00f4ng</li> <li>Login v\u00e0o ArgoCD CLI th\u00e0nh c\u00f4ng</li> <li>\u0110\u1ed5i m\u1eadt kh\u1ea9u admin qua CLI</li> </ul>"},{"location":"day-01/exercises/exercise/#bai-tap-1-login-vao-ui","title":"B\u00e0i t\u1eadp 1: Login v\u00e0o UI","text":"<ol> <li>M\u1edf terminal v\u00e0 ch\u1ea1y port-forward:    <pre><code>kubectl port-forward svc/argocd-server -n argocd 8080:443 &amp;\n</code></pre></li> <li>M\u1edf tr\u00ecnh duy\u1ec7t, truy c\u1eadp <code>https://localhost:8080</code></li> <li>Ch\u1ea5p nh\u1eadn certificate t\u1ef1 k\u00fd (self-signed)</li> <li>\u0110\u0103ng nh\u1eadp v\u1edbi username <code>admin</code> v\u00e0 password l\u1ea5y t\u1eeb script</li> </ol> <p>\ud83d\udcf8 Ch\u1ee5p \u1ea3nh m\u00e0n h\u00ecnh dashboard ArgoCD sau khi login th\u00e0nh c\u00f4ng</p>"},{"location":"day-01/exercises/exercise/#bai-tap-2-login-vao-cli-oi-password","title":"B\u00e0i t\u1eadp 2: Login v\u00e0o CLI &amp; \u0110\u1ed5i Password","text":"<ol> <li> <p>L\u1ea5y m\u1eadt kh\u1ea9u admin:    <pre><code>./scripts/get-admin-password.sh\n</code></pre></p> </li> <li> <p>Login qua CLI:    <pre><code>argocd login localhost:8080 --username admin --password &lt;PASSWORD&gt; --insecure\n</code></pre></p> </li> <li> <p>\u0110\u1ed5i m\u1eadt kh\u1ea9u admin:    <pre><code>argocd account update-password \\\n  --current-password &lt;OLD_PASSWORD&gt; \\\n  --new-password &lt;NEW_PASSWORD&gt;\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra login l\u1ea1i v\u1edbi m\u1eadt kh\u1ea9u m\u1edbi:    <pre><code>argocd login localhost:8080 --username admin --password &lt;NEW_PASSWORD&gt; --insecure\n</code></pre></p> </li> </ol>"},{"location":"day-01/exercises/exercise/#bai-tap-3-kham-pha-argocd-cli","title":"B\u00e0i t\u1eadp 3: Kh\u00e1m ph\u00e1 ArgoCD CLI","text":"<p>Ch\u1ea1y c\u00e1c l\u1ec7nh sau v\u00e0 ghi ch\u00fa k\u1ebft qu\u1ea3:</p> <pre><code># Xem version\nargocd version\n\n# Xem danh s\u00e1ch cluster \u0111ang qu\u1ea3n l\u00fd\nargocd cluster list\n\n# Xem danh s\u00e1ch repository (ch\u01b0a c\u00f3)\nargocd repo list\n\n# Xem danh s\u00e1ch application (ch\u01b0a c\u00f3)\nargocd app list\n\n# Xem th\u00f4ng tin t\u00e0i kho\u1ea3n hi\u1ec7n t\u1ea1i\nargocd account get-user-info\n</code></pre>"},{"location":"day-01/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] Login v\u00e0o ArgoCD UI th\u00e0nh c\u00f4ng</li> <li>[ ] Login v\u00e0o ArgoCD CLI th\u00e0nh c\u00f4ng</li> <li>[ ] \u0110\u1ed5i m\u1eadt kh\u1ea9u admin th\u00e0nh c\u00f4ng</li> <li>[ ] Ch\u1ea1y \u0111\u01b0\u1ee3c c\u00e1c l\u1ec7nh CLI c\u01a1 b\u1ea3n</li> <li>[ ] Ch\u1ea1y <code>scripts/verify.sh</code> th\u00e0nh c\u00f4ng (t\u1ea5t c\u1ea3 passed)</li> </ul>"},{"location":"day-02/","title":"\ud83d\udcc5 Ng\u00e0y 2: K\u1ebft N\u1ed1i Repository &amp; \u1ee8ng D\u1ee5ng \u0110\u1ea7u Ti\u00ean","text":""},{"location":"day-02/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u kh\u00e1i ni\u1ec7m \"Application\" trong ArgoCD</li> <li>K\u1ebft n\u1ed1i Git repository (Public &amp; Private)</li> <li>Deploy \u1ee9ng d\u1ee5ng Nginx \u0111\u1ea7u ti\u00ean qua ArgoCD</li> </ul>"},{"location":"day-02/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-02/#application-trong-argocd","title":"Application trong ArgoCD","text":"<p>Application l\u00e0 \u0111\u01a1n v\u1ecb c\u01a1 b\u1ea3n nh\u1ea5t trong ArgoCD. N\u00f3 \u0111\u1ecbnh ngh\u0129a:</p> Th\u00e0nh ph\u1ea7n M\u00f4 t\u1ea3 Source Git repo + path ch\u1ee9a manifests Destination Cluster + namespace \u0111\u1ec3 deploy Sync Policy Manual hay Automatic <pre><code># C\u1ea5u tr\u00fac c\u01a1 b\u1ea3n c\u1ee7a m\u1ed9t Application\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: my-app\n  namespace: argocd\nspec:\n  source:\n    repoURL: https://github.com/user/repo.git   # L\u1ea5y YAML t\u1eeb \u0111\u00e2u?\n    targetRevision: HEAD                          # Branch n\u00e0o?\n    path: manifests                               # Th\u01b0 m\u1ee5c n\u00e0o?\n  destination:\n    server: https://kubernetes.default.svc        # Deploy l\u00ean cluster n\u00e0o?\n    namespace: default                            # Namespace n\u00e0o?\n</code></pre>"},{"location":"day-02/#application-states-trang-thai","title":"Application States (Tr\u1ea1ng th\u00e1i)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    ArgoCD App States                         \u2502\n\u2502                                                              \u2502\n\u2502  Sync Status:                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Synced   \u2502  \u2502 OutOfSync     \u2502  \u2502 Unknown               \u2502  \u2502\n\u2502  \u2502 (Git=K8s)\u2502  \u2502 (Git\u2260K8s)     \u2502  \u2502 (Ch\u01b0a bi\u1ebft)           \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                              \u2502\n\u2502  Health Status:                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Healthy  \u2502  \u2502 Progressing   \u2502  \u2502 Degraded              \u2502  \u2502\n\u2502  \u2502 (OK)     \u2502  \u2502 (\u0110ang ch\u1ea1y)   \u2502  \u2502 (C\u00f3 l\u1ed7i)              \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-02/#webhook-vs-polling","title":"Webhook vs Polling","text":"Webhook Polling C\u00e1ch ho\u1ea1t \u0111\u1ed9ng GitHub g\u1eedi th\u00f4ng b\u00e1o khi c\u00f3 push ArgoCD t\u1ef1 ki\u1ec3m tra Git m\u1ed7i 3 ph\u00fat T\u1ed1c \u0111\u1ed9 G\u1ea7n nh\u01b0 t\u1ee9c th\u00ec Delay t\u1ed1i \u0111a 3 ph\u00fat Setup C\u1ea7n c\u1ea5u h\u00ecnh webhook tr\u00ean GitHub M\u1eb7c \u0111\u1ecbnh, kh\u00f4ng c\u1ea7n c\u1ea5u h\u00ecnh Khi n\u00e0o n\u00ean d\u00f9ng Production Development/Learning"},{"location":"day-02/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-02/#buoc-1-chuan-bi-manifests-ung-dung","title":"B\u01b0\u1edbc 1: Chu\u1ea9n b\u1ecb manifests \u1ee9ng d\u1ee5ng","text":"<p>Trong th\u01b0 m\u1ee5c n\u00e0y \u0111\u00e3 c\u00f3 s\u1eb5n c\u00e1c file manifests cho \u1ee9ng d\u1ee5ng Nginx:</p> <pre><code># Xem c\u1ea5u tr\u00fac\nls manifests/\n# namespace.yaml  deployment.yaml  service.yaml\n</code></pre>"},{"location":"day-02/#buoc-2-push-manifests-len-git","title":"B\u01b0\u1edbc 2: Push manifests l\u00ean Git","text":"<pre><code># T\u1ea1o m\u1ed9t repo m\u1edbi tr\u00ean GitHub (v\u00ed d\u1ee5: argocd-demo-app)\n# Sau \u0111\u00f3 push c\u00e1c file manifests l\u00ean\n\nmkdir -p /tmp/argocd-demo-app/manifests\ncp manifests/* /tmp/argocd-demo-app/manifests/\n\ncd /tmp/argocd-demo-app\ngit init\ngit add .\ngit commit -m \"Initial commit: Nginx app manifests\"\ngit remote add origin https://github.com/&lt;YOUR_USERNAME&gt;/argocd-demo-app.git\ngit push -u origin main\n</code></pre>"},{"location":"day-02/#buoc-3-tao-application-tren-argocd","title":"B\u01b0\u1edbc 3: T\u1ea1o Application tr\u00ean ArgoCD","text":"<p>C\u00e1ch 1: Qua CLI <pre><code>argocd app create nginx-demo \\\n  --repo https://github.com/&lt;YOUR_USERNAME&gt;/argocd-demo-app.git \\\n  --path manifests \\\n  --dest-server https://kubernetes.default.svc \\\n  --dest-namespace demo-app\n</code></pre></p> <p>C\u00e1ch 2: Qua YAML (khuy\u1ebfn ngh\u1ecb) <pre><code># S\u1eeda file argocd/application.yaml v\u1edbi repo URL c\u1ee7a b\u1ea1n\nkubectl apply -f argocd/application.yaml\n</code></pre></p> <p>C\u00e1ch 3: Qua UI 1. M\u1edf ArgoCD UI \u2192 Click \"+ NEW APP\" 2. \u0110i\u1ec1n th\u00f4ng tin:    - Application Name: <code>nginx-demo</code>    - Project: <code>default</code>    - Repository URL: <code>https://github.com/&lt;YOUR_USERNAME&gt;/argocd-demo-app.git</code>    - Path: <code>manifests</code>    - Cluster: <code>https://kubernetes.default.svc</code>    - Namespace: <code>demo-app</code> 3. Click CREATE</p>"},{"location":"day-02/#buoc-4-sync-application","title":"B\u01b0\u1edbc 4: Sync Application","text":"<pre><code># Sync qua CLI\nargocd app sync nginx-demo\n\n# Ho\u1eb7c click \"SYNC\" tr\u00ean UI\n\n# Ki\u1ec3m tra tr\u1ea1ng th\u00e1i\nargocd app get nginx-demo\nkubectl get all -n demo-app\n</code></pre>"},{"location":"day-02/#buoc-5-ket-noi-private-repository-nang-cao","title":"B\u01b0\u1edbc 5: K\u1ebft n\u1ed1i Private Repository (N\u00e2ng cao)","text":"<pre><code># K\u1ebft n\u1ed1i repo private b\u1eb1ng HTTPS + token\nargocd repo add https://github.com/&lt;YOUR_USERNAME&gt;/private-repo.git \\\n  --username &lt;USERNAME&gt; \\\n  --password &lt;GITHUB_TOKEN&gt;\n\n# Ho\u1eb7c b\u1eb1ng SSH key\nargocd repo add git@github.com:&lt;YOUR_USERNAME&gt;/private-repo.git \\\n  --ssh-private-key-path ~/.ssh/id_rsa\n</code></pre>"},{"location":"day-02/#faq","title":"\u2753 FAQ","text":""},{"location":"day-02/#q-lam-sao-e-argocd-tu-ong-nhan-dien-thay-oi-code","title":"Q: L\u00e0m sao \u0111\u1ec3 ArgoCD t\u1ef1 \u0111\u1ed9ng nh\u1eadn di\u1ec7n thay \u0111\u1ed5i code?","text":"<p>A: C\u00f3 2 c\u00e1ch: - Polling (m\u1eb7c \u0111\u1ecbnh): ArgoCD ki\u1ec3m tra Git m\u1ed7i 3 ph\u00fat. C\u1ea5u h\u00ecnh th\u1eddi gian trong <code>argocd-cm</code> ConfigMap. - Webhook: GitHub g\u1eedi notification khi c\u00f3 push. Setup nhanh h\u01a1n polling.</p>"},{"location":"day-02/#q-application-bi-unknown-status-la-sao","title":"Q: Application b\u1ecb \"Unknown\" status l\u00e0 sao?","text":"<p>A: Th\u01b0\u1eddng do ArgoCD ch\u01b0a k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c Git repo ho\u1eb7c path sai. Ki\u1ec3m tra l\u1ea1i URL repo v\u00e0 path.</p>"},{"location":"day-02/#q-co-the-deploy-nhieu-application-tu-cung-1-repo-khong","title":"Q: C\u00f3 th\u1ec3 deploy nhi\u1ec1u Application t\u1eeb c\u00f9ng 1 repo kh\u00f4ng?","text":"<p>A: C\u00f3! M\u1ed7i Application tr\u1ecf \u0111\u1ebfn m\u1ed9t <code>path</code> kh\u00e1c nhau trong c\u00f9ng repo.</p>"},{"location":"day-02/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 01 \u2014 Nh\u1eadp m\u00f4n GitOps &amp; C\u00e0i \u0111\u1eb7t ArgoCD \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 03 \u2014 Sync Strategies &amp; Ph\u1ee5c h\u1ed3i s\u1ef1 c\u1ed1</p>"},{"location":"day-02/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 2: K\u1ebft N\u1ed1i Repository &amp; \u1ee8ng D\u1ee5ng \u0110\u1ea7u Ti\u00ean","text":""},{"location":"day-02/questions/#phan-1-application-concepts-cau-1-10","title":"Ph\u1ea7n 1: Application Concepts (C\u00e2u 1-10)","text":""},{"location":"day-02/questions/#cau-1-application-trong-argocd-gom-nhung-thanh-phan-cau-hinh-chinh-nao","title":"C\u00e2u 1: Application trong ArgoCD g\u1ed3m nh\u1eefng th\u00e0nh ph\u1ea7n c\u1ea5u h\u00ecnh ch\u00ednh n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>M\u1ed9t Application trong ArgoCD g\u1ed3m 3 th\u00e0nh ph\u1ea7n ch\u00ednh:</p> <ol> <li>Source \u2014 N\u01a1i l\u1ea5y manifests</li> <li><code>repoURL</code> \u2014 URL Git repo ho\u1eb7c Helm repo</li> <li><code>targetRevision</code> \u2014 Branch/tag/commit</li> <li> <p><code>path</code> \u2014 Th\u01b0 m\u1ee5c ch\u1ee9a manifests</p> </li> <li> <p>Destination \u2014 N\u01a1i deploy</p> </li> <li><code>server</code> \u2014 URL c\u1ee7a K8s cluster</li> <li> <p><code>namespace</code> \u2014 Namespace \u0111\u00edch</p> </li> <li> <p>Sync Policy \u2014 Ch\u00ednh s\u00e1ch \u0111\u1ed3ng b\u1ed9</p> </li> <li>Manual ho\u1eb7c Automated</li> <li>selfHeal, prune options</li> </ol> <pre><code>spec:\n  source:\n    repoURL: https://github.com/user/repo.git\n    path: manifests\n    targetRevision: HEAD\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: my-app\n</code></pre>"},{"location":"day-02/questions/#cau-2-targetrevision-head-nghia-la-gi","title":"C\u00e2u 2: <code>targetRevision: HEAD</code> ngh\u0129a l\u00e0 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p><code>HEAD</code> tr\u1ecf \u0111\u1ebfn commit m\u1edbi nh\u1ea5t tr\u00ean branch m\u1eb7c \u0111\u1ecbnh (th\u01b0\u1eddng l\u00e0 <code>main</code> ho\u1eb7c <code>master</code>).</p> <p>C\u00e1c gi\u00e1 tr\u1ecb kh\u1ea3 d\u1ee5ng cho targetRevision: | Gi\u00e1 tr\u1ecb | M\u00f4 t\u1ea3 | |---------|--------| | <code>HEAD</code> | Commit m\u1edbi nh\u1ea5t tr\u00ean default branch | | <code>main</code> | Branch <code>main</code> | | <code>v1.0.0</code> | Tag c\u1ee5 th\u1ec3 | | <code>abc123</code> | Commit hash c\u1ee5 th\u1ec3 | | <code>refs/heads/feature-x</code> | Branch c\u1ee5 th\u1ec3 |</p> <p>Best practice production: D\u00f9ng tag ho\u1eb7c commit hash thay v\u00ec <code>HEAD</code> \u0111\u1ec3 tr\u00e1nh deploy code ch\u01b0a tested.</p>"},{"location":"day-02/questions/#cau-3-mo-ta-3-cach-tao-application-tren-argocd","title":"C\u00e2u 3: M\u00f4 t\u1ea3 3 c\u00e1ch t\u1ea1o Application tr\u00ean ArgoCD?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>C\u00e1ch 1: CLI <pre><code>argocd app create my-app \\\n  --repo https://github.com/user/repo.git \\\n  --path manifests \\\n  --dest-server https://kubernetes.default.svc \\\n  --dest-namespace default\n</code></pre></p> <p>C\u00e1ch 2: YAML manifest <pre><code>kubectl apply -f application.yaml\n</code></pre></p> <p>C\u00e1ch 3: Web UI 1. Click \"+ NEW APP\" 2. \u0110i\u1ec1n form 3. Click \"CREATE\"</p> <p>Best practice: D\u00f9ng YAML manifest v\u00ec c\u00f3 th\u1ec3 version control trong Git (GitOps cho ch\u00ednh ArgoCD!).</p>"},{"location":"day-02/questions/#cau-4-httpskubernetesdefaultsvc-la-gi","title":"C\u00e2u 4: <code>https://kubernetes.default.svc</code> l\u00e0 g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>\u0110\u00e2y l\u00e0 internal DNS c\u1ee7a Kubernetes API server, \u0111\u01b0\u1ee3c resolve b\u1edfi CoreDNS trong cluster.</p> <p>\u00dd ngh\u0129a: - <code>kubernetes</code> \u2014 Service name - <code>default</code> \u2014 Namespace - <code>svc</code> \u2014 Service DNS suffix - \u2192 Tr\u1ecf \u0111\u1ebfn cluster m\u00e0 ArgoCD \u0111ang ch\u1ea1y (in-cluster)</p> <p>Khi n\u00e0o d\u00f9ng URL kh\u00e1c? - Deploy l\u00ean cluster kh\u00e1c (external cluster) - URL l\u1ea5y t\u1eeb <code>argocd cluster list</code></p>"},{"location":"day-02/questions/#cau-5-sync-status-co-nhung-trang-thai-nao","title":"C\u00e2u 5: Sync Status c\u00f3 nh\u1eefng tr\u1ea1ng th\u00e1i n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Status \u00dd ngh\u0129a Icon Synced Git state = Cluster state \ud83d\udfe2 OutOfSync Git state \u2260 Cluster state \ud83d\udfe1 Unknown Kh\u00f4ng x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c (th\u01b0\u1eddng do l\u1ed7i k\u1ebft n\u1ed1i Git) \u2753 <p>OutOfSync x\u1ea3y ra khi: 1. C\u00f3 commit m\u1edbi tr\u00ean Git nh\u01b0ng ch\u01b0a sync 2. Ai \u0111\u00f3 <code>kubectl edit</code> tr\u1ef1c ti\u1ebfp tr\u00ean cluster 3. Application v\u1eeba \u0111\u01b0\u1ee3c t\u1ea1o nh\u01b0ng ch\u01b0a sync l\u1ea7n \u0111\u1ea7u</p>"},{"location":"day-02/questions/#cau-6-health-status-co-nhung-trang-thai-nao","title":"C\u00e2u 6: Health Status c\u00f3 nh\u1eefng tr\u1ea1ng th\u00e1i n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Status \u00dd ngh\u0129a Healthy T\u1ea5t c\u1ea3 resources \u0111ang ho\u1ea1t \u0111\u1ed9ng b\u00ecnh th\u01b0\u1eddng Progressing C\u00f3 resources \u0111ang c\u1eadp nh\u1eadt (pods starting) Degraded C\u00f3 resources b\u1ecb l\u1ed7i (CrashLoopBackOff, etc.) Suspended Resources \u0111ang b\u1ecb t\u1ea1m d\u1eebng (scaled to 0) Missing Resources ch\u01b0a t\u1ed3n t\u1ea1i tr\u00ean cluster Unknown Kh\u00f4ng x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c health <p>Healthy = t\u1ea5t c\u1ea3 Deployment available, Pods running, Services active.</p>"},{"location":"day-02/questions/#cau-7-argocd-app-sync-va-argocd-app-refresh-khac-nhau-the-nao","title":"C\u00e2u 7: <code>argocd app sync</code> v\u00e0 <code>argocd app refresh</code> kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n L\u1ec7nh Ch\u1ee9c n\u0103ng <code>argocd app refresh &lt;app&gt;</code> Ki\u1ec3m tra Git xem c\u00f3 thay \u0111\u1ed5i g\u00ec m\u1edbi kh\u00f4ng (ch\u1ec9 detect, kh\u00f4ng apply) <code>argocd app sync &lt;app&gt;</code> Apply thay \u0111\u1ed5i t\u1eeb Git l\u00ean cluster (th\u1ef1c s\u1ef1 deploy) <p>Flow: <pre><code>refresh \u2192 detect OutOfSync \u2192 sync \u2192 apply changes \u2192 Synced\n</code></pre></p> <p><code>refresh</code> gi\u1ed1ng \"ki\u1ec3m tra email\", <code>sync</code> gi\u1ed1ng \"reply email\".</p>"},{"location":"day-02/questions/#cau-8-sync-option-createnamespacetrue-dung-e-lam-gi","title":"C\u00e2u 8: Sync Option <code>CreateNamespace=true</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Khi Application deploy v\u00e0o namespace ch\u01b0a t\u1ed3n t\u1ea1i, ArgoCD m\u1eb7c \u0111\u1ecbnh s\u1ebd b\u00e1o l\u1ed7i. Option <code>CreateNamespace=true</code> b\u1ea3o ArgoCD t\u1ef1 t\u1ea1o namespace n\u1ebfu ch\u01b0a c\u00f3.</p> <pre><code>syncPolicy:\n  syncOptions:\n    - CreateNamespace=true\n</code></pre> <p>Khi n\u00e0o n\u00ean b\u1eadt? - \u2705 Dev/staging environments - \u26a0\ufe0f Production \u2014 c\u00e2n nh\u1eafc, c\u00f3 th\u1ec3 mu\u1ed1n t\u1ea1o namespace manually v\u1edbi labels/annotations c\u1ee5 th\u1ec3</p>"},{"location":"day-02/questions/#cau-9-lam-sao-xem-chi-tiet-trang-thai-cua-mot-application","title":"C\u00e2u 9: L\u00e0m sao xem chi ti\u1ebft tr\u1ea1ng th\u00e1i c\u1ee7a m\u1ed9t Application?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>CLI: <pre><code># T\u1ed5ng quan\nargocd app get &lt;app-name&gt;\n\n# Chi ti\u1ebft resources\nargocd app get &lt;app-name&gt; --show-operation\n\n# Xem diff (Git vs Cluster)\nargocd app diff &lt;app-name&gt;\n\n# Xem logs\nargocd app logs &lt;app-name&gt;\n\n# Xem resource tree\nargocd app resources &lt;app-name&gt;\n</code></pre></p> <p>UI: Click v\u00e0o app \u2192 th\u1ea5y resource tree, health status, sync history, logs.</p>"},{"location":"day-02/questions/#cau-10-lenh-nao-xoa-mot-application","title":"C\u00e2u 10: L\u1ec7nh n\u00e0o x\u00f3a m\u1ed9t Application?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code># X\u00f3a app + Resources tr\u00ean cluster (cascade delete)\nargocd app delete &lt;app-name&gt;\n\n# X\u00f3a app nh\u01b0ng GI\u1eee resources tr\u00ean cluster\nargocd app delete &lt;app-name&gt; --cascade=false\n</code></pre> <p><code>--cascade</code> (m\u1eb7c \u0111\u1ecbnh: true): - <code>true</code> \u2014 X\u00f3a Application + t\u1ea5t c\u1ea3 K8s resources n\u00f3 t\u1ea1o ra - <code>false</code> \u2014 Ch\u1ec9 x\u00f3a Application object, resources v\u1eabn ch\u1ea1y (orphaned)</p> <p>Khi n\u00e0o d\u00f9ng <code>--cascade=false</code>? Khi mu\u1ed1n chuy\u1ec3n app sang qu\u1ea3n l\u00fd b\u1edfi tool kh\u00e1c/manual m\u00e0 kh\u00f4ng mu\u1ed1n downtime.</p>"},{"location":"day-02/questions/#phan-2-repository-ket-noi-cau-11-20","title":"Ph\u1ea7n 2: Repository &amp; K\u1ebft N\u1ed1i (C\u00e2u 11-20)","text":""},{"location":"day-02/questions/#cau-11-argocd-ho-tro-nhung-loai-repository-nao","title":"C\u00e2u 11: ArgoCD h\u1ed7 tr\u1ee3 nh\u1eefng lo\u1ea1i repository n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <ol> <li>Git Repository (HTTPS ho\u1eb7c SSH)</li> <li>Public repo: kh\u00f4ng c\u1ea7n credentials</li> <li> <p>Private repo: username/password, SSH key, ho\u1eb7c GitHub App</p> </li> <li> <p>Helm Repository</p> </li> <li>Public: <code>https://charts.bitnami.com/bitnami</code></li> <li> <p>Private: c\u1ea7n username/password</p> </li> <li> <p>OCI Registry (Helm OCI)</p> </li> <li><code>oci://registry.example.com/charts</code></li> </ol> <pre><code># Th\u00eam Git repo\nargocd repo add https://github.com/user/repo.git\n\n# Th\u00eam Helm repo\nargocd repo add https://charts.bitnami.com/bitnami --type helm --name bitnami\n</code></pre>"},{"location":"day-02/questions/#cau-12-ket-noi-private-git-repo-bang-https-can-gi","title":"C\u00e2u 12: K\u1ebft n\u1ed1i private Git repo b\u1eb1ng HTTPS c\u1ea7n g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>C\u1ea7n username + personal access token (kh\u00f4ng d\u00f9ng password th\u1eadt):</p> <pre><code>argocd repo add https://github.com/user/private-repo.git \\\n  --username &lt;USERNAME&gt; \\\n  --password &lt;GITHUB_TOKEN&gt;\n</code></pre> <p>T\u1ea1o GitHub Token: 1. GitHub \u2192 Settings \u2192 Developer Settings 2. Personal Access Tokens \u2192 Fine-grained tokens 3. Permissions: Repository \u2192 Contents \u2192 Read-only</p> <p>ArgoCD l\u01b0u credentials \u1edf \u0111\u00e2u? Trong Kubernetes Secret <code>repo-&lt;hash&gt;</code> trong namespace <code>argocd</code>.</p>"},{"location":"day-02/questions/#cau-13-ket-noi-private-git-repo-bang-ssh-key-can-gi","title":"C\u00e2u 13: K\u1ebft n\u1ed1i private Git repo b\u1eb1ng SSH key c\u1ea7n g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code>argocd repo add git@github.com:user/private-repo.git \\\n  --ssh-private-key-path ~/.ssh/id_rsa\n</code></pre> <p>C\u00e1c b\u01b0\u1edbc: 1. Generate SSH key: <code>ssh-keygen -t ed25519 -f ~/.ssh/argocd</code> 2. Th\u00eam public key v\u00e0o GitHub: Settings \u2192 SSH Keys 3. Th\u00eam private key v\u00e0o ArgoCD b\u1eb1ng l\u1ec7nh tr\u00ean</p> <p>L\u01b0u \u00fd: ArgoCD l\u01b0u SSH key trong K8s Secret \u2192 n\u00ean d\u00f9ng deploy key (read-only, per-repo) thay v\u00ec personal SSH key.</p>"},{"location":"day-02/questions/#cau-14-webhook-va-polling-khac-nhau-the-nao","title":"C\u00e2u 14: Webhook v\u00e0 Polling kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Webhook Polling C\u00e1ch ho\u1ea1t \u0111\u1ed9ng GitHub g\u1eedi HTTP POST khi c\u00f3 push ArgoCD t\u1ef1 ki\u1ec3m tra Git \u0111\u1ecbnh k\u1ef3 T\u1ed1c \u0111\u1ed9 G\u1ea7n nh\u01b0 t\u1ee9c th\u00ec (~1-2 gi\u00e2y) Delay t\u1ed1i \u0111a 3 ph\u00fat C\u1ea5u h\u00ecnh C\u1ea7n expose ArgoCD + setup webhook tr\u00ean GitHub Kh\u00f4ng c\u1ea7n c\u1ea5u h\u00ecnh (m\u1eb7c \u0111\u1ecbnh) Firewall ArgoCD ph\u1ea3i accessible t\u1eeb internet ArgoCD ch\u1ec9 c\u1ea7n k\u1ebft n\u1ed1i ra ngo\u00e0i Reliability Webhook c\u00f3 th\u1ec3 miss (HTTP timeout) Lu\u00f4n ho\u1ea1t \u0111\u1ed9ng <p>Best practice: D\u00f9ng c\u1ea3 hai \u2014 Webhook cho t\u1ed1c \u0111\u1ed9, Polling l\u00e0m safety net.</p>"},{"location":"day-02/questions/#cau-15-polling-interval-mac-inh-la-bao-lau-thay-oi-the-nao","title":"C\u00e2u 15: Polling interval m\u1eb7c \u0111\u1ecbnh l\u00e0 bao l\u00e2u? Thay \u0111\u1ed5i th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>M\u1eb7c \u0111\u1ecbnh: 3 ph\u00fat (180 gi\u00e2y)</p> <p>Thay \u0111\u1ed5i qua ConfigMap: <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: argocd-cm\n  namespace: argocd\ndata:\n  timeout.reconciliation: \"60s\"   # Gi\u1ea3m xu\u1ed1ng 1 ph\u00fat\n</code></pre></p> <p>Ho\u1eb7c t\u1eaft polling ho\u00e0n to\u00e0n: <pre><code>data:\n  timeout.reconciliation: \"0\"   # Ch\u1ec9 d\u00f9ng webhook\n</code></pre></p> <p>\u26a0\ufe0f Gi\u1ea3m interval = t\u0103ng load tr\u00ean Git server. N\u1ebfu c\u00f3 nhi\u1ec1u apps, n\u00ean d\u00f9ng webhook thay v\u00ec gi\u1ea3m interval.</p>"},{"location":"day-02/questions/#cau-16-cau-hinh-webhook-cho-github-nhu-the-nao","title":"C\u00e2u 16: C\u1ea5u h\u00ecnh webhook cho GitHub nh\u01b0 th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <ol> <li>Tr\u00ean GitHub:</li> <li>Repo \u2192 Settings \u2192 Webhooks \u2192 Add webhook</li> <li>Payload URL: <code>https://&lt;ARGOCD_URL&gt;/api/webhook</code></li> <li>Content type: <code>application/json</code></li> <li>Secret: (t\u00f9y ch\u1ecdn, \u0111\u1ec3 verify)</li> <li> <p>Events: \"Just the push event\"</p> </li> <li> <p>Tr\u00ean ArgoCD:</p> </li> <li>N\u1ebfu d\u00f9ng secret, th\u00eam v\u00e0o <code>argocd-secret</code>:      <pre><code>stringData:\n  webhook.github.secret: &lt;YOUR_SECRET&gt;\n</code></pre></li> </ol> <p>ArgoCD t\u1ef1 nh\u1eadn di\u1ec7n repo n\u00e0o b\u1ecb thay \u0111\u1ed5i v\u00e0 ch\u1ec9 refresh app t\u01b0\u01a1ng \u1ee9ng.</p>"},{"location":"day-02/questions/#cau-17-argocd-repo-list-hien-thi-gi","title":"C\u00e2u 17: <code>argocd repo list</code> hi\u1ec3n th\u1ecb g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Hi\u1ec3n th\u1ecb danh s\u00e1ch repositories \u0111\u00e3 \u0111\u01b0\u1ee3c \u0111\u0103ng k\u00fd trong ArgoCD:</p> <pre><code>TYPE  NAME  REPO                                          INSECURE  OCI    LFS    CREDS  STATUS\ngit         https://github.com/user/repo.git              false     false  false  false  Successful\nhelm  bitnami  https://charts.bitnami.com/bitnami         false     false  false  false  Successful\n</code></pre> <p>C\u00e1c c\u1ed9t: - <code>TYPE</code> \u2014 git ho\u1eb7c helm - <code>REPO</code> \u2014 URL repository - <code>INSECURE</code> \u2014 C\u00f3 b\u1ecf qua TLS kh\u00f4ng - <code>CREDS</code> \u2014 C\u00f3 credentials kh\u00f4ng - <code>STATUS</code> \u2014 K\u1ebft n\u1ed1i th\u00e0nh c\u00f4ng hay th\u1ea5t b\u1ea1i</p> <p>L\u01b0u \u00fd: Public repos kh\u00f4ng c\u1ea7n \u0111\u0103ng k\u00fd tr\u01b0\u1edbc. ArgoCD t\u1ef1 k\u1ebft n\u1ed1i khi t\u1ea1o Application.</p>"},{"location":"day-02/questions/#cau-18-mot-application-co-the-tro-en-nhieu-path-trong-cung-repo-khong","title":"C\u00e2u 18: M\u1ed9t Application c\u00f3 th\u1ec3 tr\u1ecf \u0111\u1ebfn nhi\u1ec1u path trong c\u00f9ng repo kh\u00f4ng?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Kh\u00f4ng! M\u1ed7i Application ch\u1ec9 c\u00f3 1 source (1 repo + 1 path).</p> <p>Nh\u01b0ng t\u1eeb ArgoCD 2.6+, h\u1ed7 tr\u1ee3 Multiple Sources: <pre><code>spec:\n  sources:\n    - repoURL: https://github.com/user/repo.git\n      path: manifests/base\n      targetRevision: HEAD\n    - repoURL: https://github.com/user/repo.git\n      path: manifests/config\n      targetRevision: HEAD\n</code></pre></p> <p>Gi\u1ea3i ph\u00e1p thay th\u1ebf: - D\u00f9ng Kustomize \u0111\u1ec3 reference nhi\u1ec1u th\u01b0 m\u1ee5c - T\u1ea1o nhi\u1ec1u Applications (m\u1ed7i c\u00e1i 1 path) - D\u00f9ng App of Apps pattern</p>"},{"location":"day-02/questions/#cau-19-co-the-deploy-nhieu-application-tu-cung-1-repo-khong","title":"C\u00e2u 19: C\u00f3 th\u1ec3 deploy nhi\u1ec1u Application t\u1eeb c\u00f9ng 1 repo kh\u00f4ng?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>C\u00f3! R\u1ea5t ph\u1ed5 bi\u1ebfn. M\u1ed7i Application tr\u1ecf \u0111\u1ebfn path kh\u00e1c nhau trong c\u00f9ng repo:</p> <pre><code>repo/\n\u251c\u2500\u2500 apps/\n\u2502   \u251c\u2500\u2500 frontend/   \u2190 App 1\n\u2502   \u251c\u2500\u2500 backend/    \u2190 App 2\n\u2502   \u2514\u2500\u2500 database/   \u2190 App 3\n</code></pre> <pre><code>argocd app create frontend --repo &lt;REPO&gt; --path apps/frontend ...\nargocd app create backend --repo &lt;REPO&gt; --path apps/backend ...\nargocd app create database --repo &lt;REPO&gt; --path apps/database ...\n</code></pre> <p>\u0110\u00e2y ch\u00ednh l\u00e0 n\u1ec1n t\u1ea3ng cho App of Apps v\u00e0 ApplicationSet (Day 7-8).</p>"},{"location":"day-02/questions/#cau-20-application-bi-trang-thai-comparisonerror-la-do-au","title":"C\u00e2u 20: Application b\u1ecb tr\u1ea1ng th\u00e1i \"ComparisonError\" l\u00e0 do \u0111\u00e2u?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Nguy\u00ean nh\u00e2n ph\u1ed5 bi\u1ebfn:</p> <ol> <li>Git repo URL sai \u2014 Ki\u1ec3m tra l\u1ea1i URL</li> <li>Path kh\u00f4ng t\u1ed3n t\u1ea1i \u2014 Th\u01b0 m\u1ee5c trong repo kh\u00f4ng \u0111\u00fang</li> <li>Credentials sai \u2014 Token h\u1ebft h\u1ea1n ho\u1eb7c sai</li> <li>Invalid YAML \u2014 File YAML b\u1ecb l\u1ed7i syntax</li> <li>Helm chart l\u1ed7i \u2014 Template c\u00f3 l\u1ed7i</li> <li>Network \u2014 ArgoCD kh\u00f4ng k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c Git server</li> </ol> <p>Debug: <pre><code>argocd app get &lt;app-name&gt;  # Xem chi ti\u1ebft l\u1ed7i\nkubectl logs -n argocd deployment/argocd-repo-server  # Xem log repo server\n</code></pre></p>"},{"location":"day-02/questions/#phan-3-thuc-hanh-troubleshooting-cau-21-30","title":"Ph\u1ea7n 3: Th\u1ef1c H\u00e0nh &amp; Troubleshooting (C\u00e2u 21-30)","text":""},{"location":"day-02/questions/#cau-21-tao-deployment-yaml-cho-nginx-voi-resource-limits-viet-mau","title":"C\u00e2u 21: T\u1ea1o Deployment YAML cho Nginx v\u1edbi resource limits \u2014 vi\u1ebft m\u1eabu?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-demo\n  labels:\n    app: nginx-demo\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: nginx-demo\n  template:\n    metadata:\n      labels:\n        app: nginx-demo\n    spec:\n      containers:\n        - name: nginx\n          image: nginx:1.25-alpine\n          ports:\n            - containerPort: 80\n          resources:\n            requests:\n              cpu: 50m\n              memory: 64Mi\n            limits:\n              cpu: 100m\n              memory: 128Mi\n          livenessProbe:\n            httpGet:\n              path: /\n              port: 80\n            initialDelaySeconds: 5\n          readinessProbe:\n            httpGet:\n              path: /\n              port: 80\n            initialDelaySeconds: 3\n</code></pre> <p>Gi\u1ea3i th\u00edch resource: - <code>requests</code> \u2014 T\u1ed1i thi\u1ec3u c\u1ea7n \u0111\u1ec3 schedule pod - <code>limits</code> \u2014 T\u1ed1i \u0111a \u0111\u01b0\u1ee3c ph\u00e9p s\u1eed d\u1ee5ng</p>"},{"location":"day-02/questions/#cau-22-tai-sao-nen-dung-nginx125-alpine-thay-vi-nginxlatest","title":"C\u00e2u 22: T\u1ea1i sao n\u00ean d\u00f9ng <code>nginx:1.25-alpine</code> thay v\u00ec <code>nginx:latest</code>?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Tag V\u1ea5n \u0111\u1ec1 <code>nginx:latest</code> \u274c M\u1ed7i build c\u00f3 th\u1ec3 kh\u00e1c nhau, kh\u00f4ng reproducible <code>nginx:1.25</code> \u26a0\ufe0f T\u1ed1t h\u01a1n, nh\u01b0ng patch version c\u00f3 th\u1ec3 thay \u0111\u1ed5i <code>nginx:1.25-alpine</code> \u2705 Pinned version + lightweight image <code>nginx:1.25.3-alpine</code> \u2705\u2705 Best \u2014 ho\u00e0n to\u00e0n pinned <p>L\u00fd do GitOps: - Git l\u01b0u declarative state \u2192 image tag ph\u1ea3i immutable - <code>latest</code> tag b\u1ecb overwrite m\u1ed7i khi c\u00f3 build m\u1edbi \u2192 drift gi\u1eefa Git v\u00e0 th\u1ef1c t\u1ebf - Alpine image nh\u1ecf h\u01a1n (~40MB vs ~180MB) \u2192 pull nhanh h\u01a1n, attack surface nh\u1ecf h\u01a1n</p>"},{"location":"day-02/questions/#cau-23-service-type-nodeport-va-clusterip-khac-nhau-the-nao","title":"C\u00e2u 23: Service type NodePort v\u00e0 ClusterIP kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n Type Truy c\u1eadp t\u1eeb Port range Use case ClusterIP Ch\u1ec9 trong cluster B\u1ea5t k\u1ef3 Service n\u1ed9i b\u1ed9 (backend \u2194 database) NodePort B\u00ean ngo\u00e0i cluster 30000-32767 Dev/testing, expose qua Node IP LoadBalancer Internet B\u1ea5t k\u1ef3 Production (t\u1ea1o LB tr\u00ean cloud) <pre><code># ClusterIP (m\u1eb7c \u0111\u1ecbnh)\nspec:\n  type: ClusterIP\n\n# NodePort\nspec:\n  type: NodePort\n  ports:\n    - port: 80\n      nodePort: 30080  # Optional, K8s t\u1ef1 assign n\u1ebfu kh\u00f4ng ch\u1ec9 \u0111\u1ecbnh\n</code></pre> <p>Minikube: D\u00f9ng <code>minikube service &lt;name&gt;</code> \u0111\u1ec3 truy c\u1eadp NodePort service.</p>"},{"location":"day-02/questions/#cau-24-lam-sao-kiem-tra-application-a-sync-thanh-cong","title":"C\u00e2u 24: L\u00e0m sao ki\u1ec3m tra Application \u0111\u00e3 sync th\u00e0nh c\u00f4ng?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code># C\u00e1ch 1: ArgoCD CLI\nargocd app get &lt;app-name&gt;\n# Sync Status: Synced \u2705\n# Health Status: Healthy \u2705\n\n# C\u00e1ch 2: kubectl\nkubectl get application &lt;app-name&gt; -n argocd -o jsonpath='{.status.sync.status}'\n# \u2192 Synced\n\nkubectl get application &lt;app-name&gt; -n argocd -o jsonpath='{.status.health.status}'\n# \u2192 Healthy\n\n# C\u00e1ch 3: Ch\u1edd sync ho\u00e0n t\u1ea5t\nargocd app wait &lt;app-name&gt; --sync --health --timeout 120\n</code></pre> <p>C\u1ea3 2 \u0111i\u1ec1u ki\u1ec7n ph\u1ea3i th\u1ecfa: - Sync Status = Synced (Git = Cluster) - Health Status = Healthy (Pods running, Services active)</p>"},{"location":"day-02/questions/#cau-25-argocd-app-diff-hien-thi-gi","title":"C\u00e2u 25: <code>argocd app diff</code> hi\u1ec3n th\u1ecb g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Hi\u1ec3n th\u1ecb s\u1ef1 kh\u00e1c bi\u1ec7t gi\u1eefa tr\u1ea1ng th\u00e1i mong mu\u1ed1n (Git) v\u00e0 tr\u1ea1ng th\u00e1i th\u1ef1c t\u1ebf (Cluster):</p> <pre><code>argocd app diff nginx-demo\n</code></pre> <p>Output t\u01b0\u01a1ng t\u1ef1 <code>diff</code> \u2014 lines c\u00f3 <code>+</code> l\u00e0 trong Git nh\u01b0ng ch\u01b0a c\u00f3 tr\u00ean cluster, <code>-</code> l\u00e0 tr\u00ean cluster nh\u01b0ng kh\u00f4ng c\u00f3 trong Git.</p> <p>Khi n\u00e0o d\u00f9ng? - Debug OutOfSync \u2014 xem ch\u00ednh x\u00e1c c\u00e1i g\u00ec kh\u00e1c - Review tr\u01b0\u1edbc khi sync \u2014 \u0111\u1ea3m b\u1ea3o thay \u0111\u1ed5i \u0111\u00fang \u00fd - Ph\u00e1t hi\u1ec7n drift \u2014 ai \u0111\u00f3 <code>kubectl edit</code> tr\u1ef1c ti\u1ebfp</p>"},{"location":"day-02/questions/#cau-26-loi-the-server-could-not-find-the-requested-resource-khi-sync-la-do-au","title":"C\u00e2u 26: L\u1ed7i \"the server could not find the requested resource\" khi sync l\u00e0 do \u0111\u00e2u?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Nguy\u00ean nh\u00e2n: YAML reference m\u1ed9t API version ho\u1eb7c resource kind kh\u00f4ng t\u1ed3n t\u1ea1i tr\u00ean cluster.</p> <p>V\u00ed d\u1ee5 ph\u1ed5 bi\u1ebfn: <pre><code># L\u1ed7i: extensions/v1beta1 \u0111\u00e3 b\u1ecb deprecated\napiVersion: extensions/v1beta1  # \u274c\nkind: Ingress\n\n# S\u1eeda th\u00e0nh:\napiVersion: networking.k8s.io/v1  # \u2705\nkind: Ingress\n</code></pre></p> <p>Debug: <pre><code># Ki\u1ec3m tra API versions c\u00f3 s\u1eb5n\nkubectl api-versions | grep networking\n\n# Ki\u1ec3m tra resource c\u00f3 t\u1ed3n t\u1ea1i\nkubectl api-resources | grep ingress\n</code></pre></p>"},{"location":"day-02/questions/#cau-27-argocd-app-history-dung-e-lam-gi","title":"C\u00e2u 27: <code>argocd app history</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Hi\u1ec3n th\u1ecb l\u1ecbch s\u1eed sync c\u1ee7a Application:</p> <pre><code>argocd app history &lt;app-name&gt;\n</code></pre> <p>Output: <pre><code>ID  DATE                  REVISION\n1   2024-01-15 10:30:00   abc1234\n2   2024-01-15 14:20:00   def5678\n3   2024-01-16 09:00:00   ghi9012\n</code></pre></p> <p>Use case: - Xem \u0111\u00e3 deploy l\u1ea7n n\u00e0o, commit n\u00e0o - Rollback v\u1ec1 revision c\u0169: <code>argocd app rollback &lt;app&gt; &lt;ID&gt;</code> - Audit trail \u2014 ai deploy g\u00ec, khi n\u00e0o</p>"},{"location":"day-02/questions/#cau-28-rollback-bang-argocd-cli-nhu-the-nao","title":"C\u00e2u 28: Rollback b\u1eb1ng ArgoCD CLI nh\u01b0 th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <pre><code># Xem history\nargocd app history &lt;app-name&gt;\n\n# Rollback v\u1ec1 revision c\u0169\nargocd app rollback &lt;app-name&gt; &lt;REVISION_ID&gt;\n</code></pre> <p>\u26a0\ufe0f L\u01b0u \u00fd quan tr\u1ecdng: - Rollback ch\u1ec9 l\u00e0 re-apply manifest c\u0169, kh\u00f4ng ph\u1ea3i git revert - N\u1ebfu Auto-sync b\u1eadt \u2192 ArgoCD s\u1ebd sync l\u1ea1i v\u1ec1 HEAD ngay l\u1eadp t\u1ee9c, override rollback - Best practice GitOps: Rollback b\u1eb1ng <code>git revert</code> thay v\u00ec <code>argocd rollback</code></p> <pre><code># GitOps-correct rollback\ngit revert &lt;commit-hash&gt;\ngit push\n# \u2192 ArgoCD t\u1ef1 sync commit revert\n</code></pre>"},{"location":"day-02/questions/#cau-29-nhieu-nguoi-cung-commit-vao-repo-thi-argocd-xu-ly-the-nao","title":"C\u00e2u 29: Nhi\u1ec1u ng\u01b0\u1eddi c\u00f9ng commit v\u00e0o repo th\u00ec ArgoCD x\u1eed l\u00fd th\u1ebf n\u00e0o?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>ArgoCD kh\u00f4ng quan t\u00e2m ai commit. N\u00f3 ch\u1ec9 so s\u00e1nh tr\u1ea1ng th\u00e1i cu\u1ed1i c\u00f9ng (latest commit) c\u1ee7a branch v\u1edbi cluster.</p> <p>Flow: 1. Dev A commit \u2192 HEAD = commit A 2. Dev B commit \u2192 HEAD = commit B (ahead of A) 3. ArgoCD detect HEAD = commit B \u2192 sync to B 4. C\u1ea3 thay \u0111\u1ed5i c\u1ee7a A v\u00e0 B \u0111\u1ec1u \u0111\u01b0\u1ee3c apply</p> <p>Conflict x\u1ea3y ra khi: - 2 ng\u01b0\u1eddi s\u1eeda c\u00f9ng file \u2192 Git conflict \u2192 ph\u1ea3i resolve tr\u01b0\u1edbc khi merge - \u0110\u00e2y l\u00e0 Git conflict, kh\u00f4ng ph\u1ea3i ArgoCD conflict</p> <p>Best practice: D\u00f9ng Pull Request + review tr\u01b0\u1edbc khi merge v\u00e0o main branch.</p>"},{"location":"day-02/questions/#cau-30-tai-sao-nen-tach-git-repo-cho-config-manifests-va-source-code-app-code","title":"C\u00e2u 30: T\u1ea1i sao n\u00ean t\u00e1ch Git repo cho config (manifests) v\u00e0 source code (app code)?","text":"\ud83d\udcd6 \u0110\u00e1p \u00e1n <p>Best practice: D\u00f9ng 2 repo ri\u00eang bi\u1ec7t:</p> Repo N\u1ed9i dung Trigger App repo Source code, Dockerfile CI pipeline (build + test) Config repo K8s manifests, Helm values ArgoCD (deploy) <p>L\u00fd do: 1. T\u00e1ch bi\u1ec7t concerns \u2014 Code change \u2260 Config change 2. Tr\u00e1nh trigger CI/CD l\u1eabn nhau \u2014 Update YAML kh\u00f4ng n\u00ean trigger rebuild 3. Fine-grained permissions \u2014 Dev s\u1eeda code, Ops s\u1eeda config 4. Audit trail r\u00f5 r\u00e0ng \u2014 D\u1ec5 track config changes ri\u00eang</p> <p>Flow k\u1ebft h\u1ee3p: <pre><code>App repo commit \u2192 CI build image \u2192 Update image tag in Config repo \u2192 ArgoCD sync\n</code></pre></p>"},{"location":"day-02/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 2: Deploy \u1ee8ng d\u1ee5ng \u0110\u1ea7u Ti\u00ean","text":""},{"location":"day-02/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>T\u1ea1o m\u1ed9t Git repo ch\u1ee9a Kubernetes manifests</li> <li>Deploy \u1ee9ng d\u1ee5ng qua ArgoCD</li> <li>Thay \u0111\u1ed5i code tr\u00ean Git v\u00e0 xem ArgoCD t\u1ef1 \u0111\u1ed9ng detect</li> </ul>"},{"location":"day-02/exercises/exercise/#bai-tap-1-tao-repo-va-deploy","title":"B\u00e0i t\u1eadp 1: T\u1ea1o repo v\u00e0 deploy","text":"<ol> <li>T\u1ea1o repo m\u1edbi tr\u00ean GitHub: <code>argocd-demo-app</code></li> <li>Copy c\u00e1c file t\u1eeb <code>manifests/</code> v\u00e0o repo</li> <li>Push l\u00ean GitHub</li> <li>T\u1ea1o ArgoCD Application (UI ho\u1eb7c CLI)</li> <li>Sync application</li> </ol> <p>Ki\u1ec3m tra: <pre><code># App ph\u1ea3i \u1edf tr\u1ea1ng th\u00e1i Synced + Healthy\nargocd app get nginx-demo\n\n# Pods ph\u1ea3i Running\nkubectl get pods -n demo-app\n\n# Truy c\u1eadp Nginx\nkubectl port-forward svc/nginx-demo -n demo-app 9090:80 &amp;\ncurl http://localhost:9090\n</code></pre></p>"},{"location":"day-02/exercises/exercise/#bai-tap-2-thay-oi-va-quan-sat-auto-detect","title":"B\u00e0i t\u1eadp 2: Thay \u0111\u1ed5i v\u00e0 quan s\u00e1t Auto-detect","text":"<ol> <li>S\u1eeda <code>deployment.yaml</code> tr\u00ean Git: thay <code>replicas: 2</code> th\u00e0nh <code>replicas: 3</code></li> <li>Commit &amp; Push</li> <li>Quan s\u00e1t ArgoCD UI:</li> <li>Status s\u1ebd chuy\u1ec3n sang OutOfSync (ch\u1edd t\u1ed1i \u0111a 3 ph\u00fat do polling)</li> <li>Click SYNC \u0111\u1ec3 \u0111\u1ed3ng b\u1ed9</li> <li>Ki\u1ec3m tra:    <pre><code>kubectl get pods -n demo-app\n# Ph\u1ea3i th\u1ea5y 3 pods\n</code></pre></li> </ol>"},{"location":"day-02/exercises/exercise/#bai-tap-3-thu-ket-noi-private-repo-nang-cao","title":"B\u00e0i t\u1eadp 3: Th\u1eed k\u1ebft n\u1ed1i Private Repo (N\u00e2ng cao)","text":"<ol> <li>T\u1ea1o m\u1ed9t Personal Access Token tr\u00ean GitHub:</li> <li>Settings \u2192 Developer Settings \u2192 Personal Access Tokens \u2192 Fine-grained tokens</li> <li>Scope: Read access to repository</li> <li>Th\u00eam private repo v\u00e0o ArgoCD:    <pre><code>argocd repo add https://github.com/&lt;USERNAME&gt;/private-repo.git \\\n  --username &lt;USERNAME&gt; \\\n  --password &lt;TOKEN&gt;\n</code></pre></li> <li>Ki\u1ec3m tra:    <pre><code>argocd repo list\n</code></pre></li> </ol>"},{"location":"day-02/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] T\u1ea1o \u0111\u01b0\u1ee3c Git repo ch\u1ee9a manifests</li> <li>[ ] Deploy \u1ee9ng d\u1ee5ng Nginx qua ArgoCD th\u00e0nh c\u00f4ng</li> <li>[ ] Application \u1edf tr\u1ea1ng th\u00e1i Synced + Healthy</li> <li>[ ] Thay \u0111\u1ed5i replicas tr\u00ean Git, ArgoCD detect OutOfSync</li> <li>[ ] Sync l\u1ea1i th\u00e0nh c\u00f4ng, pods t\u0103ng l\u00ean \u0111\u00fang s\u1ed1 l\u01b0\u1ee3ng</li> </ul>"},{"location":"day-03/","title":"\ud83d\udcc5 Ng\u00e0y 3: Sync Strategies &amp; Ph\u1ee5c H\u1ed3i S\u1ef1 C\u1ed1","text":""},{"location":"day-03/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u s\u1ef1 kh\u00e1c nhau gi\u1eefa Manual Sync vs Automatic Sync</li> <li>C\u1ea5u h\u00ecnh Self-heal v\u00e0 Prune</li> <li>Quan s\u00e1t ArgoCD t\u1ef1 ph\u1ee5c h\u1ed3i khi c\u00f3 ai \u0111\u00f3 x\u00f3a tay resource</li> </ul>"},{"location":"day-03/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-03/#sync-strategies","title":"Sync Strategies","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    SYNC STRATEGIES                          \u2502\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502 MANUAL SYNC     \u2502     \u2502 AUTOMATIC SYNC               \u2502   \u2502\n\u2502  \u2502                 \u2502     \u2502                              \u2502   \u2502\n\u2502  \u2502 \u2022 User click    \u2502     \u2502 \u2022 ArgoCD t\u1ef1 sync khi Git     \u2502   \u2502\n\u2502  \u2502   \"SYNC\" button \u2502     \u2502   thay \u0111\u1ed5i                   \u2502   \u2502\n\u2502  \u2502 \u2022 An to\u00e0n h\u01a1n   \u2502     \u2502 \u2022 Nhanh h\u01a1n                  \u2502   \u2502\n\u2502  \u2502 \u2022 Cho production\u2502     \u2502 \u2022 Cho dev/staging             \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 SYNC OPTIONS                                        \u2502    \u2502\n\u2502  \u2502                                                     \u2502    \u2502\n\u2502  \u2502 \ud83d\udd04 Self-heal: T\u1ef1 s\u1eeda khi cluster b\u1ecb drift          \u2502    \u2502\n\u2502  \u2502    (ai \u0111\u00f3 kubectl edit/delete tr\u1ef1c ti\u1ebfp)            \u2502    \u2502\n\u2502  \u2502                                                     \u2502    \u2502\n\u2502  \u2502 \ud83d\uddd1\ufe0f  Prune: T\u1ef1 x\u00f3a resource tr\u00ean cluster khi        \u2502    \u2502\n\u2502  \u2502    resource \u0111\u00f3 b\u1ecb x\u00f3a kh\u1ecfi Git                     \u2502    \u2502\n\u2502  \u2502                                                     \u2502    \u2502\n\u2502  \u2502 \u26a0\ufe0f  Prune + Self-heal = Full automation             \u2502    \u2502\n\u2502  \u2502    (C\u1ea9n th\u1eadn khi d\u00f9ng tr\u00ean production!)             \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-03/#so-sanh-cac-sync-options","title":"So s\u00e1nh c\u00e1c Sync Options","text":"Option M\u00f4 t\u1ea3 R\u1ee7i ro Khuy\u1ebfn ngh\u1ecb Manual Sync User ph\u1ea3i click Sync Ch\u1eadm Production Auto Sync T\u1ef1 sync khi Git thay \u0111\u1ed5i Trung b\u00ecnh Staging Self-heal T\u1ef1 s\u1eeda khi cluster b\u1ecb thay \u0111\u1ed5i tr\u1ef1c ti\u1ebfp Th\u1ea5p M\u1ecdi m\u00f4i tr\u01b0\u1eddng Prune T\u1ef1 x\u00f3a resource kh\u00f4ng c\u00f2n trong Git Cao C\u1ea9n th\u1eadn!"},{"location":"day-03/#self-heal-hoat-ong-nhu-the-nao","title":"Self-heal ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o?","text":"<pre><code>Developer (accidentally):\n  kubectl delete pod nginx-demo-xxx -n demo-app\n\nArgoCD (5 gi\u00e2y sau):\n  \u26a0\ufe0f Cluster drift detected!\n  \ud83d\udd04 Re-syncing to match Git state...\n  \u2705 Pod recreated automatically\n</code></pre>"},{"location":"day-03/#prune-hoat-ong-nhu-the-nao","title":"Prune ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o?","text":"<pre><code>Tr\u01b0\u1edbc:\n  Git: deployment.yaml, service.yaml, configmap.yaml\n  Cluster: Deployment, Service, ConfigMap\n\nSau khi x\u00f3a configmap.yaml kh\u1ecfi Git:\n  Git: deployment.yaml, service.yaml\n\n  Prune=false: Cluster v\u1eabn c\u00f3 ConfigMap (orphaned resource)\n  Prune=true:  Cluster t\u1ef1 x\u00f3a ConfigMap \u2705\n</code></pre>"},{"location":"day-03/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-03/#buoc-1-deploy-ung-dung-voi-manual-sync-tu-day-02","title":"B\u01b0\u1edbc 1: Deploy \u1ee9ng d\u1ee5ng v\u1edbi Manual Sync (t\u1eeb Day 02)","text":"<pre><code># Ki\u1ec3m tra app t\u1eeb day-02 v\u1eabn \u0111ang ch\u1ea1y\nargocd app get nginx-demo\n\n# N\u1ebfu ch\u01b0a c\u00f3, t\u1ea1o l\u1ea1i\nkubectl apply -f ../day-02/argocd/application.yaml\nargocd app sync nginx-demo\n</code></pre>"},{"location":"day-03/#buoc-2-cau-hinh-automatic-sync-self-heal-prune","title":"B\u01b0\u1edbc 2: C\u1ea5u h\u00ecnh Automatic Sync + Self-heal + Prune","text":"<pre><code># \u00c1p d\u1ee5ng Application m\u1edbi v\u1edbi auto-sync\nkubectl apply -f argocd/application-auto-sync.yaml\n</code></pre> <p>Ho\u1eb7c c\u1eadp nh\u1eadt app hi\u1ec7n t\u1ea1i qua CLI: <pre><code>argocd app set nginx-demo \\\n  --sync-policy automated \\\n  --self-heal \\\n  --auto-prune\n</code></pre></p>"},{"location":"day-03/#buoc-3-test-self-heal","title":"B\u01b0\u1edbc 3: Test Self-heal \ud83d\udd25","text":"<pre><code># X\u00f3a T\u1ea4T C\u1ea2 pods (m\u00f4 ph\u1ecfng s\u1ef1 c\u1ed1)\nkubectl delete pods --all -n demo-app\necho \"\u23f3 Ch\u1edd 10 gi\u00e2y...\"\nsleep 10\n\n# ArgoCD s\u1ebd t\u1ef1 t\u1ea1o l\u1ea1i pods!\nkubectl get pods -n demo-app\n# \u2192 Pods m\u1edbi \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o t\u1ef1 \u0111\u1ed9ng\n</code></pre> <pre><code># Th\u1eed thay \u0111\u1ed5i replicas tr\u1ef1c ti\u1ebfp tr\u00ean cluster\nkubectl scale deployment nginx-demo -n demo-app --replicas=5\necho \"\u23f3 Ch\u1edd 15 gi\u00e2y...\"\nsleep 15\n\n# ArgoCD s\u1ebd rollback v\u1ec1 gi\u00e1 tr\u1ecb trong Git (replicas: 2)\nkubectl get pods -n demo-app\n# \u2192 Ch\u1ec9 c\u00f2n 2 pods\n</code></pre>"},{"location":"day-03/#buoc-4-test-prune","title":"B\u01b0\u1edbc 4: Test Prune","text":"<pre><code># 1. T\u1ea1o th\u00eam m\u1ed9t ConfigMap trong Git repo\ncat &lt;&lt;EOF &gt; /tmp/test-configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: test-config\n  namespace: demo-app\ndata:\n  environment: \"testing\"\nEOF\n\n# 2. Th\u00eam v\u00e0o Git, commit, push\n# 3. Ch\u1edd ArgoCD auto-sync (ho\u1eb7c manual sync)\n# 4. Ki\u1ec3m tra ConfigMap \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o\nkubectl get configmap test-config -n demo-app\n\n# 5. X\u00f3a file configmap kh\u1ecfi Git, commit, push\n# 6. Ch\u1edd ArgoCD auto-sync\n# 7. ConfigMap s\u1ebd t\u1ef1 b\u1ecb x\u00f3a (v\u00ec Prune=true)\nkubectl get configmap test-config -n demo-app  # Not Found\n</code></pre>"},{"location":"day-03/#faq","title":"\u2753 FAQ","text":""},{"location":"day-03/#q-prune-co-nguy-hiem-khong","title":"Q: <code>Prune</code> c\u00f3 nguy hi\u1ec3m kh\u00f4ng?","text":"<p>A: C\u00f3! N\u1ebfu b\u1ea1n v\u00f4 t\u00ecnh x\u00f3a file YAML kh\u1ecfi Git, ArgoCD s\u1ebd x\u00f3a resource t\u01b0\u01a1ng \u1ee9ng tr\u00ean cluster. Best practice: - Dev/Staging: B\u1eadt Prune an to\u00e0n - Production: D\u00f9ng <code>Prune</code> v\u1edbi annotation ch\u1ed1ng x\u00f3a:   <pre><code>metadata:\n  annotations:\n    argocd.argoproj.io/sync-options: Prune=false\n</code></pre></p>"},{"location":"day-03/#q-self-heal-co-anh-huong-performance-khong","title":"Q: Self-heal c\u00f3 \u1ea3nh h\u01b0\u1edfng performance kh\u00f4ng?","text":"<p>A: Kh\u00f4ng \u0111\u00e1ng k\u1ec3. ArgoCD ki\u1ec3m tra drift m\u1ed7i v\u00e0i gi\u00e2y nh\u01b0ng ch\u1ec9 reconcile khi ph\u00e1t hi\u1ec7n thay \u0111\u1ed5i.</p>"},{"location":"day-03/#q-lam-sao-tat-auto-sync-tam-thoi","title":"Q: L\u00e0m sao t\u1eaft Auto-sync t\u1ea1m th\u1eddi?","text":"<p>A: D\u00f9ng CLI: <pre><code>argocd app set nginx-demo --sync-policy none\n</code></pre></p>"},{"location":"day-03/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 02 \u2014 K\u1ebft n\u1ed1i Repository &amp; \u1ee8ng d\u1ee5ng \u0111\u1ea7u ti\u00ean \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 04 \u2014 L\u00e0m vi\u1ec7c v\u1edbi Helm Charts</p>"},{"location":"day-03/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 3: Sync Strategies &amp; Ph\u1ee5c H\u1ed3i S\u1ef1 C\u1ed1","text":""},{"location":"day-03/questions/#phan-1-sync-strategies-cau-1-10","title":"Ph\u1ea7n 1: Sync Strategies (C\u00e2u 1-10)","text":""},{"location":"day-03/questions/#cau-1-manual-sync-va-automatic-sync-khac-nhau-the-nao","title":"C\u00e2u 1: Manual Sync v\u00e0 Automatic Sync kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>| | Manual Sync | Automatic Sync |\n|---|-------------|----------------|\n| **Trigger** | User click \"SYNC\" ho\u1eb7c ch\u1ea1y CLI | ArgoCD t\u1ef1 sync khi Git thay \u0111\u1ed5i |\n| **Control** | Ki\u1ec3m so\u00e1t ho\u00e0n to\u00e0n | T\u1ef1 \u0111\u1ed9ng, \u00edt ki\u1ec3m so\u00e1t |\n| **Use case** | Production | Dev/Staging |\n| **Risk** | Th\u1ea5p (review tr\u01b0\u1edbc) | Cao h\u01a1n (deploy ngay) |\n\n**C\u1ea5u h\u00ecnh Auto Sync:**\n```yaml\nsyncPolicy:\n  automated: {}  # B\u1eadt auto sync\n```\n</code></pre>"},{"location":"day-03/questions/#cau-2-self-heal-trong-argocd-la-gi","title":"C\u00e2u 2: Self-heal trong ArgoCD l\u00e0 g\u00ec?","text":"<pre><code>**Self-heal** l\u00e0 kh\u1ea3 n\u0103ng ArgoCD **t\u1ef1 s\u1eeda ch\u1eefa** khi ph\u00e1t hi\u1ec7n tr\u1ea1ng th\u00e1i cluster kh\u00e1c v\u1edbi Git (drift). V\u00ed d\u1ee5: ai \u0111\u00f3 `kubectl delete pod` \u2192 ArgoCD t\u1ef1 t\u1ea1o l\u1ea1i.\n\n```yaml\nsyncPolicy:\n  automated:\n    selfHeal: true\n```\n\nSelf-heal ki\u1ec3m tra drift m\u1ed7i **5 gi\u00e2y** (m\u1eb7c \u0111\u1ecbnh) v\u00e0 t\u1ef1 reconcile n\u1ebfu ph\u00e1t hi\u1ec7n kh\u00e1c bi\u1ec7t. N\u00f3 ch\u1ec9 ho\u1ea1t \u0111\u1ed9ng khi **automated sync** \u0111\u01b0\u1ee3c b\u1eadt.\n</code></pre>"},{"location":"day-03/questions/#cau-3-prune-trong-argocd-nghia-la-gi","title":"C\u00e2u 3: Prune trong ArgoCD ngh\u0129a l\u00e0 g\u00ec?","text":"<pre><code>**Prune** = ArgoCD t\u1ef1 **x\u00f3a** resources tr\u00ean cluster khi resource t\u01b0\u01a1ng \u1ee9ng b\u1ecb x\u00f3a kh\u1ecfi Git. V\u00ed d\u1ee5: x\u00f3a `configmap.yaml` kh\u1ecfi Git \u2192 ArgoCD x\u00f3a ConfigMap tr\u00ean cluster.\n\n```yaml\nsyncPolicy:\n  automated:\n    prune: true\n```\n\n**\u26a0\ufe0f Nguy hi\u1ec3m:** N\u1ebfu v\u00f4 t\u00ecnh x\u00f3a file YAML \u2192 resource b\u1ecb x\u00f3a tr\u00ean production! Best practice: d\u00f9ng PR review + annotation `Prune=false` cho resources quan tr\u1ecdng.\n</code></pre>"},{"location":"day-03/questions/#cau-4-cach-bao-ve-resource-khong-bi-prune","title":"C\u00e2u 4: C\u00e1ch b\u1ea3o v\u1ec7 resource kh\u00f4ng b\u1ecb Prune?","text":"<pre><code>Th\u00eam **annotation** v\u00e0o resource:\n\n```yaml\nmetadata:\n  annotations:\n    argocd.argoproj.io/sync-options: Prune=false\n```\n\nResource c\u00f3 annotation n\u00e0y s\u1ebd **kh\u00f4ng b\u1ecb x\u00f3a** d\u00f9 file YAML b\u1ecb x\u00f3a kh\u1ecfi Git. ArgoCD s\u1ebd hi\u1ec3n th\u1ecb n\u00f3 l\u00e0 \"orphaned\" nh\u01b0ng kh\u00f4ng x\u00f3a.\n\n**N\u00ean d\u00f9ng cho:** PersistentVolumeClaim, Secrets ch\u1ee9a credentials, Namespaces.\n</code></pre>"},{"location":"day-03/questions/#cau-5-prunepropagationpolicy-co-cac-gia-tri-nao","title":"C\u00e2u 5: <code>PrunePropagationPolicy</code> c\u00f3 c\u00e1c gi\u00e1 tr\u1ecb n\u00e0o?","text":"<pre><code>| Policy | H\u00e0nh vi |\n|--------|---------|\n| **foreground** | Ch\u1edd child resources x\u00f3a xong \u2192 x\u00f3a parent |\n| **background** | X\u00f3a parent ngay, child t\u1ef1 x\u00f3a sau |\n| **orphan** | X\u00f3a parent, gi\u1eef l\u1ea1i children |\n\n```yaml\nsyncOptions:\n  - PrunePropagationPolicy=foreground\n```\n\n**M\u1eb7c \u0111\u1ecbnh:** `foreground` \u2014 an to\u00e0n nh\u1ea5t v\u00ec \u0111\u1ea3m b\u1ea3o th\u1ee9 t\u1ef1 x\u00f3a \u0111\u00fang.\n</code></pre>"},{"location":"day-03/questions/#cau-6-prunelasttrue-co-y-nghia-gi","title":"C\u00e2u 6: <code>PruneLast=true</code> c\u00f3 \u00fd ngh\u0129a g\u00ec?","text":"<pre><code>Khi sync, ArgoCD s\u1ebd **prune resources cu\u1ed1i c\u00f9ng**, sau khi t\u1ea5t c\u1ea3 resources kh\u00e1c \u0111\u00e3 \u0111\u01b0\u1ee3c apply th\u00e0nh c\u00f4ng.\n\n```yaml\nsyncOptions:\n  - PruneLast=true\n```\n\n**T\u1ea1i sao c\u1ea7n?** Tr\u00e1nh t\u00ecnh hu\u1ed1ng x\u00f3a resource c\u0169 tr\u01b0\u1edbc khi resource m\u1edbi s\u1eb5n s\u00e0ng \u2192 downtime. V\u00ed d\u1ee5: x\u00f3a Service c\u0169 tr\u01b0\u1edbc khi Deployment m\u1edbi running.\n</code></pre>"},{"location":"day-03/questions/#cau-7-co-the-tat-auto-sync-tam-thoi-uoc-khong","title":"C\u00e2u 7: C\u00f3 th\u1ec3 t\u1eaft Auto Sync t\u1ea1m th\u1eddi \u0111\u01b0\u1ee3c kh\u00f4ng?","text":"<pre><code>**C\u00f3**, d\u00f9ng CLI:\n```bash\nargocd app set &lt;app-name&gt; --sync-policy none\n```\n\nHo\u1eb7c patch Application:\n```bash\nkubectl patch application &lt;app-name&gt; -n argocd --type merge -p '\nspec:\n  syncPolicy: null\n'\n```\n\n**Use case:** Maintenance window, debug tr\u00ean cluster m\u00e0 kh\u00f4ng mu\u1ed1n ArgoCD override.\n</code></pre>"},{"location":"day-03/questions/#cau-8-retry-policy-trong-sync-dung-e-lam-gi","title":"C\u00e2u 8: Retry policy trong sync d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Khi sync th\u1ea5t b\u1ea1i (v\u00ed d\u1ee5: image pull error t\u1ea1m th\u1eddi), ArgoCD s\u1ebd **t\u1ef1 retry** thay v\u00ec \u0111\u00e1nh d\u1ea5u failed.\n\n```yaml\nsyncPolicy:\n  automated:\n    selfHeal: true\n  retry:\n    limit: 5           # Retry t\u1ed1i \u0111a 5 l\u1ea7n\n    backoff:\n      duration: 5s      # Ch\u1edd 5s tr\u01b0\u1edbc retry \u0111\u1ea7u\n      factor: 2          # Nh\u00e2n \u0111\u00f4i th\u1eddi gian m\u1ed7i l\u1ea7n\n      maxDuration: 3m    # T\u1ed1i \u0111a 3 ph\u00fat gi\u1eefa retries\n```\n\n**Exponential backoff:** 5s \u2192 10s \u2192 20s \u2192 40s \u2192 80s\n</code></pre>"},{"location":"day-03/questions/#cau-9-sync-window-la-gi","title":"C\u00e2u 9: Sync Window l\u00e0 g\u00ec?","text":"<pre><code>**Sync Window** gi\u1edbi h\u1ea1n **th\u1eddi gian** ArgoCD \u0111\u01b0\u1ee3c ph\u00e9p sync. D\u00f9ng trong production \u0111\u1ec3 ch\u1ec9 deploy trong maintenance window.\n\n```yaml\n# Trong AppProject\nspec:\n  syncWindows:\n    - kind: allow\n      schedule: \"0 9-17 * * 1-5\"  # Ch\u1ec9 Monday-Friday, 9AM-5PM\n      duration: 8h\n      applications: [\"*\"]\n    - kind: deny\n      schedule: \"0 0 25 12 *\"    # Block deploy ng\u00e0y Gi\u00e1ng Sinh\n      duration: 24h\n```\n\n**kind: allow** \u2014 Ch\u1ec9 cho sync trong window\n**kind: deny** \u2014 C\u1ea5m sync trong window\n</code></pre>"},{"location":"day-03/questions/#cau-10-sync-phase-va-sync-wave-la-gi","title":"C\u00e2u 10: Sync Phase v\u00e0 Sync Wave l\u00e0 g\u00ec?","text":"<pre><code>**Phase** \u2014 Th\u1ee9 t\u1ef1 sync (PreSync \u2192 Sync \u2192 PostSync \u2192 SyncFail):\n```yaml\nmetadata:\n  annotations:\n    argocd.argoproj.io/hook: PreSync  # Ch\u1ea1y tr\u01b0\u1edbc khi sync\n```\n\n**Wave** \u2014 Th\u1ee9 t\u1ef1 trong c\u00f9ng phase (s\u1ed1 nh\u1ecf ch\u1ea1y tr\u01b0\u1edbc):\n```yaml\nmetadata:\n  annotations:\n    argocd.argoproj.io/sync-wave: \"1\"  # Wave 1 ch\u1ea1y tr\u01b0\u1edbc wave 2\n```\n\n**Use case:** Database migration (PreSync, wave 0) \u2192 Deploy app (Sync, wave 1) \u2192 Run tests (PostSync, wave 2).\n</code></pre>"},{"location":"day-03/questions/#phan-2-drift-detection-recovery-cau-11-20","title":"Ph\u1ea7n 2: Drift Detection &amp; Recovery (C\u00e2u 11-20)","text":""},{"location":"day-03/questions/#cau-11-drift-la-gi-trong-ngu-canh-gitops","title":"C\u00e2u 11: Drift l\u00e0 g\u00ec trong ng\u1eef c\u1ea3nh GitOps?","text":"<pre><code>**Drift** l\u00e0 khi tr\u1ea1ng th\u00e1i th\u1ef1c t\u1ebf tr\u00ean cluster **kh\u00e1c** v\u1edbi tr\u1ea1ng th\u00e1i mong mu\u1ed1n trong Git. Nguy\u00ean nh\u00e2n: ai \u0111\u00f3 `kubectl edit/scale/delete` tr\u1ef1c ti\u1ebfp m\u00e0 kh\u00f4ng \u0111i qua Git.\n\nArgoCD ph\u00e1t hi\u1ec7n drift qua **reconciliation loop** v\u00e0 \u0111\u00e1nh d\u1ea5u app l\u00e0 **OutOfSync**. V\u1edbi Self-heal b\u1eadt, ArgoCD s\u1ebd t\u1ef1 s\u1eeda.\n</code></pre>"},{"location":"day-03/questions/#cau-12-ai-o-kubectl-scale-deployment-replicas10-thi-argocd-phan-ung-the-nao","title":"C\u00e2u 12: Ai \u0111\u00f3 <code>kubectl scale deployment --replicas=10</code> th\u00ec ArgoCD ph\u1ea3n \u1ee9ng th\u1ebf n\u00e0o?","text":"<pre><code>**C\u00f3 Self-heal:** ArgoCD detect drift trong ~5 gi\u00e2y \u2192 t\u1ef1 rollback v\u1ec1 gi\u00e1 tr\u1ecb trong Git (v\u00ed d\u1ee5: replicas=2). Pods th\u1eeba b\u1ecb terminated.\n\n**Kh\u00f4ng c\u00f3 Self-heal:** ArgoCD \u0111\u00e1nh d\u1ea5u **OutOfSync** tr\u00ean UI nh\u01b0ng **kh\u00f4ng t\u1ef1 s\u1eeda**. C\u1ea7n manual sync \u0111\u1ec3 rollback.\n\n**\u0110\u00e2y l\u00e0 l\u00fd do Self-heal quan tr\u1ecdng** \u2014 ng\u0103n ch\u1eb7n unauthorized changes tr\u00ean cluster.\n</code></pre>"},{"location":"day-03/questions/#cau-13-kubectl-delete-pods-all-thi-argocd-lam-gi","title":"C\u00e2u 13: <code>kubectl delete pods --all</code> th\u00ec ArgoCD l\u00e0m g\u00ec?","text":"<pre><code>**Ph\u00e2n bi\u1ec7t 2 tr\u01b0\u1eddng h\u1ee3p:**\n\n1. **Pods thu\u1ed9c Deployment:** Kubernetes Deployment controller t\u1ef1 t\u1ea1o l\u1ea1i pods (kh\u00f4ng c\u1ea7n ArgoCD). ArgoCD ph\u00e1t hi\u1ec7n app \u0111ang **Progressing** \u2192 ch\u1edd \u2192 **Healthy** khi pods up.\n\n2. **Standalone Pods (kh\u00f4ng c\u00f3 Deployment):** ArgoCD v\u1edbi Self-heal s\u1ebd re-apply YAML v\u00e0 t\u1ea1o l\u1ea1i pods.\n\n**L\u01b0u \u00fd:** Trong tr\u01b0\u1eddng h\u1ee3p 1, Deployment controller x\u1eed l\u00fd, kh\u00f4ng ph\u1ea3i ArgoCD. ArgoCD ch\u1ec9 gi\u00e1m s\u00e1t health status.\n</code></pre>"},{"location":"day-03/questions/#cau-14-resource-hooks-trong-argocd-la-gi","title":"C\u00e2u 14: Resource Hooks trong ArgoCD l\u00e0 g\u00ec?","text":"<pre><code>Resource Hooks cho ph\u00e9p ch\u1ea1y **Jobs/Scripts** t\u1ea1i c\u00e1c th\u1eddi \u0111i\u1ec3m c\u1ee5 th\u1ec3 trong sync process:\n\n| Hook | Th\u1eddi \u0111i\u1ec3m |\n|------|-----------|\n| `PreSync` | Tr\u01b0\u1edbc khi sync (database migration) |\n| `Sync` | C\u00f9ng l\u00fac sync |\n| `PostSync` | Sau khi sync (smoke test) |\n| `SyncFail` | Khi sync th\u1ea5t b\u1ea1i (notification) |\n| `Skip` | B\u1ecf qua, kh\u00f4ng apply |\n\n```yaml\napiVersion: batch/v1\nkind: Job\nmetadata:\n  annotations:\n    argocd.argoproj.io/hook: PreSync\n    argocd.argoproj.io/hook-delete-policy: HookSucceeded\n```\n</code></pre>"},{"location":"day-03/questions/#cau-15-argocdargoprojiohook-delete-policy-co-nhung-gia-tri-nao","title":"C\u00e2u 15: <code>argocd.argoproj.io/hook-delete-policy</code> c\u00f3 nh\u1eefng gi\u00e1 tr\u1ecb n\u00e0o?","text":"<pre><code>| Policy | X\u00f3a khi |\n|--------|---------|\n| `HookSucceeded` | Hook ch\u1ea1y th\u00e0nh c\u00f4ng |\n| `HookFailed` | Hook th\u1ea5t b\u1ea1i |\n| `BeforeHookCreation` | Tr\u01b0\u1edbc khi t\u1ea1o hook m\u1edbi (l\u1ea7n sync sau) |\n\n**Best practice:** D\u00f9ng `HookSucceeded` cho Jobs \u2014 tr\u00e1nh t\u1ed3n \u0111\u1ecdng Completed Jobs tr\u00ean cluster.\n</code></pre>"},{"location":"day-03/questions/#cau-16-lam-sao-ignore-diff-cho-mot-field-cu-the","title":"C\u00e2u 16: L\u00e0m sao ignore diff cho m\u1ed9t field c\u1ee5 th\u1ec3?","text":"<pre><code>D\u00f9ng **ignoreDifferences** trong Application spec:\n\n```yaml\nspec:\n  ignoreDifferences:\n    - group: apps\n      kind: Deployment\n      jsonPointers:\n        - /spec/replicas  # B\u1ecf qua diff tr\u00ean replicas\n    - group: \"\"\n      kind: ConfigMap\n      jqPathExpressions:\n        - .data.someKey  # B\u1ecf qua 1 key c\u1ee5 th\u1ec3\n```\n\n**Use case:** HPA t\u1ef1 scale replicas \u2192 ArgoCD detect drift \u2192 ignore replicas diff \u0111\u1ec3 tr\u00e1nh conflict.\n</code></pre>"},{"location":"day-03/questions/#cau-17-argocd-co-ho-tro-hpa-horizontal-pod-autoscaler-khong","title":"C\u00e2u 17: ArgoCD c\u00f3 h\u1ed7 tr\u1ee3 HPA (Horizontal Pod Autoscaler) kh\u00f4ng?","text":"<pre><code>**C\u00f3**, nh\u01b0ng c\u1ea7n c\u1ea5u h\u00ecnh \u0111\u00fang \u0111\u1ec3 tr\u00e1nh conflict:\n\n1. **X\u00f3a `replicas` kh\u1ecfi Deployment YAML** \u2014 \u0110\u1ec3 HPA qu\u1ea3n l\u00fd\n2. **Ho\u1eb7c d\u00f9ng `ignoreDifferences`** \u2014 B\u1ecf qua replicas field\n3. **Ho\u1eb7c t\u1eaft Self-heal cho Deployment** \u2014 Ch\u1ec9 Self-heal cho resources kh\u00e1c\n\n```yaml\nspec:\n  ignoreDifferences:\n    - group: apps\n      kind: Deployment\n      jsonPointers:\n        - /spec/replicas\n```\n\nKh\u00f4ng l\u00e0m nh\u01b0 v\u1eady \u2192 ArgoCD li\u00ean t\u1ee5c rollback replicas v\u1ec1 gi\u00e1 tr\u1ecb trong Git, conflict v\u1edbi HPA.\n</code></pre>"},{"location":"day-03/questions/#cau-18-managed-resources-va-live-resources-khac-nhau-the-nao","title":"C\u00e2u 18: Managed Resources v\u00e0 Live Resources kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>| | Managed Resources | Live Resources |\n|---|-------------------|----------------|\n| **Ngu\u1ed3n** | Defined trong Git | Ch\u1ea1y tr\u00ean cluster |\n| **Ai qu\u1ea3n l\u00fd** | ArgoCD theo d\u00f5i | Kubernetes runtime |\n| **Sync Status** | Git state | Cluster state |\n\n**OutOfSync** = Managed \u2260 Live. ArgoCD hi\u1ec3n th\u1ecb diff gi\u1eefa 2 tr\u1ea1ng th\u00e1i n\u00e0y.\n\n**Orphaned Resources** = Resources tr\u00ean cluster m\u00e0 ArgoCD **kh\u00f4ng qu\u1ea3n l\u00fd** (kh\u00f4ng c\u00f3 trong Git).\n</code></pre>"},{"location":"day-03/questions/#cau-19-argocd-app-terminate-op-dung-khi-nao","title":"C\u00e2u 19: <code>argocd app terminate-op</code> d\u00f9ng khi n\u00e0o?","text":"<pre><code>D\u00f9ng \u0111\u1ec3 **h\u1ee7y sync operation** \u0111ang ch\u1ea1y:\n\n```bash\nargocd app terminate-op &lt;app-name&gt;\n```\n\n**Khi n\u00e0o c\u1ea7n?**\n- Sync b\u1ecb treo (stuck) do resource l\u1ed7i\n- Ph\u00e1t hi\u1ec7n sync sai \u2192 c\u1ea7n d\u1eebng ngay\n- Hook (Job) ch\u1ea1y qu\u00e1 l\u00e2u\n\n**L\u01b0u \u00fd:** Terminate ch\u1ec9 d\u1eebng operation, kh\u00f4ng rollback nh\u1eefng g\u00ec \u0111\u00e3 apply.\n</code></pre>"},{"location":"day-03/questions/#cau-20-sync-status-unknown-xay-ra-khi-nao","title":"C\u00e2u 20: Sync Status \"Unknown\" x\u1ea3y ra khi n\u00e0o?","text":"<pre><code>**Nguy\u00ean nh\u00e2n:**\n1. ArgoCD **kh\u00f4ng k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c Git** \u2014 Network issue, credentials h\u1ebft h\u1ea1n\n2. ArgoCD **kh\u00f4ng k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c cluster** \u2014 Cluster down, kubeconfig invalid\n3. **Repository Server qu\u00e1 t\u1ea3i** \u2014 Qu\u00e1 nhi\u1ec1u apps c\u00f9ng l\u00fac\n4. **Application m\u1edbi t\u1ea1o** \u2014 Ch\u01b0a c\u00f3 l\u1ea7n reconcile \u0111\u1ea7u ti\u00ean\n\n**Debug:**\n```bash\nargocd app get &lt;app-name&gt;  # Xem chi ti\u1ebft l\u1ed7i\nkubectl logs -n argocd deployment/argocd-application-controller\n```\n</code></pre>"},{"location":"day-03/questions/#phan-3-advanced-sync-troubleshooting-cau-21-30","title":"Ph\u1ea7n 3: Advanced Sync &amp; Troubleshooting (C\u00e2u 21-30)","text":""},{"location":"day-03/questions/#cau-21-replace-vs-apply-sync-strategy-khac-nhau-the-nao","title":"C\u00e2u 21: <code>Replace</code> vs <code>Apply</code> sync strategy kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>| | Apply (m\u1eb7c \u0111\u1ecbnh) | Replace |\n|---|------------------|---------|\n| **Command** | `kubectl apply` | `kubectl replace` |\n| **Behavior** | Merge changes | Replace to\u00e0n b\u1ed9 resource |\n| **Safe** | An to\u00e0n h\u01a1n | Nguy hi\u1ec3m h\u01a1n (m\u1ea5t field kh\u00f4ng c\u00f3 trong YAML) |\n\n```yaml\nsyncOptions:\n  - Replace=true  # D\u00f9ng replace thay v\u00ec apply\n```\n\n**Khi n\u00e0o d\u00f9ng Replace?** Khi `apply` g\u1eb7p conflict do annotation qu\u00e1 l\u1edbn (`last-applied-configuration` v\u01b0\u1ee3t qu\u00e1 limit).\n</code></pre>"},{"location":"day-03/questions/#cau-22-serversideapplytrue-la-gi","title":"C\u00e2u 22: <code>ServerSideApply=true</code> l\u00e0 g\u00ec?","text":"<pre><code>**Server-Side Apply (SSA)** l\u00e0 t\u00ednh n\u0103ng K8s cho ph\u00e9p API server qu\u1ea3n l\u00fd field ownership, thay v\u00ec client.\n\n```yaml\nsyncOptions:\n  - ServerSideApply=true\n```\n\n**\u01afu \u0111i\u1ec3m:**\n- Gi\u1ea3i quy\u1ebft conflict khi nhi\u1ec1u controller c\u00f9ng s\u1eeda 1 resource\n- Kh\u00f4ng gi\u1edbi h\u1ea1n annotation size (kh\u00e1c `kubectl apply`)\n- T\u01b0\u01a1ng th\u00edch t\u1ed1t h\u01a1n v\u1edbi HPA, VPA, v\u00e0 c\u00e1c controllers kh\u00e1c\n\n**Khi n\u00e0o d\u00f9ng?** Khi g\u1eb7p \"metadata.annotations too long\" error ho\u1eb7c conflict v\u1edbi controllers.\n</code></pre>"},{"location":"day-03/questions/#cau-23-selective-sync-la-gi","title":"C\u00e2u 23: Selective Sync l\u00e0 g\u00ec?","text":"<pre><code>Cho ph\u00e9p sync **ch\u1ec9 m\u1ed9t s\u1ed1 resources** thay v\u00ec to\u00e0n b\u1ed9 Application:\n\n```bash\n# Sync ch\u1ec9 Deployment\nargocd app sync &lt;app&gt; --resource apps:Deployment:my-deployment\n\n# Sync ch\u1ec9 Service\nargocd app sync &lt;app&gt; --resource :Service:my-service\n```\n\n**Use case:** App c\u00f3 nhi\u1ec1u resources, ch\u1ec9 mu\u1ed1n update 1 Deployment m\u00e0 kh\u00f4ng \u1ea3nh h\u01b0\u1edfng resources kh\u00e1c.\n</code></pre>"},{"location":"day-03/questions/#cau-24-force-sync-khac-gi-normal-sync","title":"C\u00e2u 24: Force sync kh\u00e1c g\u00ec normal sync?","text":"<pre><code>```bash\n# Normal sync\nargocd app sync &lt;app&gt;\n\n# Force sync\nargocd app sync &lt;app&gt; --force\n```\n\n**Force sync** s\u1ebd **delete r\u1ed3i recreate** resources thay v\u00ec update. T\u01b0\u01a1ng \u0111\u01b0\u01a1ng `kubectl delete` + `kubectl apply`.\n\n**\u26a0\ufe0f G\u00e2y downtime!** Pods b\u1ecb x\u00f3a r\u1ed3i t\u1ea1o l\u1ea1i. Ch\u1ec9 d\u00f9ng khi normal sync kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng (v\u00ed d\u1ee5: immutable fields).\n</code></pre>"},{"location":"day-03/questions/#cau-25-dry-run-sync-dung-e-lam-gi","title":"C\u00e2u 25: Dry-run sync d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>```bash\nargocd app sync &lt;app&gt; --dry-run\n```\n\nCho ph\u00e9p **preview** nh\u1eefng g\u00ec s\u1ebd thay \u0111\u1ed5i m\u00e0 **kh\u00f4ng th\u1ef1c s\u1ef1 apply**. Output hi\u1ec3n th\u1ecb diff gi\u1eefa Git v\u00e0 Cluster.\n\n**Use case:** Review thay \u0111\u1ed5i tr\u01b0\u1edbc khi deploy l\u00ean production. T\u01b0\u01a1ng t\u1ef1 `kubectl apply --dry-run=server`.\n</code></pre>"},{"location":"day-03/questions/#cau-26-annotation-argocdargoprojiocompare-options-ignoreextraneous-nghia-la-gi","title":"C\u00e2u 26: Annotation <code>argocd.argoproj.io/compare-options: IgnoreExtraneous</code> ngh\u0129a l\u00e0 g\u00ec?","text":"<pre><code>N\u00f3i ArgoCD **b\u1ecf qua** resource khi t\u00ednh to\u00e1n Sync Status. Resource v\u1eabn t\u1ed3n t\u1ea1i tr\u00ean cluster nh\u01b0ng ArgoCD coi nh\u01b0 kh\u00f4ng li\u00ean quan.\n\n```yaml\nmetadata:\n  annotations:\n    argocd.argoproj.io/compare-options: IgnoreExtraneous\n```\n\n**Use case:** Resources \u0111\u01b0\u1ee3c t\u1ea1o b\u1edfi operators ho\u1eb7c controllers kh\u00e1c m\u00e0 ArgoCD kh\u00f4ng n\u00ean qu\u1ea3n l\u00fd.\n</code></pre>"},{"location":"day-03/questions/#cau-27-tai-sao-app-lien-tuc-outofsync-du-a-sync","title":"C\u00e2u 27: T\u1ea1i sao app li\u00ean t\u1ee5c OutOfSync d\u00f9 \u0111\u00e3 sync?","text":"<pre><code>**Nguy\u00ean nh\u00e2n ph\u1ed5 bi\u1ebfn:**\n1. **Mutating webhook** \u2014 Admission controller th\u00eam/s\u1eeda fields \u2192 diff\n2. **Default values** \u2014 K8s API server th\u00eam default fields kh\u00f4ng c\u00f3 trong YAML\n3. **Controller modifications** \u2014 HPA, VPA s\u1eeda replicas/resources\n4. **Immutable fields** \u2014 Kh\u00f4ng th\u1ec3 update field \u0111\u00e3 set (Job spec)\n\n**Gi\u1ea3i quy\u1ebft:** D\u00f9ng `ignoreDifferences` cho fields b\u1ecb mutate:\n```yaml\nspec:\n  ignoreDifferences:\n    - group: \"\"\n      kind: Service\n      jsonPointers:\n        - /spec/clusterIP\n```\n</code></pre>"},{"location":"day-03/questions/#cau-28-cach-xem-logs-cua-argocd-controllers","title":"C\u00e2u 28: C\u00e1ch xem logs c\u1ee7a ArgoCD controllers?","text":"<pre><code>```bash\n# Application Controller logs (sync/reconcile)\nkubectl logs -n argocd deployment/argocd-application-controller -f\n\n# API Server logs (UI/API requests)\nkubectl logs -n argocd deployment/argocd-server -f\n\n# Repo Server logs (git clone/render)\nkubectl logs -n argocd deployment/argocd-repo-server -f\n\n# T\u0103ng log verbosity\nkubectl edit deployment argocd-application-controller -n argocd\n# Th\u00eam arg: --loglevel=debug\n```\n</code></pre>"},{"location":"day-03/questions/#cau-29-argocd-app-actions-dung-e-lam-gi","title":"C\u00e2u 29: <code>argocd app actions</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Ch\u1ea1y **resource actions** tr\u1ef1c ti\u1ebfp t\u1eeb CLI:\n\n```bash\n# Li\u1ec7t k\u00ea actions c\u00f3 s\u1eb5n cho resource\nargocd app actions list &lt;app&gt; --kind Deployment\n\n# Restart deployment (rollout restart)\nargocd app actions run &lt;app&gt; restart --kind Deployment --resource-name my-deployment\n```\n\n**Actions c\u00f3 s\u1eb5n:**\n- **Deployment:** restart\n- **StatefulSet:** restart\n- **DaemonSet:** restart\n- **Rollout (Argo):** promote, abort, retry\n\n**T\u01b0\u01a1ng \u0111\u01b0\u01a1ng:** `kubectl rollout restart deployment my-deployment` nh\u01b0ng qua ArgoCD.\n</code></pre>"},{"location":"day-03/questions/#cau-30-lam-sao-so-sanh-2-revision-cua-cung-application","title":"C\u00e2u 30: L\u00e0m sao so s\u00e1nh 2 revision c\u1ee7a c\u00f9ng Application?","text":"<pre><code>```bash\n# Xem history\nargocd app history &lt;app&gt;\n\n# So s\u00e1nh revision hi\u1ec7n t\u1ea1i vs c\u1ee5 th\u1ec3\nargocd app diff &lt;app&gt; --revision &lt;commit-hash&gt;\n\n# Xem manifest c\u1ee7a revision c\u1ee5 th\u1ec3\nargocd app manifests &lt;app&gt; --revision &lt;commit-hash&gt;\n```\n\n**Use case:** Debug \u2014 so s\u00e1nh config tr\u01b0\u1edbc v\u00e0 sau khi c\u00f3 l\u1ed7i \u0111\u1ec3 xem g\u00ec \u0111\u00e3 thay \u0111\u1ed5i. K\u1ebft h\u1ee3p v\u1edbi `git diff &lt;hash1&gt; &lt;hash2&gt;` tr\u00ean Git repo.\n</code></pre>"},{"location":"day-03/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 3: Sync Strategies &amp; Ph\u1ee5c h\u1ed3i s\u1ef1 c\u1ed1","text":""},{"location":"day-03/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>C\u1ea5u h\u00ecnh Self-heal cho \u1ee9ng d\u1ee5ng</li> <li>C\u1ea5u h\u00ecnh Prune cho \u1ee9ng d\u1ee5ng</li> <li>Quan s\u00e1t ArgoCD t\u1ef1 ph\u1ee5c h\u1ed3i sau s\u1ef1 c\u1ed1</li> </ul>"},{"location":"day-03/exercises/exercise/#bai-tap-1-bat-auto-sync-self-heal","title":"B\u00e0i t\u1eadp 1: B\u1eadt Auto Sync + Self-heal","text":"<ol> <li> <p>\u00c1p d\u1ee5ng Application v\u1edbi auto-sync:    <pre><code>kubectl apply -f argocd/application-auto-sync.yaml\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra c\u1ea5u h\u00ecnh:    <pre><code>argocd app get nginx-demo -o yaml | grep -A5 syncPolicy\n</code></pre></p> </li> </ol> <p>K\u1ebft qu\u1ea3 mong \u0111\u1ee3i: <code>selfHeal: true</code>, <code>prune: true</code></p>"},{"location":"day-03/exercises/exercise/#bai-tap-2-test-self-heal","title":"B\u00e0i t\u1eadp 2: Test Self-heal","text":"<ol> <li> <p>X\u00f3a t\u1ea5t c\u1ea3 pods:    <pre><code>kubectl delete pods --all -n demo-app\n</code></pre></p> </li> <li> <p>Quan s\u00e1t tr\u00ean ArgoCD UI: status chuy\u1ec3n t\u1eeb Healthy \u2192 Progressing \u2192 Healthy</p> </li> <li> <p>Ki\u1ec3m tra pods \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o l\u1ea1i:    <pre><code>kubectl get pods -n demo-app\n</code></pre></p> </li> <li> <p>Th\u1eed scale tr\u1ef1c ti\u1ebfp:    <pre><code>kubectl scale deployment nginx-demo -n demo-app --replicas=10\nsleep 15\nkubectl get pods -n demo-app\n# \u2192 ArgoCD rollback v\u1ec1 2 replicas\n</code></pre></p> </li> </ol>"},{"location":"day-03/exercises/exercise/#bai-tap-3-test-prune","title":"B\u00e0i t\u1eadp 3: Test Prune","text":"<ol> <li> <p>Ki\u1ec3m tra ConfigMap t\u1ed3n t\u1ea1i:    <pre><code>kubectl get configmap nginx-config -n demo-app\n</code></pre></p> </li> <li> <p>Tr\u00ean Git repo, x\u00f3a ph\u1ea7n ConfigMap kh\u1ecfi manifest, commit &amp; push</p> </li> <li> <p>Ch\u1edd ArgoCD auto-sync (ho\u1eb7c <code>argocd app sync nginx-demo</code>)</p> </li> <li> <p>Ki\u1ec3m tra ConfigMap \u0111\u00e3 b\u1ecb x\u00f3a:    <pre><code>kubectl get configmap nginx-config -n demo-app\n# Expected: Error from server (NotFound)\n</code></pre></p> </li> </ol>"},{"location":"day-03/exercises/exercise/#bai-tap-4-chong-prune-cho-resource-quan-trong","title":"B\u00e0i t\u1eadp 4: Ch\u1ed1ng Prune cho resource quan tr\u1ecdng","text":"<ol> <li> <p>Th\u00eam annotation v\u00e0o Service \u0111\u1ec3 ng\u0103n ArgoCD x\u00f3a:    <pre><code>metadata:\n  annotations:\n    argocd.argoproj.io/sync-options: Prune=false\n</code></pre></p> </li> <li> <p>X\u00f3a Service kh\u1ecfi Git, commit &amp; push</p> </li> <li> <p>Ki\u1ec3m tra Service v\u1eabn t\u1ed3n t\u1ea1i tr\u00ean cluster (v\u00ec Prune=false)</p> </li> </ol>"},{"location":"day-03/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] B\u1eadt Auto Sync + Self-heal + Prune th\u00e0nh c\u00f4ng</li> <li>[ ] X\u00f3a pods \u2192 ArgoCD t\u1ef1 t\u1ea1o l\u1ea1i</li> <li>[ ] Scale tr\u1ef1c ti\u1ebfp \u2192 ArgoCD rollback v\u1ec1 gi\u00e1 tr\u1ecb Git</li> <li>[ ] X\u00f3a resource kh\u1ecfi Git \u2192 Prune x\u00f3a tr\u00ean cluster</li> <li>[ ] Annotation Prune=false ng\u0103n x\u00f3a th\u00e0nh c\u00f4ng</li> </ul>"},{"location":"day-04/","title":"\ud83d\udcc5 Ng\u00e0y 4: L\u00e0m Vi\u1ec7c V\u1edbi Helm Charts","text":""},{"location":"day-04/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u c\u00e1ch ArgoCD render Helm template</li> <li>Deploy \u1ee9ng d\u1ee5ng ph\u1ee9c t\u1ea1p (Redis) b\u1eb1ng Helm qua ArgoCD</li> <li>Override <code>values.yaml</code> t\u1eeb giao di\u1ec7n ArgoCD</li> </ul>"},{"location":"day-04/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-04/#helm-trong-argocd","title":"Helm trong ArgoCD","text":"<p>ArgoCD h\u1ed7 tr\u1ee3 Helm charts native \u2014 kh\u00f4ng c\u1ea7n c\u00e0i Helm CLI tr\u00ean m\u00e1y. ArgoCD t\u1ef1:</p> <ol> <li>Clone Helm chart t\u1eeb repo</li> <li>Render template v\u1edbi <code>values.yaml</code></li> <li>Apply k\u1ebft qu\u1ea3 l\u00ean cluster</li> </ol> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              ArgoCD + Helm Flow                  \u2502\n\u2502                                                  \u2502\n\u2502  Helm Repo/Git \u2500\u2500\u2192 ArgoCD \u2500\u2500\u2192 helm template \u2500\u2500\u2192  \u2502\n\u2502                       \u2193                          \u2502\n\u2502              Rendered YAML \u2500\u2500\u2192 kubectl apply     \u2502\n\u2502                                                  \u2502\n\u2502  \u26a0\ufe0f ArgoCD KH\u00d4NG ch\u1ea1y \"helm install\"             \u2502\n\u2502     N\u00f3 ch\u1ec9 render template r\u1ed3i apply YAML       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-04/#3-cach-dung-helm-trong-argocd","title":"3 c\u00e1ch d\u00f9ng Helm trong ArgoCD","text":"C\u00e1ch Source M\u00f4 t\u1ea3 Helm Repo <code>repoURL: https://charts.bitnami.com/bitnami</code> Chart t\u1eeb Helm repository Git Repo <code>repoURL: https://github.com/user/repo.git</code> Chart n\u1eb1m trong Git repo OCI Registry <code>repoURL: oci://registry.example.com/charts</code> Chart d\u1ea1ng OCI"},{"location":"day-04/#override-values","title":"Override Values","text":"<pre><code># C\u00e1ch 1: Inline values trong Application\nspec:\n  source:\n    helm:\n      values: |\n        replicaCount: 3\n        service:\n          type: NodePort\n\n# C\u00e1ch 2: valueFiles\nspec:\n  source:\n    helm:\n      valueFiles:\n        - values-production.yaml\n\n# C\u00e1ch 3: parameters (t\u1eebng key)\nspec:\n  source:\n    helm:\n      parameters:\n        - name: replicaCount\n          value: \"3\"\n        - name: service.type\n          value: NodePort\n</code></pre>"},{"location":"day-04/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-04/#buoc-1-deploy-redis-bang-helm-qua-argocd","title":"B\u01b0\u1edbc 1: Deploy Redis b\u1eb1ng Helm qua ArgoCD","text":"<pre><code># \u00c1p d\u1ee5ng Application cho Redis\nkubectl apply -f argocd/helm-app-redis.yaml\n\n# Ho\u1eb7c qua CLI\nargocd app create redis \\\n  --repo https://charts.bitnami.com/bitnami \\\n  --helm-chart redis \\\n  --revision 19.6.4 \\\n  --dest-server https://kubernetes.default.svc \\\n  --dest-namespace redis \\\n  --sync-option CreateNamespace=true \\\n  --helm-set architecture=standalone \\\n  --helm-set auth.enabled=false\n\n# Sync\nargocd app sync redis\n</code></pre>"},{"location":"day-04/#buoc-2-kiem-tra","title":"B\u01b0\u1edbc 2: Ki\u1ec3m tra","text":"<pre><code># Xem app status\nargocd app get redis\n\n# Xem pods\nkubectl get pods -n redis\n\n# Test Redis\nkubectl exec -it redis-master-0 -n redis -- redis-cli ping\n# \u2192 PONG\n</code></pre>"},{"location":"day-04/#buoc-3-override-values-tu-ui","title":"B\u01b0\u1edbc 3: Override values t\u1eeb UI","text":"<ol> <li>M\u1edf ArgoCD UI \u2192 Click v\u00e0o app <code>redis</code></li> <li>Click APP DETAILS \u2192 PARAMETERS</li> <li>Thay \u0111\u1ed5i gi\u00e1 tr\u1ecb, v\u00ed d\u1ee5: <code>replica.replicaCount</code> = <code>2</code></li> <li>Click SAVE \u2192 SYNC</li> </ol>"},{"location":"day-04/#buoc-4-deploy-wordpress-nang-cao","title":"B\u01b0\u1edbc 4: Deploy WordPress (N\u00e2ng cao)","text":"<pre><code>kubectl apply -f argocd/helm-app-wordpress.yaml\nargocd app sync wordpress\n</code></pre>"},{"location":"day-04/#faq","title":"\u2753 FAQ","text":""},{"location":"day-04/#q-co-can-cai-helm-cli-tren-may-e-argocd-chay-khong","title":"Q: C\u00f3 c\u1ea7n c\u00e0i Helm CLI tr\u00ean m\u00e1y \u0111\u1ec3 ArgoCD ch\u1ea1y kh\u00f4ng?","text":"<p>A: Kh\u00f4ng! ArgoCD t\u1ef1 t\u00edch h\u1ee3p Helm engine b\u00ean trong. N\u00f3 ch\u1ea1y <code>helm template</code> (kh\u00f4ng ph\u1ea3i <code>helm install</code>) r\u1ed3i apply YAML tr\u1ef1c ti\u1ebfp. B\u1ea1n ch\u1ec9 c\u1ea7n Helm CLI n\u1ebfu mu\u1ed1n debug template locally.</p>"},{"location":"day-04/#q-khi-nao-nen-dung-helm-qua-argocd-thay-vi-helm-install-thang","title":"Q: Khi n\u00e0o n\u00ean d\u00f9ng Helm qua ArgoCD thay v\u00ec <code>helm install</code> th\u1eb3ng?","text":"<p>A: Lu\u00f4n lu\u00f4n d\u00f9ng ArgoCD n\u1ebfu b\u1ea1n theo GitOps! <code>helm install</code> kh\u00f4ng c\u00f3 audit trail, drift detection, hay rollback t\u1ef1 \u0111\u1ed9ng.</p>"},{"location":"day-04/#q-helm-hooks-co-hoat-ong-voi-argocd-khong","title":"Q: Helm hooks c\u00f3 ho\u1ea1t \u0111\u1ed9ng v\u1edbi ArgoCD kh\u00f4ng?","text":"<p>A: C\u00f3, nh\u01b0ng ArgoCD chuy\u1ec3n \u0111\u1ed5i Helm hooks th\u00e0nh ArgoCD resource hooks. H\u00e0nh vi c\u00f3 th\u1ec3 h\u01a1i kh\u00e1c.</p>"},{"location":"day-04/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 03 \u2014 Sync Strategies &amp; Ph\u1ee5c h\u1ed3i s\u1ef1 c\u1ed1 \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 05 \u2014 Kustomize</p>"},{"location":"day-04/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 4: L\u00e0m Vi\u1ec7c V\u1edbi Helm Charts","text":""},{"location":"day-04/questions/#phan-1-helm-basics-cau-1-10","title":"Ph\u1ea7n 1: Helm Basics (C\u00e2u 1-10)","text":""},{"location":"day-04/questions/#cau-1-helm-chart-la-gi","title":"C\u00e2u 1: Helm Chart l\u00e0 g\u00ec?","text":"<pre><code>Helm Chart l\u00e0 **package** ch\u1ee9a t\u1ea5t c\u1ea3 Kubernetes resources c\u1ea7n thi\u1ebft \u0111\u1ec3 deploy 1 \u1ee9ng d\u1ee5ng. G\u1ed3m: templates (YAML c\u00f3 bi\u1ebfn), values.yaml (gi\u00e1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh), Chart.yaml (metadata).\n</code></pre>"},{"location":"day-04/questions/#cau-2-argocd-render-helm-template-bang-cach-nao","title":"C\u00e2u 2: ArgoCD render Helm template b\u1eb1ng c\u00e1ch n\u00e0o?","text":"<pre><code>ArgoCD ch\u1ea1y `helm template` (kh\u00f4ng ph\u1ea3i `helm install`) n\u1ed9i b\u1ed9 \u2192 t\u1ea1o ra plain YAML \u2192 `kubectl apply`. ArgoCD **kh\u00f4ng** t\u1ea1o Helm release n\u00ean `helm list` s\u1ebd kh\u00f4ng th\u1ea5y.\n</code></pre>"},{"location":"day-04/questions/#cau-3-co-can-cai-helm-cli-tren-may-e-argocd-deploy-helm-chart-khong","title":"C\u00e2u 3: C\u00f3 c\u1ea7n c\u00e0i Helm CLI tr\u00ean m\u00e1y \u0111\u1ec3 ArgoCD deploy Helm chart kh\u00f4ng?","text":"<pre><code>**Kh\u00f4ng!** ArgoCD t\u00edch h\u1ee3p Helm engine trong Repository Server. Helm CLI local ch\u1ec9 c\u1ea7n khi debug template.\n</code></pre>"},{"location":"day-04/questions/#cau-4-3-cach-override-helm-values-trong-argocd","title":"C\u00e2u 4: 3 c\u00e1ch override Helm values trong ArgoCD?","text":"<pre><code>1. **Inline values:** `helm.values: |` \u2014 YAML string tr\u1ef1c ti\u1ebfp\n2. **Value files:** `helm.valueFiles: [values-prod.yaml]` \u2014 File trong repo\n3. **Parameters:** `helm.parameters: [{name: x, value: \"y\"}]` \u2014 T\u1eebng key\n\nTh\u1ee9 t\u1ef1 \u01b0u ti\u00ean: parameters &gt; values (inline) &gt; valueFiles &gt; chart defaults.\n</code></pre>"},{"location":"day-04/questions/#cau-5-repourl-tro-helm-repo-vs-git-repo-khac-nhau-the-nao","title":"C\u00e2u 5: <code>repoURL</code> tr\u1ecf Helm repo vs Git repo kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>**Helm repo:** C\u1ea7n `chart` field + `targetRevision` = chart version.\n**Git repo:** D\u00f9ng `path` tr\u1ecf \u0111\u1ebfn th\u01b0 m\u1ee5c ch\u1ee9a Chart.yaml + `targetRevision` = branch/tag.\n</code></pre>"},{"location":"day-04/questions/#cau-6-releasename-dung-e-lam-gi","title":"C\u00e2u 6: <code>releaseName</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>X\u00e1c \u0111\u1ecbnh `.Release.Name` trong Helm template. M\u1eb7c \u0111\u1ecbnh = t\u00ean Application. Quan tr\u1ecdng v\u00ec nhi\u1ec1u chart d\u00f9ng n\u00f3 \u0111\u1eb7t t\u00ean resources.\n</code></pre>"},{"location":"day-04/questions/#cau-7-helm-hooks-co-hoat-ong-trong-argocd-khong","title":"C\u00e2u 7: Helm hooks c\u00f3 ho\u1ea1t \u0111\u1ed9ng trong ArgoCD kh\u00f4ng?","text":"<pre><code>**C\u00f3, nh\u01b0ng \u0111\u01b0\u1ee3c chuy\u1ec3n \u0111\u1ed5i:** `pre-install/upgrade` \u2192 `PreSync`, `post-install/upgrade` \u2192 `PostSync`. H\u00e0nh vi c\u00f3 th\u1ec3 h\u01a1i kh\u00e1c `helm install` thu\u1ea7n.\n</code></pre>"},{"location":"day-04/questions/#cau-8-lam-sao-xem-rendered-manifests-cua-helm-application","title":"C\u00e2u 8: L\u00e0m sao xem rendered manifests c\u1ee7a Helm Application?","text":"<pre><code>```bash\nargocd app manifests &lt;app-name&gt;\n# Ho\u1eb7c local: helm template &lt;release&gt; &lt;chart&gt; --values values.yaml\n```\n</code></pre>"},{"location":"day-04/questions/#cau-9-oci-helm-registry-la-gi","title":"C\u00e2u 9: OCI Helm registry l\u00e0 g\u00ec?","text":"<pre><code>L\u01b0u Helm charts trong **container registry** (Docker Hub, ECR) thay v\u00ec Helm repo. D\u00f9ng `oci://` prefix. \u01afu \u0111i\u1ec3m: chung infra v\u1edbi images, authentication nh\u1ea5t qu\u00e1n.\n</code></pre>"},{"location":"day-04/questions/#cau-10-debug-helm-template-failed-the-nao","title":"C\u00e2u 10: Debug \"helm template failed\" th\u1ebf n\u00e0o?","text":"<pre><code>1. `argocd app get &lt;app&gt;` \u2014 \u0111\u1ecdc error\n2. `kubectl logs deployment/argocd-repo-server -n argocd`\n3. Test local: `helm template &lt;chart&gt; --values values.yaml`\n4. Common: values sai type, chart version incompatible, required values missing\n</code></pre>"},{"location":"day-04/questions/#phan-2-integration-cau-11-20","title":"Ph\u1ea7n 2: Integration (C\u00e2u 11-20)","text":""},{"location":"day-04/questions/#cau-11-helm-list-co-thay-apps-tu-argocd-khong","title":"C\u00e2u 11: <code>helm list</code> c\u00f3 th\u1ea5y apps t\u1eeb ArgoCD kh\u00f4ng?","text":"<pre><code>**Kh\u00f4ng!** ArgoCD d\u00f9ng `helm template` \u2192 `kubectl apply`, kh\u00f4ng t\u1ea1o Helm release object.\n</code></pre>"},{"location":"day-04/questions/#cau-12-dung-nhieu-values-files-cho-1-chart-uoc-khong","title":"C\u00e2u 12: D\u00f9ng nhi\u1ec1u values files cho 1 chart \u0111\u01b0\u1ee3c kh\u00f4ng?","text":"<pre><code>**C\u00f3!** Files sau override files tr\u01b0\u1edbc: `valueFiles: [values.yaml, values-prod.yaml]`.\n</code></pre>"},{"location":"day-04/questions/#cau-13-helmpasscredentials-dung-khi-nao","title":"C\u00e2u 13: <code>helm.passCredentials</code> d\u00f9ng khi n\u00e0o?","text":"<pre><code>Khi chart c\u00f3 sub-charts t\u1eeb **private repo** \u2192 ArgoCD c\u1ea7n pass credentials \u0111\u1ec3 download dependencies.\n</code></pre>"},{"location":"day-04/questions/#cau-14-pin-version-chart-the-nao","title":"C\u00e2u 14: Pin version chart th\u1ebf n\u00e0o?","text":"<pre><code>D\u00f9ng exact version: `targetRevision: 19.6.4`. Tr\u00e1nh `*` hay semver range cho production.\n</code></pre>"},{"location":"day-04/questions/#cau-15-inline-values-vs-valuefiles-khi-nao-dung-cai-nao","title":"C\u00e2u 15: Inline values vs valueFiles \u2014 khi n\u00e0o d\u00f9ng c\u00e1i n\u00e0o?","text":"<pre><code>**valueFiles** cho per-environment config (nhi\u1ec1u values). **Inline values** cho quick overrides (\u00edt values). Inline c\u00f3 \u01b0u ti\u00ean cao h\u01a1n.\n</code></pre>"},{"location":"day-04/questions/#cau-16-helm-dependencysub-charts-hoat-ong-the-nao","title":"C\u00e2u 16: Helm dependency/sub-charts ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>ArgoCD t\u1ef1 ch\u1ea1y `helm dependency build` tr\u01b0\u1edbc render. N\u1ebfu sub-charts t\u1eeb private repo \u2192 c\u1ea7n `helm.passCredentials: true`.\n</code></pre>"},{"location":"day-04/questions/#cau-17-deploy-helm-chart-tu-git-repo-cau-hinh-khac-gi","title":"C\u00e2u 17: Deploy Helm chart t\u1eeb Git repo c\u1ea5u h\u00ecnh kh\u00e1c g\u00ec?","text":"<pre><code>D\u00f9ng `path` thay v\u00ec `chart`. ArgoCD t\u1ef1 nh\u1eadn di\u1ec7n Helm chart khi th\u1ea5y `Chart.yaml` trong th\u01b0 m\u1ee5c.\n</code></pre>"},{"location":"day-04/questions/#cau-18-helmskipcrds-dung-e-lam-gi","title":"C\u00e2u 18: <code>helm.skipCrds</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>B\u1ecf qua CRDs khi render. D\u00f9ng khi CRDs \u0111\u00e3 \u0111\u01b0\u1ee3c c\u00e0i b\u1edfi operator kh\u00e1c ho\u1eb7c qu\u1ea3n l\u00fd ri\u00eang.\n</code></pre>"},{"location":"day-04/questions/#cau-19-multiple-sources-cho-helm-hoat-ong-the-nao","title":"C\u00e2u 19: Multiple Sources cho Helm ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>T\u00e1ch **chart** v\u00e0 **values** \u1edf 2 repo kh\u00e1c nhau (ArgoCD 2.6+). Chart t\u1eeb Helm repo, values t\u1eeb Git config repo. D\u00f9ng `$ref` syntax \u0111\u1ec3 reference.\n</code></pre>"},{"location":"day-04/questions/#cau-20-argocd-co-tu-update-khi-helm-chart-co-version-moi-khong","title":"C\u00e2u 20: ArgoCD c\u00f3 t\u1ef1 update khi Helm chart c\u00f3 version m\u1edbi kh\u00f4ng?","text":"<pre><code>Ph\u1ee5 thu\u1ed9c `targetRevision`: pinned (`19.6.4`) \u2192 kh\u00f4ng; semver (`19.*`) \u2192 c\u00f3; latest (`*`) \u2192 c\u00f3. Best practice: pin + update th\u1ee7 c\u00f4ng qua Git.\n</code></pre>"},{"location":"day-04/questions/#phan-3-advanced-cau-21-30","title":"Ph\u1ea7n 3: Advanced (C\u00e2u 21-30)","text":""},{"location":"day-04/questions/#cau-21-bitnami-charts-la-gi","title":"C\u00e2u 21: Bitnami charts l\u00e0 g\u00ec?","text":"<pre><code>Bitnami cung c\u1ea5p Helm charts cho apps ph\u1ed5 bi\u1ebfn (Redis, PostgreSQL, WordPress). Maintained b\u1edfi VMware, repo: `https://charts.bitnami.com/bitnami`.\n</code></pre>"},{"location":"day-04/questions/#cau-22-chart-version-vs-app-version","title":"C\u00e2u 22: Chart version vs App version?","text":"<pre><code>Chart version (Chart.yaml `version`) = c\u1ea5u h\u00ecnh chart thay \u0111\u1ed5i. App version (`appVersion`) = phi\u00ean b\u1ea3n \u1ee9ng d\u1ee5ng (vd: Redis 7.2.4). ArgoCD `targetRevision` d\u00f9ng chart version.\n</code></pre>"},{"location":"day-04/questions/#cau-23-deploy-cung-chart-cho-devprod-the-nao","title":"C\u00e2u 23: Deploy c\u00f9ng chart cho dev/prod th\u1ebf n\u00e0o?","text":"<pre><code>T\u1ea1o **2 Applications** c\u00f9ng chart, kh\u00e1c values. Dev: `standalone, 0 replicas`, Prod: `replication, 3 replicas`. Ho\u1eb7c d\u00f9ng `valueFiles` kh\u00e1c nhau.\n</code></pre>"},{"location":"day-04/questions/#cau-24-helmfileparameters-dung-e-lam-gi","title":"C\u00e2u 24: <code>helm.fileParameters</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Set Helm values t\u1eeb **n\u1ed9i dung file** (certificates, config files). T\u01b0\u01a1ng \u0111\u01b0\u01a1ng `helm install --set-file`.\n</code></pre>"},{"location":"day-04/questions/#cau-25-argocd-cache-helm-chart-khong","title":"C\u00e2u 25: ArgoCD cache Helm chart kh\u00f4ng?","text":"<pre><code>**C\u00f3!** Cache trong Redis, tr\u00e1nh re-download m\u1ed7i reconcile cycle.\n</code></pre>"},{"location":"day-04/questions/#cau-26-tai-sao-argocd-dung-helm-template-thay-vi-helm-install","title":"C\u00e2u 26: T\u1ea1i sao ArgoCD d\u00f9ng <code>helm template</code> thay v\u00ec <code>helm install</code>?","text":"<pre><code>1. GitOps \u2014 ArgoCD qu\u1ea3n l\u00fd state, kh\u00f4ng c\u1ea7n Helm release tracking\n2. Consistency \u2014 M\u1ecdi tool \u0111\u1ec1u output plain YAML\n3. Simplicity \u2014 Kh\u00f4ng c\u1ea7n release secrets\n4. ArgoCD c\u1ea7n plain YAML \u0111\u1ec3 diff\n</code></pre>"},{"location":"day-04/questions/#cau-27-fix-values-file-not-found","title":"C\u00e2u 27: Fix \"values file not found\"?","text":"<pre><code>Path trong `valueFiles` t\u01b0\u01a1ng \u0111\u1ed1i so v\u1edbi **chart root**, kh\u00f4ng ph\u1ea3i repo root. Ki\u1ec3m tra l\u1ea1i path. N\u1ebfu values \u1edf folder kh\u00e1c \u2192 d\u00f9ng Multiple Sources.\n</code></pre>"},{"location":"day-04/questions/#cau-28-synced-nhung-app-loi-tai-sao","title":"C\u00e2u 28: \"Synced\" nh\u01b0ng app l\u1ed7i \u2014 t\u1ea1i sao?","text":"<pre><code>Synced \u2260 Healthy. \"Synced\" = manifests \u0111\u00e3 apply. App c\u00f3 th\u1ec3 Degraded n\u1ebfu pods crash. Lu\u00f4n check c\u1ea3 Sync Status **v\u00e0** Health Status.\n</code></pre>"},{"location":"day-04/questions/#cau-29-dung-helm-post-renderer-voi-argocd","title":"C\u00e2u 29: D\u00f9ng Helm post-renderer v\u1edbi ArgoCD?","text":"<pre><code>**Kh\u00f4ng tr\u1ef1c ti\u1ebfp.** Thay th\u1ebf: Kustomize wrapping Helm, Config Management Plugin, ho\u1eb7c CI pipeline render tr\u01b0\u1edbc.\n</code></pre>"},{"location":"day-04/questions/#cau-30-so-sanh-helm-install-vs-argocdhelm","title":"C\u00e2u 30: So s\u00e1nh <code>helm install</code> vs ArgoCD+Helm?","text":"<pre><code>| | `helm install` | ArgoCD+Helm |\n|---|---|---|\n| Audit trail | Kh\u00f4ng | Git history |\n| Drift detection | Kh\u00f4ng | C\u00f3 |\n| Self-heal | Kh\u00f4ng | C\u00f3 |\n| Rollback | `helm rollback` | Git revert |\n| Collaboration | Kh\u00f3 | PR review |\n\nArgoCD+Helm = best of both worlds.\n</code></pre>"},{"location":"day-04/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 4: Helm Charts v\u1edbi ArgoCD","text":""},{"location":"day-04/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>Deploy Redis b\u1eb1ng Helm qua ArgoCD</li> <li>Override values tr\u1ef1c ti\u1ebfp t\u1eeb ArgoCD UI</li> <li>Hi\u1ec3u c\u00e1ch ArgoCD render Helm template</li> </ul>"},{"location":"day-04/exercises/exercise/#bai-tap-1-deploy-redis","title":"B\u00e0i t\u1eadp 1: Deploy Redis","text":"<ol> <li> <p>Apply Application:    <pre><code>kubectl apply -f argocd/helm-app-redis.yaml\n</code></pre></p> </li> <li> <p>Ch\u1edd sync ho\u00e0n t\u1ea5t:    <pre><code>argocd app wait redis --health\n</code></pre></p> </li> <li> <p>Test Redis:    <pre><code>kubectl exec -it redis-master-0 -n redis -- redis-cli\n&gt; SET hello \"ArgoCD Day 4\"\n&gt; GET hello\n&gt; exit\n</code></pre></p> </li> </ol>"},{"location":"day-04/exercises/exercise/#bai-tap-2-override-values-tu-ui","title":"B\u00e0i t\u1eadp 2: Override Values t\u1eeb UI","text":"<ol> <li>M\u1edf ArgoCD UI \u2192 Click app <code>redis</code></li> <li>Click APP DETAILS \u2192 Tab PARAMETERS</li> <li>Th\u1eed thay \u0111\u1ed5i:</li> <li>T\u00ecm parameter <code>auth.enabled</code> \u2192 \u0110\u1ed5i th\u00e0nh <code>true</code></li> <li>Click SAVE</li> <li>Quan s\u00e1t ArgoCD t\u1ef1 sync thay \u0111\u1ed5i</li> <li>Test l\u1ea1i Redis (l\u00fac n\u00e0y c\u1ea7n password):    <pre><code>kubectl exec -it redis-master-0 -n redis -- redis-cli\n&gt; AUTH &lt;password&gt;\n</code></pre></li> </ol>"},{"location":"day-04/exercises/exercise/#bai-tap-3-xem-helm-template-a-render","title":"B\u00e0i t\u1eadp 3: Xem Helm Template \u0111\u00e3 render","text":"<pre><code># Xem manifest \u0111\u00e3 \u0111\u01b0\u1ee3c ArgoCD render\nargocd app manifests redis\n\n# So s\u00e1nh v\u1edbi helm template local (n\u1ebfu c\u00f3 Helm CLI)\nhelm template redis oci://registry-1.docker.io/bitnamicharts/redis \\\n  --values helm/custom-values.yaml\n</code></pre>"},{"location":"day-04/exercises/exercise/#bai-tap-4-deploy-wordpress-nang-cao","title":"B\u00e0i t\u1eadp 4: Deploy WordPress (N\u00e2ng cao)","text":"<ol> <li> <p>Apply Application:    <pre><code>kubectl apply -f argocd/helm-app-wordpress.yaml\n</code></pre></p> </li> <li> <p>Ch\u1edd sync (~3-5 ph\u00fat):    <pre><code>argocd app wait wordpress --health --timeout 300\n</code></pre></p> </li> <li> <p>Truy c\u1eadp WordPress:    <pre><code>kubectl port-forward svc/wordpress -n wordpress 8888:80 &amp;\n# M\u1edf http://localhost:8888\n# Login: admin / argocd-demo\n</code></pre></p> </li> </ol>"},{"location":"day-04/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] Redis deploy th\u00e0nh c\u00f4ng qua Helm + ArgoCD</li> <li>[ ] Test Redis CLI (SET/GET) th\u00e0nh c\u00f4ng</li> <li>[ ] Override values t\u1eeb UI th\u00e0nh c\u00f4ng</li> <li>[ ] Xem \u0111\u01b0\u1ee3c rendered manifests</li> <li>[ ] (N\u00e2ng cao) WordPress deploy th\u00e0nh c\u00f4ng</li> </ul>"},{"location":"day-05/","title":"\ud83d\udcc5 Ng\u00e0y 5: Kustomize \u2014 \"V\u0169 Kh\u00ed\" B\u00ed M\u1eadt","text":""},{"location":"day-05/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u Kustomize l\u00e0 g\u00ec v\u00e0 Base/Overlays pattern</li> <li>T\u1ea1o c\u1ea5u tr\u00fac multi-environment (Dev, Prod) v\u1edbi Kustomize</li> <li>Deploy 2 m\u00f4i tr\u01b0\u1eddng kh\u00e1c nhau t\u1eeb c\u00f9ng m\u1ed9t code g\u1ed1c qua ArgoCD</li> </ul>"},{"location":"day-05/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-05/#kustomize-la-gi","title":"Kustomize l\u00e0 g\u00ec?","text":"<p>Kustomize cho ph\u00e9p b\u1ea1n t\u00f9y ch\u1ec9nh Kubernetes YAML m\u00e0 kh\u00f4ng c\u1ea7n template engine. Thay v\u00ec d\u00f9ng bi\u1ebfn <code>{{ .Values.xxx }}</code> nh\u01b0 Helm, Kustomize d\u00f9ng patches v\u00e0 overlays.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                Kustomize Structure                    \u2502\n\u2502                                                      \u2502\n\u2502  base/                   \u2190 Code g\u1ed1c (chung)         \u2502\n\u2502  \u251c\u2500\u2500 deployment.yaml                                 \u2502\n\u2502  \u251c\u2500\u2500 service.yaml                                    \u2502\n\u2502  \u2514\u2500\u2500 kustomization.yaml                              \u2502\n\u2502                                                      \u2502\n\u2502  overlays/                                           \u2502\n\u2502  \u251c\u2500\u2500 dev/                \u2190 T\u00f9y ch\u1ec9nh cho Dev        \u2502\n\u2502  \u2502   \u2514\u2500\u2500 kustomization.yaml  (replicas: 1)          \u2502\n\u2502  \u2514\u2500\u2500 prod/               \u2190 T\u00f9y ch\u1ec9nh cho Prod      \u2502\n\u2502      \u2514\u2500\u2500 kustomization.yaml  (replicas: 5)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-05/#so-sanh-helm-vs-kustomize","title":"So s\u00e1nh Helm vs Kustomize","text":"Ti\u00eau ch\u00ed Helm Kustomize C\u00e1ch ho\u1ea1t \u0111\u1ed9ng Template engine (Go template) Patch overlays \u0110\u1ed9 ph\u1ee9c t\u1ea1p Cao (c\u1ea7n h\u1ecdc template syntax) Th\u1ea5p (ch\u1ec9 c\u1ea7n bi\u1ebft YAML) Package sharing Tuy\u1ec7t v\u1eddi (Helm repos) Kh\u00f4ng ph\u00f9 h\u1ee3p Multi-env <code>values-{env}.yaml</code> <code>overlays/{env}/</code> T\u00edch h\u1ee3p kubectl C\u1ea7n c\u00e0i ri\u00eang Built-in (<code>kubectl -k</code>) ArgoCD support \u2705 T\u1ed1t \u2705 T\u1ed1t Khi n\u00e0o d\u00f9ng Chia s\u1ebb chart c\u00f4ng khai Qu\u1ea3n l\u00fd config n\u1ed9i b\u1ed9"},{"location":"day-05/#khi-nao-nen-dung-kustomize","title":"Khi n\u00e0o n\u00ean d\u00f9ng Kustomize?","text":"<ul> <li>\u2705 Qu\u1ea3n l\u00fd nhi\u1ec1u m\u00f4i tr\u01b0\u1eddng (dev, staging, prod) t\u1eeb c\u00f9ng base</li> <li>\u2705 Kh\u00f4ng mu\u1ed1n h\u1ecdc template syntax ph\u1ee9c t\u1ea1p</li> <li>\u2705 Team nh\u1ecf, config n\u1ed9i b\u1ed9</li> <li>\u274c Kh\u00f4ng ph\u00f9 h\u1ee3p \u0111\u1ec3 chia s\u1ebb package c\u00f4ng khai (d\u00f9ng Helm)</li> </ul>"},{"location":"day-05/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-05/#buoc-1-xem-cau-truc-kustomize","title":"B\u01b0\u1edbc 1: Xem c\u1ea5u tr\u00fac Kustomize","text":"<pre><code># C\u1ea5u tr\u00fac \u0111\u00e3 chu\u1ea9n b\u1ecb s\u1eb5n\ntree kustomize/\n# kustomize/\n# \u251c\u2500\u2500 base/\n# \u2502   \u251c\u2500\u2500 deployment.yaml\n# \u2502   \u251c\u2500\u2500 service.yaml\n# \u2502   \u2514\u2500\u2500 kustomization.yaml\n# \u2514\u2500\u2500 overlays/\n#     \u251c\u2500\u2500 dev/\n#     \u2502   \u2514\u2500\u2500 kustomization.yaml\n#     \u2514\u2500\u2500 prod/\n#         \u2514\u2500\u2500 kustomization.yaml\n</code></pre>"},{"location":"day-05/#buoc-2-test-kustomize-locally","title":"B\u01b0\u1edbc 2: Test Kustomize locally","text":"<pre><code># Render cho m\u00f4i tr\u01b0\u1eddng Dev\nkubectl kustomize kustomize/overlays/dev/\n\n# Render cho m\u00f4i tr\u01b0\u1eddng Prod\nkubectl kustomize kustomize/overlays/prod/\n\n# So s\u00e1nh 2 output \u2192 th\u1ea5y s\u1ef1 kh\u00e1c bi\u1ec7t (replicas, labels, env vars)\n</code></pre>"},{"location":"day-05/#buoc-3-push-len-git-deploy-qua-argocd","title":"B\u01b0\u1edbc 3: Push l\u00ean Git &amp; Deploy qua ArgoCD","text":"<pre><code># Push th\u01b0 m\u1ee5c kustomize/ l\u00ean repo Git\n# Sau \u0111\u00f3 t\u1ea1o 2 ArgoCD Applications\n\n# Deploy m\u00f4i tr\u01b0\u1eddng Dev\nkubectl apply -f argocd/app-dev.yaml\n\n# Deploy m\u00f4i tr\u01b0\u1eddng Prod\nkubectl apply -f argocd/app-prod.yaml\n\n# Sync c\u1ea3 hai\nargocd app sync kustomize-dev\nargocd app sync kustomize-prod\n</code></pre>"},{"location":"day-05/#buoc-4-so-sanh-2-moi-truong","title":"B\u01b0\u1edbc 4: So s\u00e1nh 2 m\u00f4i tr\u01b0\u1eddng","text":"<pre><code># Dev: 2 replicas\nkubectl get pods -n kustomize-dev\n\n# Prod: 5 replicas\nkubectl get pods -n kustomize-prod\n\n# Xem labels kh\u00e1c nhau\nkubectl get deployment -n kustomize-dev -o jsonpath='{.items[0].metadata.labels}' | jq\nkubectl get deployment -n kustomize-prod -o jsonpath='{.items[0].metadata.labels}' | jq\n</code></pre>"},{"location":"day-05/#faq","title":"\u2753 FAQ","text":""},{"location":"day-05/#q-nen-dung-helm-hay-kustomize","title":"Q: N\u00ean d\u00f9ng Helm hay Kustomize?","text":"<p>A: Ph\u1ee5 thu\u1ed9c v\u00e0o use case: - Helm: Khi c\u1ea7n chia s\u1ebb chart, deploy third-party apps (Redis, PostgreSQL), complex templating - Kustomize: Khi qu\u1ea3n l\u00fd internal apps, multi-environment, \u0111\u01a1n gi\u1ea3n h\u01a1n</p> <p>Nhi\u1ec1u team d\u00f9ng c\u1ea3 hai: Helm cho third-party, Kustomize cho internal apps.</p>"},{"location":"day-05/#q-argocd-tu-detect-kustomize-khong-can-cau-hinh-gi-ac-biet-khong","title":"Q: ArgoCD t\u1ef1 detect Kustomize kh\u00f4ng c\u1ea7n c\u1ea5u h\u00ecnh g\u00ec \u0111\u1eb7c bi\u1ec7t kh\u00f4ng?","text":"<p>A: \u0110\u00fang! ArgoCD t\u1ef1 nh\u1eadn di\u1ec7n th\u01b0 m\u1ee5c c\u00f3 file <code>kustomization.yaml</code> v\u00e0 d\u00f9ng Kustomize \u0111\u1ec3 render.</p>"},{"location":"day-05/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 04 \u2014 L\u00e0m vi\u1ec7c v\u1edbi Helm Charts \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 06 \u2014 Qu\u1ea3n l\u00fd nhi\u1ec1u Cluster</p>"},{"location":"day-05/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 5: Kustomize","text":""},{"location":"day-05/questions/#phan-1-kustomize-basics-cau-1-10","title":"Ph\u1ea7n 1: Kustomize Basics (C\u00e2u 1-10)","text":""},{"location":"day-05/questions/#cau-1-kustomize-la-gi","title":"C\u00e2u 1: Kustomize l\u00e0 g\u00ec?","text":"<pre><code>Kustomize l\u00e0 tool t\u00edch h\u1ee3p s\u1eb5n trong `kubectl` cho ph\u00e9p **customize** Kubernetes YAML m\u00e0 kh\u00f4ng c\u1ea7n template engine. N\u00f3 d\u00f9ng kh\u00e1i ni\u1ec7m **Base + Overlays** \u0111\u1ec3 t\u1ea1o variant cho c\u00e1c m\u00f4i tr\u01b0\u1eddng kh\u00e1c nhau m\u00e0 kh\u00f4ng duplicate YAML.\n</code></pre>"},{"location":"day-05/questions/#cau-2-kustomize-khac-helm-the-nao","title":"C\u00e2u 2: Kustomize kh\u00e1c Helm th\u1ebf n\u00e0o?","text":"<pre><code>| | Kustomize | Helm |\n|---|-----------|------|\n| Approach | Patch/overlay l\u00ean base YAML | Template v\u1edbi variables |\n| Complexity | \u0110\u01a1n gi\u1ea3n, kh\u00f4ng c\u1ea7n h\u1ecdc syntax m\u1edbi | Ph\u1ee9c t\u1ea1p h\u01a1n (Go templates) |\n| Packaging | Kh\u00f4ng package | Chart package |\n| Sharing | Kh\u00f3 share | D\u1ec5 share qua Helm repo |\n| Use case | Internal, multi-env config | Reusable packages, community charts |\n</code></pre>"},{"location":"day-05/questions/#cau-3-kustomizationyaml-chua-gi","title":"C\u00e2u 3: <code>kustomization.yaml</code> ch\u1ee9a g\u00ec?","text":"<pre><code>File khai b\u00e1o resources, patches, transformers:\n```yaml\napiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\nresources:        # Danh s\u00e1ch YAML files\n  - deployment.yaml\n  - service.yaml\nnamePrefix: dev-  # Prefix cho t\u00ean resources\nnamespace: dev    # Override namespace\nlabels:           # Th\u00eam labels\n  - pairs:\n      env: dev\n```\n</code></pre>"},{"location":"day-05/questions/#cau-4-base-va-overlay-la-gi","title":"C\u00e2u 4: Base v\u00e0 Overlay l\u00e0 g\u00ec?","text":"<pre><code>**Base** = YAML g\u1ed1c, d\u00f9ng chung cho m\u1ecdi m\u00f4i tr\u01b0\u1eddng. **Overlay** = patches/customizations ri\u00eang cho t\u1eebng m\u00f4i tr\u01b0\u1eddng (dev, staging, prod). Overlay reference Base v\u00e0 th\u00eam/s\u1eeda fields.\n```\nbase/          \u2190 YAML g\u1ed1c\noverlays/\n  dev/         \u2190 Overlay cho dev (\u00edt replicas, \u00edt resources)\n  prod/        \u2190 Overlay cho prod (nhi\u1ec1u replicas, nhi\u1ec1u resources)\n```\n</code></pre>"},{"location":"day-05/questions/#cau-5-argocd-auto-detect-kustomize-the-nao","title":"C\u00e2u 5: ArgoCD auto-detect Kustomize th\u1ebf n\u00e0o?","text":"<pre><code>ArgoCD t\u1ef1 nh\u1eadn di\u1ec7n khi th\u1ea5y `kustomization.yaml`, `kustomization.yml`, ho\u1eb7c `Kustomization` trong th\u01b0 m\u1ee5c. Kh\u00f4ng c\u1ea7n c\u1ea5u h\u00ecnh g\u00ec th\u00eam.\n</code></pre>"},{"location":"day-05/questions/#cau-6-nameprefix-va-namesuffix-dung-e-lam-gi","title":"C\u00e2u 6: <code>namePrefix</code> v\u00e0 <code>nameSuffix</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Th\u00eam prefix/suffix v\u00e0o t\u00ean **t\u1ea5t c\u1ea3** resources:\n```yaml\nnamePrefix: dev-    # deployment \u2192 dev-deployment\nnameSuffix: -v2     # service \u2192 service-v2\n```\nT\u1ef1 \u0111\u1ed9ng update c\u1ea3 references (selector, serviceAccountName, etc.).\n</code></pre>"},{"location":"day-05/questions/#cau-7-commonlabels-hoat-ong-the-nao","title":"C\u00e2u 7: <code>commonLabels</code> ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Th\u00eam labels v\u00e0o **t\u1ea5t c\u1ea3** resources V\u00c0 t\u1ef1 \u0111\u1ed9ng update selectors:\n```yaml\ncommonLabels:\n  app: my-app\n  env: dev\n```\n\u26a0\ufe0f C\u1ea9n th\u1eadn: thay \u0111\u1ed5i `commonLabels` tr\u00ean app \u0111\u00e3 deploy s\u1ebd g\u00e2y l\u1ed7i v\u00ec selector l\u00e0 immutable.\n</code></pre>"},{"location":"day-05/questions/#cau-8-cach-dung-patchesstrategicmerge","title":"C\u00e2u 8: C\u00e1ch d\u00f9ng <code>patchesStrategicMerge</code>?","text":"<pre><code>Merge patch v\u00e0o base resource, ch\u1ec9 c\u1ea7n ghi fields mu\u1ed1n thay \u0111\u1ed5i:\n```yaml\n# In overlay kustomization.yaml:\npatchesStrategicMerge:\n  - increase-replicas.yaml\n\n# increase-replicas.yaml:\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-app  # Ph\u1ea3i kh\u1edbp t\u00ean\nspec:\n  replicas: 5   # Ch\u1ec9 field n\u00e0y b\u1ecb override\n```\n</code></pre>"},{"location":"day-05/questions/#cau-9-patchesjson6902-khac-gi-strategic-merge","title":"C\u00e2u 9: <code>patchesJson6902</code> kh\u00e1c g\u00ec Strategic Merge?","text":"<pre><code>**JSON Patch** d\u00f9ng operations c\u1ee5 th\u1ec3 (add/remove/replace), ch\u00ednh x\u00e1c h\u01a1n:\n```yaml\npatches:\n  - target:\n      kind: Deployment\n      name: my-app\n    patch: |-\n      - op: replace\n        path: /spec/replicas\n        value: 5\n      - op: add\n        path: /metadata/labels/version\n        value: \"v2\"\n```\nUse case: khi strategic merge kh\u00f4ng \u0111\u1ee7 granular.\n</code></pre>"},{"location":"day-05/questions/#cau-10-configmapgenerator-sinh-configmap-the-nao","title":"C\u00e2u 10: <code>configMapGenerator</code> sinh ConfigMap th\u1ebf n\u00e0o?","text":"<pre><code>T\u1ef1 t\u1ea1o ConfigMap + hash suffix (auto rollout khi config thay \u0111\u1ed5i):\n```yaml\nconfigMapGenerator:\n  - name: app-config\n    literals:\n      - DB_HOST=localhost\n    files:\n      - config.json\n```\nOutput: `app-config-abc123` (hash suffix bu\u1ed9c Deployment recreate pods khi config \u0111\u1ed5i).\n</code></pre>"},{"location":"day-05/questions/#phan-2-kustomize-argocd-cau-11-20","title":"Ph\u1ea7n 2: Kustomize + ArgoCD (C\u00e2u 11-20)","text":""},{"location":"day-05/questions/#cau-11-cau-hinh-application-tro-en-kustomize-overlay-the-nao","title":"C\u00e2u 11: C\u1ea5u h\u00ecnh Application tr\u1ecf \u0111\u1ebfn Kustomize overlay th\u1ebf n\u00e0o?","text":"<pre><code>```yaml\nsource:\n  repoURL: https://github.com/user/repo.git\n  path: kustomize/overlays/dev    # Tr\u1ecf \u0111\u1ebfn overlay folder\n  targetRevision: HEAD\n```\nArgoCD t\u1ef1 ch\u1ea1y `kustomize build` tr\u00ean th\u01b0 m\u1ee5c n\u00e0y.\n</code></pre>"},{"location":"day-05/questions/#cau-12-lam-sao-deploy-devprod-cung-repo-bang-kustomize","title":"C\u00e2u 12: L\u00e0m sao deploy dev/prod c\u00f9ng repo b\u1eb1ng Kustomize?","text":"<pre><code>T\u1ea1o 2 ArgoCD Applications, m\u1ed7i c\u00e1i tr\u1ecf \u0111\u1ebfn overlay kh\u00e1c nhau:\n- App Dev: `path: kustomize/overlays/dev`\n- App Prod: `path: kustomize/overlays/prod`\n</code></pre>"},{"location":"day-05/questions/#cau-13-kustomizebuildoptions-trong-argocd-dung-e-lam-gi","title":"C\u00e2u 13: <code>kustomize.buildOptions</code> trong ArgoCD d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Truy\u1ec1n flags cho `kustomize build`:\n```yaml\n# Trong Application spec:\nkustomize:\n  buildOptions: --enable-alpha-plugins --enable-helm\n\n# Ho\u1eb7c global trong argocd-cm:\nkustomize.buildOptions: --load-restrictor LoadRestrictionsNone\n```\n</code></pre>"},{"location":"day-05/questions/#cau-14-kustomize-co-the-wrap-helm-chart-khong","title":"C\u00e2u 14: Kustomize c\u00f3 th\u1ec3 wrap Helm chart kh\u00f4ng?","text":"<pre><code>**C\u00f3!** D\u00f9ng `helmCharts` trong kustomization.yaml (c\u1ea7n `--enable-helm` flag):\n```yaml\nhelmCharts:\n  - name: redis\n    repo: https://charts.bitnami.com/bitnami\n    version: 19.6.4\n    valuesFile: values.yaml\n```\nCho ph\u00e9p post-process Helm output b\u1eb1ng Kustomize patches.\n</code></pre>"},{"location":"day-05/questions/#cau-15-secretgenerator-hoat-ong-the-nao","title":"C\u00e2u 15: <code>secretGenerator</code> ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Gi\u1ed1ng `configMapGenerator` nh\u01b0ng t\u1ea1o Secret:\n```yaml\nsecretGenerator:\n  - name: db-secret\n    literals:\n      - password=my-secret-pass\n    type: Opaque\n```\n\u26a0\ufe0f C\u1ea9n th\u1eadn: values trong Git \u2192 kh\u00f4ng an to\u00e0n. N\u00ean d\u00f9ng Sealed Secrets ho\u1eb7c External Secrets.\n</code></pre>"},{"location":"day-05/questions/#cau-16-components-trong-kustomize-la-gi","title":"C\u00e2u 16: <code>components</code> trong Kustomize l\u00e0 g\u00ec?","text":"<pre><code>Components l\u00e0 **reusable bundles** c\u00f3 th\u1ec3 include v\u00e0o nhi\u1ec1u overlays:\n```yaml\n# overlays/dev/kustomization.yaml\ncomponents:\n  - ../../components/monitoring\n  - ../../components/logging\n```\nUse case: th\u00eam monitoring/logging v\u00e0o dev nh\u01b0ng kh\u00f4ng prod. DRY h\u01a1n copy patches.\n</code></pre>"},{"location":"day-05/questions/#cau-17-images-transformer-dung-the-nao","title":"C\u00e2u 17: <code>images</code> transformer d\u00f9ng th\u1ebf n\u00e0o?","text":"<pre><code>Override image name/tag m\u00e0 kh\u00f4ng c\u1ea7n patch file:\n```yaml\nimages:\n  - name: nginx\n    newName: my-registry/nginx\n    newTag: \"2.0\"\n```\nT\u1ef1 t\u00ecm t\u1ea5t c\u1ea3 containers d\u00f9ng image `nginx` v\u00e0 thay th\u1ebf. R\u1ea5t ti\u1ec7n cho CI/CD update image tag.\n</code></pre>"},{"location":"day-05/questions/#cau-18-replicas-transformer-kustomize-4x-hoat-ong-the-nao","title":"C\u00e2u 18: <code>replicas</code> transformer (Kustomize 4.x+) ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Override replicas m\u00e0 kh\u00f4ng c\u1ea7n patch file:\n```yaml\nreplicas:\n  - name: my-deployment\n    count: 5\n```\nT\u1ef1 t\u00ecm Deployment/StatefulSet t\u00ean `my-deployment` v\u00e0 set replicas = 5.\n</code></pre>"},{"location":"day-05/questions/#cau-19-thu-tu-ap-dung-transformers-trong-kustomize","title":"C\u00e2u 19: Th\u1ee9 t\u1ef1 \u00e1p d\u1ee5ng transformers trong Kustomize?","text":"<pre><code>1. `resources` \u2014 Load base YAMLs\n2. `generators` \u2014 T\u1ea1o ConfigMap/Secret\n3. `patches` \u2014 Apply patches\n4. `transformers` \u2014 namePrefix, labels, images, replicas\n5. `validators` \u2014 Validate output\n\nKustomize \u0111\u1ea3m b\u1ea3o th\u1ee9 t\u1ef1 nh\u1ea5t qu\u00e1n, kh\u00f4ng ph\u1ee5 thu\u1ed9c v\u00e0o th\u1ee9 t\u1ef1 khai b\u00e1o trong file.\n</code></pre>"},{"location":"day-05/questions/#cau-20-loi-no-matches-for-kind-khi-build-nguyen-nhan","title":"C\u00e2u 20: L\u1ed7i <code>no matches for kind</code> khi build \u2014 nguy\u00ean nh\u00e2n?","text":"<pre><code>Kustomize validation y\u00eau c\u1ea7u CRDs ph\u1ea3i c\u00f3 schema. Fix:\n```yaml\n# Trong kustomization.yaml\nconfigurations:\n  - kustomizeconfig.yaml\n# Ho\u1eb7c d\u00f9ng --load-restrictor LoadRestrictionsNone\n```\nHo\u1eb7c t\u1eaft validation trong ArgoCD: `kustomize.buildOptions: --load-restrictor LoadRestrictionsNone`\n</code></pre>"},{"location":"day-05/questions/#phan-3-advanced-kustomize-cau-21-30","title":"Ph\u1ea7n 3: Advanced Kustomize (C\u00e2u 21-30)","text":""},{"location":"day-05/questions/#cau-21-remote-base-trong-kustomize-la-gi","title":"C\u00e2u 21: Remote base trong Kustomize l\u00e0 g\u00ec?","text":"<pre><code>Reference base t\u1eeb remote Git URL:\n```yaml\nresources:\n  - https://github.com/user/repo//base?ref=v1.0.0\n```\nCho ph\u00e9p share base gi\u1eefa nhi\u1ec1u teams/repos. N\u00ean pin `ref` tag.\n</code></pre>"},{"location":"day-05/questions/#cau-22-vars-deprecated-thay-the-bang-gi","title":"C\u00e2u 22: <code>vars</code> deprecated, thay th\u1ebf b\u1eb1ng g\u00ec?","text":"<pre><code>D\u00f9ng **replacements** (Kustomize 5.x+):\n```yaml\nreplacements:\n  - source:\n      kind: ConfigMap\n      name: app-config\n      fieldPath: data.DB_HOST\n    targets:\n      - select:\n          kind: Deployment\n        fieldPaths:\n          - spec.template.spec.containers.[name=app].env.[name=DB_HOST].value\n```\n</code></pre>"},{"location":"day-05/questions/#cau-23-dung-kustomize-cho-multi-cluster-config-the-nao","title":"C\u00e2u 23: D\u00f9ng Kustomize cho multi-cluster config th\u1ebf n\u00e0o?","text":"<pre><code>M\u1ed7i cluster = 1 overlay: `overlays/cluster-a/`, `overlays/cluster-b/`. M\u1ed7i overlay set namespace, replicas, image tag ri\u00eang. K\u1ebft h\u1ee3p v\u1edbi ApplicationSet (Day 8) \u0111\u1ec3 auto-deploy.\n</code></pre>"},{"location":"day-05/questions/#cau-24-namespace-trong-kustomizationyaml-override-tat-ca-resources","title":"C\u00e2u 24: <code>namespace</code> trong kustomization.yaml override t\u1ea5t c\u1ea3 resources?","text":"<pre><code>**C\u00f3**, set namespace cho t\u1ea5t c\u1ea3 resources. Tr\u1eeb cluster-scoped resources (ClusterRole, Namespace, etc.). R\u1ea5t ti\u1ec7n cho multi-env: base kh\u00f4ng set namespace, overlay set namespace ri\u00eang.\n</code></pre>"},{"location":"day-05/questions/#cau-25-commonannotations-khac-gi-patch","title":"C\u00e2u 25: <code>commonAnnotations</code> kh\u00e1c g\u00ec patch?","text":"<pre><code>`commonAnnotations` th\u00eam annotation v\u00e0o **t\u1ea5t c\u1ea3** resources, gi\u1ed1ng `commonLabels` nh\u01b0ng cho annotations. Patch ch\u1ec9 \u00e1p d\u1ee5ng cho resource c\u1ee5 th\u1ec3. commonAnnotations ti\u1ec7n cho global metadata.\n</code></pre>"},{"location":"day-05/questions/#cau-26-inline-patch-vs-file-patch","title":"C\u00e2u 26: Inline patch vs file patch?","text":"<pre><code>**Inline** \u2014 vi\u1ebft tr\u1ef1c ti\u1ebfp trong kustomization.yaml (ti\u1ec7n cho changes nh\u1ecf):\n```yaml\npatches:\n  - patch: |-\n      - op: replace\n        path: /spec/replicas\n        value: 3\n    target:\n      kind: Deployment\n```\n**File** \u2014 vi\u1ebft trong file ri\u00eang (cho changes ph\u1ee9c t\u1ea1p). C\u1ea3 hai \u0111\u1ec1u ho\u1ea1t \u0111\u1ed9ng gi\u1ed1ng nhau.\n</code></pre>"},{"location":"day-05/questions/#cau-27-generatoroptions-dung-e-lam-gi","title":"C\u00e2u 27: <code>generatorOptions</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Control behavior c\u1ee7a ConfigMap/Secret generators:\n```yaml\ngeneratorOptions:\n  disableNameSuffixHash: true   # T\u1eaft hash suffix\n  labels:\n    type: generated\n```\n`disableNameSuffixHash` h\u1eefu \u00edch khi kh\u00f4ng mu\u1ed1n Deployment recreate pods m\u1ed7i khi config \u0111\u1ed5i.\n</code></pre>"},{"location":"day-05/questions/#cau-28-kustomize-version-conflict-giua-local-va-argocd","title":"C\u00e2u 28: Kustomize version conflict gi\u1eefa local v\u00e0 ArgoCD?","text":"<pre><code>ArgoCD bundle Kustomize version c\u1ee5 th\u1ec3. Ki\u1ec3m tra: `argocd version` \u2192 xem kustomize version. N\u1ebfu local version kh\u00e1c \u2192 build output c\u00f3 th\u1ec3 kh\u00e1c. \u0110\u1ea3m b\u1ea3o local version kh\u1edbp ho\u1eb7c d\u00f9ng `kustomize.buildOptions` trong ArgoCD.\n</code></pre>"},{"location":"day-05/questions/#cau-29-khi-nao-nen-dung-kustomize-thay-vi-helm","title":"C\u00e2u 29: Khi n\u00e0o n\u00ean d\u00f9ng Kustomize thay v\u00ec Helm?","text":"<pre><code>**Kustomize:** Internal apps, simple multi-env config, kh\u00f4ng c\u1ea7n package/share. **Helm:** Community charts, complex templating, c\u1ea7n share/distribute. C\u00f3 th\u1ec3 d\u00f9ng c\u1ea3 hai \u2014 Kustomize overlay Helm chart output.\n</code></pre>"},{"location":"day-05/questions/#cau-30-sortoptions-trong-kustomize-dung-e-lam-gi","title":"C\u00e2u 30: <code>sortOptions</code> trong Kustomize d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Control th\u1ee9 t\u1ef1 output resources:\n```yaml\nsortOptions:\n  order: fifo    # First-in-first-out (theo th\u1ee9 t\u1ef1 khai b\u00e1o)\n  # ho\u1eb7c: legacy (theo kind ordering m\u1eb7c \u0111\u1ecbnh)\n```\nQuan tr\u1ecdng khi resources c\u00f3 dependency order (Namespace tr\u01b0\u1edbc Deployment).\n</code></pre>"},{"location":"day-05/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 5: Kustomize Multi-Environment","text":""},{"location":"day-05/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>Deploy 2 m\u00f4i tr\u01b0\u1eddng (Dev, Prod) t\u1eeb c\u00f9ng base code</li> <li>Thay \u0111\u1ed5i replicas gi\u1eefa Dev v\u00e0 Prod b\u1eb1ng Kustomize</li> <li>Quan s\u00e1t s\u1ef1 kh\u00e1c bi\u1ec7t tr\u00ean ArgoCD UI</li> </ul>"},{"location":"day-05/exercises/exercise/#bai-tap-1-render-va-so-sanh","title":"B\u00e0i t\u1eadp 1: Render v\u00e0 so s\u00e1nh","text":"<pre><code># Render Dev\nkubectl kustomize kustomize/overlays/dev/ &gt; /tmp/dev-rendered.yaml\n\n# Render Prod\nkubectl kustomize kustomize/overlays/prod/ &gt; /tmp/prod-rendered.yaml\n\n# So s\u00e1nh\ndiff /tmp/dev-rendered.yaml /tmp/prod-rendered.yaml\n</code></pre> <p>C\u00e2u h\u1ecfi: Li\u1ec7t k\u00ea t\u1ea5t c\u1ea3 \u0111i\u1ec3m kh\u00e1c nhau gi\u1eefa Dev v\u00e0 Prod.</p>"},{"location":"day-05/exercises/exercise/#bai-tap-2-deploy-len-argocd","title":"B\u00e0i t\u1eadp 2: Deploy l\u00ean ArgoCD","text":"<ol> <li>Push th\u01b0 m\u1ee5c <code>kustomize/</code> l\u00ean Git repo</li> <li>T\u1ea1o 2 ArgoCD Applications:    <pre><code>kubectl apply -f argocd/app-dev.yaml\nkubectl apply -f argocd/app-prod.yaml\n</code></pre></li> <li>Sync c\u1ea3 hai:    <pre><code>argocd app sync kustomize-dev\nargocd app sync kustomize-prod\n</code></pre></li> <li>Ki\u1ec3m tra:    <pre><code># Dev: 2 pods\nkubectl get pods -n kustomize-dev\n\n# Prod: 5 pods\nkubectl get pods -n kustomize-prod\n</code></pre></li> </ol>"},{"location":"day-05/exercises/exercise/#bai-tap-3-thay-oi-replicas","title":"B\u00e0i t\u1eadp 3: Thay \u0111\u1ed5i Replicas","text":"<ol> <li>S\u1eeda file <code>kustomize/overlays/dev/kustomization.yaml</code>:</li> <li>Thay <code>replicas: 2</code> th\u00e0nh <code>replicas: 3</code></li> <li>Commit &amp; Push l\u00ean Git</li> <li>Quan s\u00e1t ArgoCD t\u1ef1 \u0111\u1ed9ng sync</li> <li>Ki\u1ec3m tra:    <pre><code>kubectl get pods -n kustomize-dev\n# \u2192 3 pods\n</code></pre></li> </ol>"},{"location":"day-05/exercises/exercise/#bai-tap-4-them-overlay-cho-staging-nang-cao","title":"B\u00e0i t\u1eadp 4: Th\u00eam overlay cho Staging (N\u00e2ng cao)","text":"<ol> <li>T\u1ea1o th\u01b0 m\u1ee5c <code>kustomize/overlays/staging/kustomization.yaml</code>:</li> <li>K\u1ebf th\u1eeba t\u1eeb <code>../../base</code></li> <li>replicas: 3</li> <li>namePrefix: <code>staging-</code></li> <li>namespace: <code>kustomize-staging</code></li> <li> <p>labels: <code>environment: staging</code></p> </li> <li> <p>T\u1ea1o ArgoCD Application m\u1edbi cho staging</p> </li> <li> <p>Deploy v\u00e0 ki\u1ec3m tra</p> </li> </ol>"},{"location":"day-05/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] Render th\u00e0nh c\u00f4ng Dev v\u00e0 Prod manifests</li> <li>[ ] Deploy 2 m\u00f4i tr\u01b0\u1eddng qua ArgoCD</li> <li>[ ] Dev c\u00f3 2 pods, Prod c\u00f3 5 pods</li> <li>[ ] Thay \u0111\u1ed5i replicas qua Git \u2192 ArgoCD t\u1ef1 sync</li> <li>[ ] (N\u00e2ng cao) Th\u00eam m\u00f4i tr\u01b0\u1eddng Staging th\u00e0nh c\u00f4ng</li> </ul>"},{"location":"day-06/","title":"\ud83d\udcc5 Ng\u00e0y 6: Qu\u1ea3n L\u00fd Nhi\u1ec1u Cluster (Multi-cluster)","text":""},{"location":"day-06/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u ki\u1ebfn tr\u00fac Hub-and-Spoke c\u1ee7a ArgoCD</li> <li>Add m\u1ed9t cluster b\u00ean ngo\u00e0i v\u00e0o ArgoCD</li> <li>Deploy \u1ee9ng d\u1ee5ng t\u1eeb Cluster A sang Cluster B</li> </ul>"},{"location":"day-06/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-06/#kien-truc-hub-and-spoke","title":"Ki\u1ebfn tr\u00fac Hub-and-Spoke","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  HUB-AND-SPOKE MODEL                   \u2502\n\u2502                                                        \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502         \u2502   HUB CLUSTER       \u2502                        \u2502\n\u2502         \u2502   (ArgoCD Server)   \u2502                        \u2502\n\u2502         \u2502                     \u2502                        \u2502\n\u2502         \u2502  \ud83d\udccb Manage all apps \u2502                        \u2502\n\u2502         \u2502  \ud83d\udd0d Monitor state   \u2502                        \u2502\n\u2502         \u2502  \ud83d\udd04 Sync changes    \u2502                        \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502                \u2502                                       \u2502\n\u2502       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                              \u2502\n\u2502       \u25bc        \u25bc        \u25bc                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                  \u2502\n\u2502  \u2502 Spoke 1 \u2502 \u2502 Spoke 2 \u2502 \u2502 Spoke 3 \u2502                  \u2502\n\u2502  \u2502 (Dev)   \u2502 \u2502 (Stage) \u2502 \u2502 (Prod)  \u2502                  \u2502\n\u2502  \u2502         \u2502 \u2502         \u2502 \u2502         \u2502                  \u2502\n\u2502  \u2502 \ud83d\udd27 Apps \u2502 \u2502 \ud83d\udd27 Apps \u2502 \u2502 \ud83d\udd27 Apps \u2502                  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                                                        \u2502\n\u2502  ArgoCD ch\u1ec9 c\u1ea7n c\u00e0i tr\u00ean HUB cluster                  \u2502\n\u2502  Spoke clusters kh\u00f4ng c\u1ea7n c\u00e0i ArgoCD                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-06/#cach-argocd-quan-ly-nhieu-cluster","title":"C\u00e1ch ArgoCD qu\u1ea3n l\u00fd nhi\u1ec1u cluster","text":"<ol> <li>In-cluster (m\u1eb7c \u0111\u1ecbnh): ArgoCD t\u1ef1 bi\u1ebft cluster m\u00e0 n\u00f3 \u0111ang ch\u1ea1y</li> <li>External cluster: ArgoCD d\u00f9ng kubeconfig/ServiceAccount \u0111\u1ec3 k\u1ebft n\u1ed1i cluster kh\u00e1c</li> <li>ArgoCD t\u1ea1o m\u1ed9t ServiceAccount tr\u00ean cluster remote v\u1edbi quy\u1ec1n qu\u1ea3n l\u00fd resources</li> </ol>"},{"location":"day-06/#yeu-cau-tai-nguyen","title":"Y\u00eau c\u1ea7u t\u00e0i nguy\u00ean","text":"S\u1ed1 l\u01b0\u1ee3ng Clusters CPU Memory L\u01b0u \u00fd 1-5 2 core 4 GB M\u1eb7c \u0111\u1ecbnh 5-50 4 core 8 GB N\u00ean d\u00f9ng HA mode 50+ 8+ core 16+ GB C\u1ea7n Sharding"},{"location":"day-06/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-06/#buoc-1-tao-2-minikube-clusters","title":"B\u01b0\u1edbc 1: T\u1ea1o 2 Minikube clusters","text":"<pre><code># Ch\u1ea1y script t\u1ef1 \u0111\u1ed9ng\nchmod +x scripts/setup-multi-cluster.sh\n./scripts/setup-multi-cluster.sh\n</code></pre> <p>Ho\u1eb7c th\u1ef1c hi\u1ec7n th\u1ee7 c\u00f4ng: <pre><code># Cluster 1: Hub (ArgoCD ch\u1ea1y \u1edf \u0111\u00e2y)\nminikube start --profile hub-cluster --cpus=4 --memory=8192 --driver=docker\n\n# Cluster 2: Spoke (cluster \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd)\nminikube start --profile spoke-cluster --cpus=2 --memory=4096 --driver=docker\n\n# Ki\u1ec3m tra\nkubectl config get-contexts\n# \u2192 Ph\u1ea3i th\u1ea5y 2 contexts: hub-cluster v\u00e0 spoke-cluster\n</code></pre></p>"},{"location":"day-06/#buoc-2-cai-argocd-tren-hub-cluster","title":"B\u01b0\u1edbc 2: C\u00e0i ArgoCD tr\u00ean Hub cluster","text":"<pre><code># Chuy\u1ec3n sang Hub cluster\nkubectl config use-context hub-cluster\n\n# C\u00e0i ArgoCD\nkubectl create namespace argocd\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\nkubectl wait --for=condition=Ready pods --all -n argocd --timeout=300s\n\n# Port-forward\nkubectl port-forward svc/argocd-server -n argocd 8080:443 &amp;\n</code></pre>"},{"location":"day-06/#buoc-3-add-spoke-cluster-vao-argocd","title":"B\u01b0\u1edbc 3: Add Spoke cluster v\u00e0o ArgoCD","text":"<pre><code># Ch\u1ea1y script\nchmod +x scripts/add-cluster.sh\n./scripts/add-cluster.sh\n</code></pre> <p>Ho\u1eb7c th\u1ee7 c\u00f4ng: <pre><code># ArgoCD CLI login\nADMIN_PASS=$(kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d)\nargocd login localhost:8080 --username admin --password \"$ADMIN_PASS\" --insecure\n\n# Add spoke cluster\nargocd cluster add spoke-cluster --name spoke-cluster\n\n# Ki\u1ec3m tra\nargocd cluster list\n# \u2192 Ph\u1ea3i th\u1ea5y 2 clusters\n</code></pre></p>"},{"location":"day-06/#buoc-4-deploy-ung-dung-len-spoke-cluster","title":"B\u01b0\u1edbc 4: Deploy \u1ee9ng d\u1ee5ng l\u00ean Spoke cluster","text":"<pre><code># T\u1ea1o Application deploy l\u00ean spoke cluster\nkubectl apply -f argocd/app-remote-cluster.yaml\n\n# Sync\nargocd app sync nginx-on-spoke\n\n# Ki\u1ec3m tra tr\u00ean spoke cluster\nkubectl config use-context spoke-cluster\nkubectl get pods -n remote-demo\nkubectl get svc -n remote-demo\n\n# Quay l\u1ea1i hub cluster\nkubectl config use-context hub-cluster\n</code></pre>"},{"location":"day-06/#faq","title":"\u2753 FAQ","text":""},{"location":"day-06/#q-argocd-ton-bao-nhieu-tai-nguyen-khi-quan-ly-hang-tram-cluster","title":"Q: ArgoCD t\u1ed1n bao nhi\u00eau t\u00e0i nguy\u00ean khi qu\u1ea3n l\u00fd h\u00e0ng tr\u0103m cluster?","text":"<p>A: ArgoCD kh\u00e1 nh\u1eb9! M\u1ed7i cluster th\u00eam kho\u1ea3ng 50-100MB RAM. V\u1edbi h\u00e0ng tr\u0103m clusters, b\u1ea1n n\u00ean: - B\u1eadt HA mode (3 replicas cho API Server) - D\u00f9ng Controller Sharding \u0111\u1ec3 ph\u00e2n t\u1ea3i - T\u0103ng Redis cache</p>"},{"location":"day-06/#q-neu-mat-ket-noi-toi-spoke-cluster-thi-sao","title":"Q: N\u1ebfu m\u1ea5t k\u1ebft n\u1ed1i t\u1edbi spoke cluster th\u00ec sao?","text":"<p>A: ArgoCD s\u1ebd \u0111\u00e1nh d\u1ea5u application l\u00e0 Unknown status. Khi k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c kh\u00f4i ph\u1ee5c, ArgoCD t\u1ef1 reconcile v\u00e0 sync l\u1ea1i.</p>"},{"location":"day-06/#q-co-the-dung-argocd-tren-eksgkeaks-khong","title":"Q: C\u00f3 th\u1ec3 d\u00f9ng ArgoCD tr\u00ean EKS/GKE/AKS kh\u00f4ng?","text":"<p>A: C\u00f3! ArgoCD h\u1ed7 tr\u1ee3 m\u1ecdi Kubernetes cluster mi\u1ec5n l\u00e0 c\u00f3 kubeconfig ho\u1eb7c ServiceAccount token h\u1ee3p l\u1ec7.</p>"},{"location":"day-06/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 05 \u2014 Kustomize \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 07 \u2014 App of Apps Pattern</p>"},{"location":"day-06/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 6: Qu\u1ea3n L\u00fd Nhi\u1ec1u Cluster","text":""},{"location":"day-06/questions/#phan-1-multi-cluster-concepts-cau-1-10","title":"Ph\u1ea7n 1: Multi-Cluster Concepts (C\u00e2u 1-10)","text":""},{"location":"day-06/questions/#cau-1-hub-and-spoke-model-trong-argocd-la-gi","title":"C\u00e2u 1: Hub-and-Spoke model trong ArgoCD l\u00e0 g\u00ec?","text":"<pre><code>**Hub** = cluster trung t\u00e2m ch\u1ea1y ArgoCD. **Spoke** = clusters \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd b\u1edfi Hub. ArgoCD tr\u00ean Hub deploy apps l\u00ean t\u1ea5t c\u1ea3 Spoke clusters. M\u1ed9t ArgoCD qu\u1ea3n l\u00fd nhi\u1ec1u clusters.\n</code></pre>"},{"location":"day-06/questions/#cau-2-lam-sao-them-cluster-vao-argocd","title":"C\u00e2u 2: L\u00e0m sao th\u00eam cluster v\u00e0o ArgoCD?","text":"<pre><code>```bash\nargocd cluster add &lt;CONTEXT_NAME&gt;\n```\nArgoCD t\u1ea1o ServiceAccount tr\u00ean cluster \u0111\u00edch + ClusterRoleBinding. Cluster info l\u01b0u trong K8s Secret namespace `argocd`.\n</code></pre>"},{"location":"day-06/questions/#cau-3-argocd-luu-cluster-credentials-o-au","title":"C\u00e2u 3: ArgoCD l\u01b0u cluster credentials \u1edf \u0111\u00e2u?","text":"<pre><code>Trong **Kubernetes Secret** namespace `argocd`, label `argocd.argoproj.io/secret-type: cluster`. M\u1ed7i cluster = 1 Secret ch\u1ee9a server URL, config (bearer token ho\u1eb7c kubeconfig).\n</code></pre>"},{"location":"day-06/questions/#cau-4-argocd-cluster-list-hien-thi-gi","title":"C\u00e2u 4: <code>argocd cluster list</code> hi\u1ec3n th\u1ecb g\u00ec?","text":"<pre><code>Danh s\u00e1ch clusters \u0111\u00e3 \u0111\u0103ng k\u00fd: Server URL, Name, Version, Status (Successful/Failed). In-cluster (`https://kubernetes.default.svc`) lu\u00f4n c\u00f3 s\u1eb5n.\n</code></pre>"},{"location":"day-06/questions/#cau-5-deploy-app-len-external-cluster-can-thay-oi-gi-trong-application","title":"C\u00e2u 5: Deploy app l\u00ean external cluster c\u1ea7n thay \u0111\u1ed5i g\u00ec trong Application?","text":"<pre><code>Thay `destination.server` b\u1eb1ng URL cluster \u0111\u00edch (ho\u1eb7c d\u00f9ng `destination.name`):\n```yaml\ndestination:\n  server: https://external-cluster-api:6443   # URL cluster \u0111\u00edch\n  # ho\u1eb7c: name: spoke-cluster\n  namespace: my-app\n```\n</code></pre>"},{"location":"day-06/questions/#cau-6-destinationserver-vs-destinationname-khac-nhau-the-nao","title":"C\u00e2u 6: <code>destination.server</code> vs <code>destination.name</code> kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>`server` = URL API server. `name` = t\u00ean cluster trong ArgoCD (friendly name). D\u00f9ng `name` d\u1ec5 \u0111\u1ecdc h\u01a1n, nh\u01b0ng `server` ch\u00ednh x\u00e1c h\u01a1n. Kh\u00f4ng d\u00f9ng c\u1ea3 hai c\u00f9ng l\u00fac.\n</code></pre>"},{"location":"day-06/questions/#cau-7-tai-sao-argocd-can-serviceaccount-tren-cluster-ich","title":"C\u00e2u 7: T\u1ea1i sao ArgoCD c\u1ea7n ServiceAccount tr\u00ean cluster \u0111\u00edch?","text":"<pre><code>ArgoCD c\u1ea7n quy\u1ec1n \u0111\u1ec3 **query state** (get pods, services) v\u00e0 **apply resources** (create/update/delete) tr\u00ean cluster \u0111\u00edch. ServiceAccount + ClusterRoleBinding cung c\u1ea5p quy\u1ec1n n\u00e0y.\n</code></pre>"},{"location":"day-06/questions/#cau-8-co-gioi-han-so-clusters-argocd-quan-ly-khong","title":"C\u00e2u 8: C\u00f3 gi\u1edbi h\u1ea1n s\u1ed1 clusters ArgoCD qu\u1ea3n l\u00fd kh\u00f4ng?","text":"<pre><code>Kh\u00f4ng c\u00f3 gi\u1edbi h\u1ea1n c\u1ee9ng. Tuy nhi\u00ean, nhi\u1ec1u clusters \u2192 t\u0103ng load tr\u00ean Application Controller. Production l\u1edbn (50+ clusters) n\u00ean d\u00f9ng **controller sharding** \u0111\u1ec3 ph\u00e2n t\u1ea3i.\n</code></pre>"},{"location":"day-06/questions/#cau-9-controller-sharding-la-gi","title":"C\u00e2u 9: Controller sharding l\u00e0 g\u00ec?","text":"<pre><code>Ph\u00e2n chia clusters cho nhi\u1ec1u controller instances. M\u1ed7i instance ch\u1ec9 qu\u1ea3n l\u00fd subset clusters. Gi\u1ea3m load, t\u0103ng scalability. C\u1ea5u h\u00ecnh qua `--application-controller-args` ho\u1eb7c env vars.\n</code></pre>"},{"location":"day-06/questions/#cau-10-network-requirements-cho-multi-cluster","title":"C\u00e2u 10: Network requirements cho multi-cluster?","text":"<pre><code>Hub ArgoCD ph\u1ea3i k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c \u0111\u1ebfn **API server** c\u1ee7a m\u1ecdi Spoke cluster (port 6443 th\u01b0\u1eddng). Ng\u01b0\u1ee3c l\u1ea1i kh\u00f4ng c\u1ea7n. VPN/peering/direct connect c\u1ea7n \u0111\u01b0\u1ee3c setup tr\u01b0\u1edbc.\n</code></pre>"},{"location":"day-06/questions/#phan-2-setup-operations-cau-11-20","title":"Ph\u1ea7n 2: Setup &amp; Operations (C\u00e2u 11-20)","text":""},{"location":"day-06/questions/#cau-11-tao-multi-cluster-voi-minikube-the-nao","title":"C\u00e2u 11: T\u1ea1o multi-cluster v\u1edbi Minikube th\u1ebf n\u00e0o?","text":"<pre><code>```bash\nminikube start --profile hub -p hub --cpus=4 --memory=8192\nminikube start --profile spoke -p spoke --cpus=2 --memory=4096\n```\nM\u1ed7i profile t\u1ea1o cluster ri\u00eang. Switch context: `kubectl config use-context hub`.\n</code></pre>"},{"location":"day-06/questions/#cau-12-argocd-cluster-add-thuc-su-lam-gi","title":"C\u00e2u 12: <code>argocd cluster add</code> th\u1ef1c s\u1ef1 l\u00e0m g\u00ec?","text":"<pre><code>1. T\u1ea1o ServiceAccount `argocd-manager` tr\u00ean cluster \u0111\u00edch\n2. T\u1ea1o ClusterRoleBinding cho SA \u2192 `cluster-admin`\n3. L\u1ea5y token c\u1ee7a SA\n4. L\u01b0u cluster info + token v\u00e0o Secret tr\u00ean Hub\n</code></pre>"},{"location":"day-06/questions/#cau-13-xoa-cluster-khoi-argocd-the-nao","title":"C\u00e2u 13: X\u00f3a cluster kh\u1ecfi ArgoCD th\u1ebf n\u00e0o?","text":"<pre><code>```bash\nargocd cluster rm &lt;SERVER_URL&gt;\n```\nX\u00f3a Secret connection. **Kh\u00f4ng** x\u00f3a ServiceAccount tr\u00ean cluster \u0111\u00edch. N\u00ean cleanup SA th\u1ee7 c\u00f4ng.\n</code></pre>"},{"location":"day-06/questions/#cau-14-cluster-health-check-trong-argocd","title":"C\u00e2u 14: Cluster health check trong ArgoCD?","text":"<pre><code>ArgoCD \u0111\u1ecbnh k\u1ef3 check connection \u0111\u1ebfn cluster API server. Status: **Successful** (k\u1ebft n\u1ed1i OK) ho\u1eb7c **Failed** (timeout, auth error). Xem: `argocd cluster get &lt;URL&gt;`.\n</code></pre>"},{"location":"day-06/questions/#cau-15-token-het-han-thi-argocd-xu-ly-the-nao","title":"C\u00e2u 15: Token h\u1ebft h\u1ea1n th\u00ec ArgoCD x\u1eed l\u00fd th\u1ebf n\u00e0o?","text":"<pre><code>Cluster b\u1ecb **Failed** status, apps kh\u00f4ng sync \u0111\u01b0\u1ee3c. Fix: `argocd cluster add &lt;context&gt;` l\u1ea1i \u0111\u1ec3 refresh credentials. Ho\u1eb7c rotate token trong Secret th\u1ee7 c\u00f4ng.\n</code></pre>"},{"location":"day-06/questions/#cau-16-co-the-restrict-argocd-chi-deploy-vao-namespace-cu-the-tren-cluster-ich","title":"C\u00e2u 16: C\u00f3 th\u1ec3 restrict ArgoCD ch\u1ec9 deploy v\u00e0o namespace c\u1ee5 th\u1ec3 tr\u00ean cluster \u0111\u00edch?","text":"<pre><code>**C\u00f3**, qua AppProject `destinations`:\n```yaml\ndestinations:\n  - server: https://spoke-cluster:6443\n    namespace: allowed-ns-1\n  - server: https://spoke-cluster:6443\n    namespace: allowed-ns-2\n```\nHo\u1eb7c d\u00f9ng namespace-scoped ArgoCD installation (gi\u1edbi h\u1ea1n quy\u1ec1n c\u1ee7a SA).\n</code></pre>"},{"location":"day-06/questions/#cau-17-namespace-scoped-vs-cluster-scoped-argocd-installation","title":"C\u00e2u 17: Namespace-scoped vs Cluster-scoped ArgoCD installation?","text":"<pre><code>**Cluster-scoped** (m\u1eb7c \u0111\u1ecbnh): ArgoCD qu\u1ea3n l\u00fd m\u1ecdi namespace. **Namespace-scoped**: ArgoCD ch\u1ec9 qu\u1ea3n l\u00fd namespaces \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh. D\u00f9ng cho multi-tenant clusters khi m\u1ed7i team c\u00f3 ArgoCD ri\u00eang.\n</code></pre>"},{"location":"day-06/questions/#cau-18-lam-sao-test-connectivity-en-external-cluster","title":"C\u00e2u 18: L\u00e0m sao test connectivity \u0111\u1ebfn external cluster?","text":"<pre><code>```bash\n# Check cluster status\nargocd cluster get &lt;SERVER_URL&gt;\n# Check kubectl\nkubectl --context &lt;context&gt; get nodes\n# Check network\ncurl -sk &lt;SERVER_URL&gt;/healthz\n```\n</code></pre>"},{"location":"day-06/questions/#cau-19-multi-argocd-vs-single-argocd-cho-multi-cluster","title":"C\u00e2u 19: Multi-ArgoCD vs Single ArgoCD cho multi-cluster?","text":"<pre><code>**Single ArgoCD (Hub-Spoke):** \u0110\u01a1n gi\u1ea3n, centralized management. **Multi-ArgoCD:** M\u1ed7i cluster c\u00f3 ArgoCD ri\u00eang, independent. Ch\u1ecdn Single cho nh\u1ecf/trung b\u00ecnh, Multi cho enterprise (compliance, isolation).\n</code></pre>"},{"location":"day-06/questions/#cau-20-label-cluster-trong-argocd-dung-e-lam-gi","title":"C\u00e2u 20: Label cluster trong ArgoCD d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Labels cho ph\u00e9p ApplicationSet **filter clusters** b\u1eb1ng Cluster Generator:\n```yaml\n# Khi add cluster\nargocd cluster add &lt;ctx&gt; --label env=prod --label region=us-east\n```\nApplicationSet filter: `matchLabels: {env: prod}` \u2192 ch\u1ec9 deploy v\u00e0o prod clusters.\n</code></pre>"},{"location":"day-06/questions/#phan-3-advanced-multi-cluster-cau-21-30","title":"Ph\u1ea7n 3: Advanced Multi-Cluster (C\u00e2u 21-30)","text":""},{"location":"day-06/questions/#cau-21-service-mesh-can-thiet-cho-multi-cluster-argocd-khong","title":"C\u00e2u 21: Service mesh c\u1ea7n thi\u1ebft cho multi-cluster ArgoCD kh\u00f4ng?","text":"<pre><code>**Kh\u00f4ng.** ArgoCD ch\u1ec9 c\u1ea7n k\u1ebft n\u1ed1i \u0111\u1ebfn API server. Service mesh (Istio, Linkerd) d\u00f9ng cho cross-cluster **service communication**, kh\u00f4ng li\u00ean quan \u0111\u1ebfn ArgoCD deployment.\n</code></pre>"},{"location":"day-06/questions/#cau-22-argocd-co-the-deploy-crds-len-external-cluster-khong","title":"C\u00e2u 22: ArgoCD c\u00f3 th\u1ec3 deploy CRDs l\u00ean external cluster kh\u00f4ng?","text":"<pre><code>**C\u00f3**, n\u1ebfu ServiceAccount c\u00f3 quy\u1ec1n `cluster-admin`. Nh\u01b0ng best practice: qu\u1ea3n l\u00fd CRDs ri\u00eang (operator ho\u1eb7c Helm) v\u00ec CRDs l\u00e0 cluster-scoped, \u1ea3nh h\u01b0\u1edfng to\u00e0n cluster.\n</code></pre>"},{"location":"day-06/questions/#cau-23-failover-khi-hub-cluster-down","title":"C\u00e2u 23: Failover khi Hub cluster down?","text":"<pre><code>Spoke clusters v\u1eabn ch\u1ea1y b\u00ecnh th\u01b0\u1eddng (apps \u0111\u00e3 deploy kh\u00f4ng b\u1ecb \u1ea3nh h\u01b0\u1edfng). Nh\u01b0ng kh\u00f4ng th\u1ec3 sync/update apps. Solution: ArgoCD HA mode, backup/restore, ho\u1eb7c secondary Hub.\n</code></pre>"},{"location":"day-06/questions/#cau-24-eksgkeaks-clusters-them-vao-argocd-khac-gi","title":"C\u00e2u 24: EKS/GKE/AKS clusters th\u00eam v\u00e0o ArgoCD kh\u00e1c g\u00ec?","text":"<pre><code>Quy tr\u00ecnh gi\u1ed1ng nhau: kubeconfig context \u2192 `argocd cluster add`. Nh\u01b0ng m\u1ed7i cloud c\u00f3 auth kh\u00e1c: EKS (IAM + aws-iam-authenticator), GKE (gcloud), AKS (Azure AD). C\u1ea7n configure kubeconfig \u0111\u00fang.\n</code></pre>"},{"location":"day-06/questions/#cau-25-co-the-quan-ly-clusters-o-regions-khac-nhau-khong","title":"C\u00e2u 25: C\u00f3 th\u1ec3 qu\u1ea3n l\u00fd clusters \u1edf regions kh\u00e1c nhau kh\u00f4ng?","text":"<pre><code>**C\u00f3.** ArgoCD ch\u1ec9 c\u1ea7n network connectivity \u0111\u1ebfn API server. Cross-region, cross-cloud \u0111\u1ec1u \u0111\u01b0\u1ee3c. Latency cao h\u01a1n nh\u01b0ng ArgoCD x\u1eed l\u00fd async n\u00ean \u00edt \u1ea3nh h\u01b0\u1edfng.\n</code></pre>"},{"location":"day-06/questions/#cau-26-system-namespace-khi-add-cluster-dung-e-lam-gi","title":"C\u00e2u 26: <code>--system-namespace</code> khi add cluster d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Ch\u1ec9 \u0111\u1ecbnh namespace cho ServiceAccount ArgoCD tr\u00ean cluster \u0111\u00edch. M\u1eb7c \u0111\u1ecbnh: `kube-system`. C\u00f3 th\u1ec3 \u0111\u1ed5i \u0111\u1ec3 tr\u00e1nh \u1ea3nh h\u01b0\u1edfng system namespace.\n</code></pre>"},{"location":"day-06/questions/#cau-27-rotate-cluster-credentials-the-nao","title":"C\u00e2u 27: Rotate cluster credentials th\u1ebf n\u00e0o?","text":"<pre><code>1. `argocd cluster rm &lt;URL&gt;` \u2014 x\u00f3a cluster c\u0169\n2. `argocd cluster add &lt;context&gt;` \u2014 th\u00eam l\u1ea1i v\u1edbi token m\u1edbi\nHo\u1eb7c update Secret tr\u1ef1c ti\u1ebfp: `kubectl edit secret &lt;cluster-secret&gt; -n argocd`.\n</code></pre>"},{"location":"day-06/questions/#cau-28-monitoring-multi-cluster-argocd","title":"C\u00e2u 28: Monitoring multi-cluster ArgoCD?","text":"<pre><code>ArgoCD expose Prometheus metrics. Key metrics: `argocd_cluster_api_resource_objects` (resources per cluster), `argocd_cluster_info` (cluster connection), `argocd_app_info` (app health per cluster).\n</code></pre>"},{"location":"day-06/questions/#cau-29-gitops-bridge-pattern-la-gi","title":"C\u00e2u 29: GitOps Bridge pattern l\u00e0 g\u00ec?","text":"<pre><code>Pattern khi Terraform/Pulumi t\u1ea1o cluster \u2192 t\u1ef1 th\u00eam v\u00e0o ArgoCD v\u00e0 bootstrap ArgoCD config. Infrastructure provisioning (Terraform) + GitOps (ArgoCD) k\u1ebft h\u1ee3p seamlessly.\n</code></pre>"},{"location":"day-06/questions/#cau-30-best-practices-cho-multi-cluster-argocd-production","title":"C\u00e2u 30: Best practices cho multi-cluster ArgoCD production?","text":"<pre><code>1. **HA mode** cho Hub ArgoCD\n2. **AppProject per team** \u2014 ph\u00e2n quy\u1ec1n\n3. **Label clusters** \u2014 d\u1ec5 filter cho ApplicationSet\n4. **Least privilege SA** \u2014 kh\u00f4ng d\u00f9ng cluster-admin n\u1ebfu kh\u00f4ng c\u1ea7n\n5. **Monitor cluster connectivity** \u2014 alert khi connection failed\n6. **Rotate credentials** \u0111\u1ecbnh k\u1ef3\n7. **Backup ArgoCD config** \u2014 Secret, ConfigMap, Applications\n</code></pre>"},{"location":"day-06/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 6: Multi-cluster Deployment","text":""},{"location":"day-06/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>Setup 2 Minikube clusters (Hub + Spoke)</li> <li>Add Spoke cluster v\u00e0o ArgoCD</li> <li>Deploy \u1ee9ng d\u1ee5ng cross-cluster</li> </ul>"},{"location":"day-06/exercises/exercise/#bai-tap-1-setup-multi-cluster","title":"B\u00e0i t\u1eadp 1: Setup Multi-cluster","text":"<ol> <li> <p>Ch\u1ea1y script setup:    <pre><code>chmod +x scripts/*.sh\n./scripts/setup-multi-cluster.sh\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra 2 clusters \u0111ang ch\u1ea1y:    <pre><code>kubectl config get-contexts\nminikube status --profile hub-cluster\nminikube status --profile spoke-cluster\n</code></pre></p> </li> </ol>"},{"location":"day-06/exercises/exercise/#bai-tap-2-add-spoke-cluster","title":"B\u00e0i t\u1eadp 2: Add Spoke Cluster","text":"<ol> <li> <p>Ch\u1ea1y script:    <pre><code>./scripts/add-cluster.sh\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra cluster \u0111\u00e3 \u0111\u01b0\u1ee3c add:    <pre><code>argocd cluster list\n</code></pre></p> </li> </ol> <p>Mong \u0111\u1ee3i: 2 clusters (in-cluster + spoke-cluster)</p>"},{"location":"day-06/exercises/exercise/#bai-tap-3-cross-cluster-deployment","title":"B\u00e0i t\u1eadp 3: Cross-cluster Deployment","text":"<ol> <li>S\u1eeda file <code>argocd/app-remote-cluster.yaml</code>:</li> <li>Thay <code>&lt;SPOKE_CLUSTER_SERVER&gt;</code> b\u1eb1ng server URL t\u1eeb <code>argocd cluster list</code></li> <li> <p>Thay <code>&lt;YOUR_USERNAME&gt;</code> b\u1eb1ng GitHub username</p> </li> <li> <p>Apply:    <pre><code>kubectl apply -f argocd/app-remote-cluster.yaml\nargocd app sync nginx-on-spoke\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra tr\u00ean spoke cluster:    <pre><code>kubectl config use-context spoke-cluster\nkubectl get all -n remote-demo\n\n# Quay l\u1ea1i hub cluster\nkubectl config use-context hub-cluster\n</code></pre></p> </li> <li> <p>Quan s\u00e1t tr\u00ean ArgoCD UI:</p> </li> <li>App <code>nginx-on-spoke</code> ph\u1ea3i hi\u1ec3n th\u1ecb cluster kh\u00e1c v\u1edbi apps kh\u00e1c</li> </ol>"},{"location":"day-06/exercises/exercise/#bai-tap-4-cleanup","title":"B\u00e0i t\u1eadp 4: Cleanup","text":"<pre><code>./scripts/cleanup.sh\n\n# T\u1ea1o l\u1ea1i cluster m\u1eb7c \u0111\u1ecbnh cho c\u00e1c ng\u00e0y ti\u1ebfp theo\nminikube start --cpus=4 --memory=8192 --driver=docker\n</code></pre>"},{"location":"day-06/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] T\u1ea1o 2 Minikube clusters th\u00e0nh c\u00f4ng</li> <li>[ ] ArgoCD c\u00e0i tr\u00ean Hub cluster</li> <li>[ ] Add Spoke cluster v\u00e0o ArgoCD (<code>argocd cluster list</code> th\u1ea5y 2 clusters)</li> <li>[ ] Deploy Nginx l\u00ean Spoke cluster qua ArgoCD</li> <li>[ ] Ki\u1ec3m tra pods \u0111ang ch\u1ea1y tr\u00ean Spoke cluster</li> <li>[ ] Cleanup clusters th\u00e0nh c\u00f4ng</li> </ul>"},{"location":"day-07/","title":"\ud83d\udcc5 Ng\u00e0y 7: App of Apps Pattern","text":""},{"location":"day-07/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u pattern \"App of Apps\" \u0111\u1ec3 qu\u1ea3n l\u00fd h\u00e0ng tr\u0103m \u1ee9ng d\u1ee5ng</li> <li>T\u1ea1o Root Application qu\u1ea3n l\u00fd Child Applications</li> <li>Thi\u1ebft k\u1ebf c\u1ea5u tr\u00fac Git chu\u1ea9n cho m\u00f4 h\u00ecnh n\u00e0y</li> </ul>"},{"location":"day-07/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-07/#van-e-quan-ly-nhieu-applications","title":"V\u1ea5n \u0111\u1ec1: Qu\u1ea3n l\u00fd nhi\u1ec1u Applications","text":"<p>Khi team l\u1edbn l\u00ean, b\u1ea1n c\u00f3 h\u00e0ng ch\u1ee5c/tr\u0103m ArgoCD Applications. N\u1ebfu t\u1ea1o th\u1ee7 c\u00f4ng t\u1eebng c\u00e1i \u2192 r\u1ed1i, kh\u00f3 qu\u1ea3n l\u00fd, kh\u00f4ng scalable.</p>"},{"location":"day-07/#giai-phap-app-of-apps","title":"Gi\u1ea3i ph\u00e1p: App of Apps","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  APP OF APPS PATTERN                \u2502\n\u2502                                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                        \u2502\n\u2502  \u2502     ROOT APPLICATION    \u2502                        \u2502\n\u2502  \u2502  (Qu\u1ea3n l\u00fd t\u1ea5t c\u1ea3 apps) \u2502                        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                        \u2502\n\u2502             \u2502                                       \u2502\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502    \u25bc        \u25bc        \u25bc          \u25bc                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502 App  \u2502 \u2502 App  \u2502 \u2502 App  \u2502 \u2502 App  \u2502               \u2502\n\u2502  \u2502 FE   \u2502 \u2502 BE   \u2502 \u2502 DB   \u2502 \u2502 ...  \u2502               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                                                     \u2502\n\u2502  \u2705 Ch\u1ec9 c\u1ea7n qu\u1ea3n l\u00fd 1 root app                     \u2502\n\u2502  \u2705 Th\u00eam app m\u1edbi = th\u00eam 1 file YAML v\u00e0o Git        \u2502\n\u2502  \u2705 X\u00f3a app = x\u00f3a 1 file YAML kh\u1ecfi Git             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-07/#cau-truc-git","title":"C\u1ea5u tr\u00fac Git","text":"<pre><code>repo/\n\u251c\u2500\u2500 apps/                          \u2190 Root App tr\u1ecf \u0111\u1ebfn \u0111\u00e2y\n\u2502   \u251c\u2500\u2500 root-app.yaml              \u2190 Root Application\n\u2502   \u2514\u2500\u2500 children/                  \u2190 Child Applications  \n\u2502       \u251c\u2500\u2500 frontend-app.yaml\n\u2502       \u251c\u2500\u2500 backend-app.yaml\n\u2502       \u2514\u2500\u2500 database-app.yaml\n\u2514\u2500\u2500 manifests/                     \u2190 Actual K8s manifests\n    \u251c\u2500\u2500 frontend/\n    \u2502   \u251c\u2500\u2500 deployment.yaml\n    \u2502   \u2514\u2500\u2500 service.yaml\n    \u251c\u2500\u2500 backend/\n    \u2502   \u251c\u2500\u2500 deployment.yaml\n    \u2502   \u2514\u2500\u2500 service.yaml\n    \u2514\u2500\u2500 database/\n        \u251c\u2500\u2500 statefulset.yaml\n        \u2514\u2500\u2500 service.yaml\n</code></pre>"},{"location":"day-07/#app-of-apps-vs-applicationset","title":"App of Apps vs ApplicationSet","text":"App of Apps ApplicationSet C\u00e1ch t\u1ea1o app M\u1ed7i app = 1 YAML file Template t\u1ef1 \u0111\u1ed9ng generate Linh ho\u1ea1t Cao (m\u1ed7i app c\u1ea5u h\u00ecnh ri\u00eang) Trung b\u00ecnh (d\u00f9ng template) Khi n\u00e0o d\u00f9ng Apps kh\u00e1c nhau nhi\u1ec1u Apps gi\u1ed1ng nhau, kh\u00e1c v\u00e0i param Scale T\u1ed1t (\u0111\u1ebfn ~100 apps) Tuy\u1ec7t v\u1eddi (1000+ apps)"},{"location":"day-07/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-07/#buoc-1-xem-cau-truc-mau","title":"B\u01b0\u1edbc 1: Xem c\u1ea5u tr\u00fac m\u1eabu","text":"<pre><code>tree apps/ manifests/\n</code></pre>"},{"location":"day-07/#buoc-2-push-len-git","title":"B\u01b0\u1edbc 2: Push l\u00ean Git","text":"<pre><code># Push to\u00e0n b\u1ed9 th\u01b0 m\u1ee5c day-07 l\u00ean repo\n# Ho\u1eb7c copy apps/ v\u00e0 manifests/ v\u00e0o repo ri\u00eang\n</code></pre>"},{"location":"day-07/#buoc-3-tao-root-application","title":"B\u01b0\u1edbc 3: T\u1ea1o Root Application","text":"<pre><code># \u00c1p d\u1ee5ng root app\nkubectl apply -f apps/root-app.yaml\n\n# Sync root app \u2192 t\u1ef1 \u0111\u1ed9ng t\u1ea1o c\u00e1c child apps\nargocd app sync root-app\n\n# Ki\u1ec3m tra\nargocd app list\n# \u2192 Ph\u1ea3i th\u1ea5y: root-app, frontend, backend, database\n</code></pre>"},{"location":"day-07/#buoc-4-quan-sat-argocd-ui","title":"B\u01b0\u1edbc 4: Quan s\u00e1t ArgoCD UI","text":"<ol> <li>M\u1edf ArgoCD UI</li> <li>B\u1ea1n s\u1ebd th\u1ea5y Root App v\u00e0 3 Child Apps</li> <li>Click v\u00e0o Root App \u2192 th\u1ea5y 3 child Application resources</li> <li>Click v\u00e0o m\u1ed7i child \u2192 th\u1ea5y actual K8s resources</li> </ol>"},{"location":"day-07/#buoc-5-them-app-moi","title":"B\u01b0\u1edbc 5: Th\u00eam app m\u1edbi","text":"<pre><code># T\u1ea1o file child app m\u1edbi\ncat &lt;&lt;EOF &gt; apps/children/monitoring-app.yaml\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: monitoring\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/&lt;YOUR_USERNAME&gt;/argocd-demo-app.git\n    targetRevision: HEAD\n    path: manifests/monitoring\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: monitoring\n  syncPolicy:\n    automated:\n      selfHeal: true\n    syncOptions:\n      - CreateNamespace=true\nEOF\n\n# Commit &amp; push \u2192 ArgoCD t\u1ef1 create app m\u1edbi!\n</code></pre>"},{"location":"day-07/#faq","title":"\u2753 FAQ","text":""},{"location":"day-07/#q-app-of-apps-hay-applicationset-tot-hon","title":"Q: App of Apps hay ApplicationSet t\u1ed1t h\u01a1n?","text":"<p>A: Ph\u1ee5 thu\u1ed9c v\u00e0o use case: - App of Apps: Khi m\u1ed7i app c\u00f3 c\u1ea5u h\u00ecnh ri\u00eang bi\u1ec7t, team mu\u1ed1n ki\u1ec3m so\u00e1t chi ti\u1ebft - ApplicationSet: Khi nhi\u1ec1u app gi\u1ed1ng nhau, ch\u1ec9 kh\u00e1c v\u00e0i tham s\u1ed1 (name, namespace, env)</p> <p>Nhi\u1ec1u team d\u00f9ng c\u1ea3 hai: App of Apps cho top-level grouping, ApplicationSet cho dynamic generation.</p>"},{"location":"day-07/#q-root-app-bi-xoa-thi-sao","title":"Q: Root App b\u1ecb x\u00f3a th\u00ec sao?","text":"<p>A: Ph\u1ee5 thu\u1ed9c v\u00e0o <code>finalizer</code>: - C\u00f3 <code>resources-finalizer.argocd.argoproj.io</code>: X\u00f3a root \u2192 x\u00f3a t\u1ea5t c\u1ea3 children + resources - Kh\u00f4ng c\u00f3 finalizer: X\u00f3a root \u2192 children v\u1eabn t\u1ed3n t\u1ea1i (orphaned)</p>"},{"location":"day-07/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 06 \u2014 Multi-cluster \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 08 \u2014 ApplicationSet</p>"},{"location":"day-07/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 7: App of Apps Pattern","text":""},{"location":"day-07/questions/#phan-1-concepts-cau-1-10","title":"Ph\u1ea7n 1: Concepts (C\u00e2u 1-10)","text":""},{"location":"day-07/questions/#cau-1-app-of-apps-pattern-la-gi","title":"C\u00e2u 1: App of Apps pattern l\u00e0 g\u00ec?","text":"<pre><code>M\u1ed9t **Root Application** qu\u1ea3n l\u00fd nhi\u1ec1u **Child Applications**. Root app tr\u1ecf \u0111\u1ebfn th\u01b0 m\u1ee5c Git ch\u1ee9a YAML \u0111\u1ecbnh ngh\u0129a c\u00e1c child apps. Sync Root = t\u1ea1o/c\u1eadp nh\u1eadt t\u1ea5t c\u1ea3 children. Qu\u1ea3n l\u00fd h\u00e0ng ch\u1ee5c apps b\u1eb1ng 1 single commit.\n</code></pre>"},{"location":"day-07/questions/#cau-2-root-application-khac-child-application-the-nao","title":"C\u00e2u 2: Root Application kh\u00e1c Child Application th\u1ebf n\u00e0o?","text":"<pre><code>**Root App:** Source tr\u1ecf \u0111\u1ebfn th\u01b0 m\u1ee5c ch\u1ee9a Application YAMLs. Destination = in-cluster (argocd namespace). **Child App:** Source tr\u1ecf \u0111\u1ebfn manifests th\u1ef1c t\u1ebf (Deployment, Service). Destination = target namespace. Root qu\u1ea3n l\u00fd lifecycle c\u1ee7a children.\n</code></pre>"},{"location":"day-07/questions/#cau-3-tai-sao-root-app-destination-la-namespace-argocd","title":"C\u00e2u 3: T\u1ea1i sao Root App destination l\u00e0 namespace <code>argocd</code>?","text":"<pre><code>V\u00ec child Application **CRDs** s\u1ed1ng trong namespace `argocd`. Root app t\u1ea1o Application objects \u2192 ch\u00fang ph\u1ea3i \u1edf namespace ArgoCD ch\u1ea1y. Manifests m\u00e0 child apps deploy th\u00ec \u0111\u1ebfn namespace kh\u00e1c.\n</code></pre>"},{"location":"day-07/questions/#cau-4-them-app-moi-vao-he-thong-bang-app-of-apps-the-nao","title":"C\u00e2u 4: Th\u00eam app m\u1edbi v\u00e0o h\u1ec7 th\u1ed1ng b\u1eb1ng App of Apps th\u1ebf n\u00e0o?","text":"<pre><code>1. T\u1ea1o file Application YAML cho app m\u1edbi trong th\u01b0 m\u1ee5c children\n2. T\u1ea1o manifests cho app m\u1edbi\n3. Git commit + push\n4. ArgoCD sync Root \u2192 ph\u00e1t hi\u1ec7n file m\u1edbi \u2192 t\u1ea1o child Application \u2192 sync child\n</code></pre>"},{"location":"day-07/questions/#cau-5-xoa-app-khoi-he-thong-the-nao","title":"C\u00e2u 5: X\u00f3a app kh\u1ecfi h\u1ec7 th\u1ed1ng th\u1ebf n\u00e0o?","text":"<pre><code>X\u00f3a file Application YAML t\u1eeb th\u01b0 m\u1ee5c children \u2192 Git push \u2192 Root sync \u2192 child Application b\u1ecb prune (n\u1ebfu prune=true) \u2192 K8s resources b\u1ecb x\u00f3a. **Ho\u00e0n to\u00e0n qua Git!**\n</code></pre>"},{"location":"day-07/questions/#cau-6-app-of-apps-co-ho-tro-nested-app-of-app-of-apps","title":"C\u00e2u 6: App of Apps c\u00f3 h\u1ed7 tr\u1ee3 nested (app of app of apps)?","text":"<pre><code>**C\u00f3**, nh\u01b0ng kh\u00f4ng khuy\u1ebfn kh\u00edch qu\u00e1 2 levels. Qu\u00e1 s\u00e2u \u2192 kh\u00f3 debug, slow sync. Best practice: 2 levels (Root \u2192 Children). N\u1ebfu c\u1ea7n ph\u1ee9c t\u1ea1p h\u01a1n \u2192 d\u00f9ng ApplicationSet.\n</code></pre>"},{"location":"day-07/questions/#cau-7-root-app-nen-bat-auto-sync-khong","title":"C\u00e2u 7: Root App n\u00ean b\u1eadt Auto Sync kh\u00f4ng?","text":"<pre><code>**T\u00f9y m\u00f4i tr\u01b0\u1eddng:**\n- **Dev/Staging:** B\u1eadt Auto Sync + Prune \u2192 apps t\u1ef1 t\u1ea1o/x\u00f3a theo Git\n- **Production:** Manual sync cho Root \u2192 review tr\u01b0\u1edbc khi th\u00eam/x\u00f3a apps\n- Child apps c\u00f3 th\u1ec3 c\u00f3 sync policy ri\u00eang (auto ho\u1eb7c manual)\n</code></pre>"},{"location":"day-07/questions/#cau-8-child-app-co-bi-anh-huong-khi-root-app-bi-xoa","title":"C\u00e2u 8: Child App c\u00f3 b\u1ecb \u1ea3nh h\u01b0\u1edfng khi Root App b\u1ecb x\u00f3a?","text":"<pre><code>**Ph\u1ee5 thu\u1ed9c cascade:**\n- `--cascade=true` (default): X\u00f3a Root \u2192 x\u00f3a t\u1ea5t c\u1ea3 children \u2192 x\u00f3a t\u1ea5t c\u1ea3 K8s resources\n- `--cascade=false`: X\u00f3a Root \u2192 children v\u1eabn t\u1ed3n t\u1ea1i (orphaned Applications)\n</code></pre>"},{"location":"day-07/questions/#cau-9-git-directory-structure-cho-app-of-apps-nen-the-nao","title":"C\u00e2u 9: Git directory structure cho App of Apps n\u00ean th\u1ebf n\u00e0o?","text":"<pre><code>```\nrepo/\n\u251c\u2500\u2500 apps/                    \u2190 Root App tr\u1ecf \u0111\u1ebfn \u0111\u00e2y\n\u2502   \u251c\u2500\u2500 root-app.yaml        \u2190 Root Application\n\u2502   \u2514\u2500\u2500 children/            \u2190 Child Application YAMLs\n\u2502       \u251c\u2500\u2500 frontend.yaml\n\u2502       \u251c\u2500\u2500 backend.yaml\n\u2502       \u2514\u2500\u2500 database.yaml\n\u251c\u2500\u2500 manifests/               \u2190 Actual K8s manifests\n\u2502   \u251c\u2500\u2500 frontend/\n\u2502   \u251c\u2500\u2500 backend/\n\u2502   \u2514\u2500\u2500 database/\n```\nT\u00e1ch r\u00f5: Application definitions vs K8s manifests.\n</code></pre>"},{"location":"day-07/questions/#cau-10-so-sanh-app-of-apps-vs-applicationset","title":"C\u00e2u 10: So s\u00e1nh App of Apps vs ApplicationSet?","text":"<pre><code>| | App of Apps | ApplicationSet |\n|---|------------|----------------|\n| C\u00e1ch t\u1ea1o | M\u1ed7i child l\u00e0 1 YAML file | Template + Generator |\n| Flexibility | M\u1ed7i child config ri\u00eang | C\u00f9ng template, kh\u00e1c values |\n| Scale | 10-50 apps | 50-1000 apps |\n| Maintain | Nhi\u1ec1u files | 1 file |\n| Use case | Apps kh\u00e1c nhau | Apps similar pattern |\n</code></pre>"},{"location":"day-07/questions/#phan-2-implementation-cau-11-20","title":"Ph\u1ea7n 2: Implementation (C\u00e2u 11-20)","text":""},{"location":"day-07/questions/#cau-11-root-application-yaml-mau","title":"C\u00e2u 11: Root Application YAML m\u1eabu?","text":"<pre><code>```yaml\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: root-app\n  namespace: argocd\nspec:\n  project: default\n  source:\n    repoURL: https://github.com/user/repo.git\n    path: apps/children  # Th\u01b0 m\u1ee5c ch\u1ee9a child app YAMLs\n    targetRevision: HEAD\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: argocd\n  syncPolicy:\n    automated:\n      prune: true\n      selfHeal: true\n```\n</code></pre>"},{"location":"day-07/questions/#cau-12-child-application-co-can-set-namespace-argocd-trong-metadata-khong","title":"C\u00e2u 12: Child Application c\u00f3 c\u1ea7n set <code>namespace: argocd</code> trong metadata kh\u00f4ng?","text":"<pre><code>**C\u00f3!** Application CRD s\u1ed1ng trong namespace argocd. N\u1ebfu thi\u1ebfu, ArgoCD c\u00f3 th\u1ec3 t\u1ea1o Application \u1edf default namespace \u2192 kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng \u0111\u00fang.\n</code></pre>"},{"location":"day-07/questions/#cau-13-child-apps-co-the-o-project-khac-nhau-khong","title":"C\u00e2u 13: Child apps c\u00f3 th\u1ec3 \u1edf project kh\u00e1c nhau kh\u00f4ng?","text":"<pre><code>**C\u00f3.** M\u1ed7i child app ch\u1ec9 \u0111\u1ecbnh `spec.project` ri\u00eang. Root app \u1edf project X, child \u1edf project Y \u2014 ho\u00e0n to\u00e0n OK. H\u1eefu \u00edch cho multi-team: m\u1ed7i team c\u00f3 project ri\u00eang.\n</code></pre>"},{"location":"day-07/questions/#cau-14-sync-order-giua-children-co-am-bao-khong","title":"C\u00e2u 14: Sync order gi\u1eefa children c\u00f3 \u0111\u1ea3m b\u1ea3o kh\u00f4ng?","text":"<pre><code>**Kh\u00f4ng!** ArgoCD sync children **song song** (parallel). N\u1ebfu c\u1ea7n order \u2192 d\u00f9ng **Sync Waves** tr\u00ean child Application YAMLs:\n```yaml\nmetadata:\n  annotations:\n    argocd.argoproj.io/sync-wave: \"1\"  # Database tr\u01b0\u1edbc\n```\n</code></pre>"},{"location":"day-07/questions/#cau-15-finalizer-resources-finalizerargocdargoprojio-dung-e-lam-gi","title":"C\u00e2u 15: Finalizer <code>resources-finalizer.argocd.argoproj.io</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>\u0110\u1ea3m b\u1ea3o khi delete Application \u2192 ArgoCD x\u00f3a K8s resources tr\u01b0\u1edbc \u2192 r\u1ed3i m\u1edbi x\u00f3a Application object. Ng\u0103n orphaned resources. N\u1ebfu kh\u00f4ng c\u00f3 finalizer \u2192 x\u00f3a app nh\u01b0ng K8s resources v\u1eabn ch\u1ea1y.\n</code></pre>"},{"location":"day-07/questions/#cau-16-child-app-bi-outofsync-nhung-root-app-synced-tai-sao","title":"C\u00e2u 16: Child app b\u1ecb OutOfSync nh\u01b0ng Root app Synced \u2014 t\u1ea1i sao?","text":"<pre><code>Root app ch\u1ec9 track **Application YAML files** (children definitions). Child OutOfSync = manifests tr\u00ean cluster kh\u00e1c Git. Root Synced = application definitions kh\u1edbp. Hai layers sync status ri\u00eang bi\u1ec7t.\n</code></pre>"},{"location":"day-07/questions/#cau-17-lam-sao-rollback-1-child-app-ma-khong-anh-huong-cac-app-khac","title":"C\u00e2u 17: L\u00e0m sao rollback 1 child app m\u00e0 kh\u00f4ng \u1ea3nh h\u01b0\u1edfng c\u00e1c app kh\u00e1c?","text":"<pre><code>Git revert ch\u1ec9 thay \u0111\u1ed5i c\u1ee7a child app \u0111\u00f3 \u2192 ArgoCD sync ch\u1ec9 child \u0111\u00f3. Ho\u1eb7c rollback qua CLI: `argocd app rollback &lt;child-app-name&gt; &lt;revision&gt;`.\n</code></pre>"},{"location":"day-07/questions/#cau-18-health-status-cua-root-app-phan-anh-gi","title":"C\u00e2u 18: Health status c\u1ee7a Root App ph\u1ea3n \u00e1nh g\u00ec?","text":"<pre><code>Root App health = aggregate health c\u1ee7a t\u1ea5t c\u1ea3 children. N\u1ebfu 1 child Degraded \u2192 Root c\u0169ng Degraded. T\u1ea5t c\u1ea3 Healthy \u2192 Root Healthy. N\u00f3 gi\u1ed1ng \"dashboard\" t\u1ed5ng quan.\n</code></pre>"},{"location":"day-07/questions/#cau-19-co-the-mix-helm-kustomize-plain-yaml-children-khong","title":"C\u00e2u 19: C\u00f3 th\u1ec3 mix Helm + Kustomize + Plain YAML children kh\u00f4ng?","text":"<pre><code>**C\u00f3!** M\u1ed7i child Application t\u1ef1 \u0111\u1ecbnh ngh\u0129a source type ri\u00eang. Frontend d\u00f9ng Kustomize, Backend d\u00f9ng Helm, Database d\u00f9ng plain YAML \u2014 ho\u00e0n to\u00e0n OK.\n</code></pre>"},{"location":"day-07/questions/#cau-20-preview-changes-truoc-khi-sync-root-app","title":"C\u00e2u 20: Preview changes tr\u01b0\u1edbc khi sync Root App?","text":"<pre><code>```bash\nargocd app diff root-app          # Xem child apps s\u1ebd thay \u0111\u1ed5i g\u00ec\nargocd app diff &lt;child-app-name&gt;   # Xem manifest changes c\u1ee7a 1 child\nargocd app sync root-app --dry-run # Dry-run sync\n```\n</code></pre>"},{"location":"day-07/questions/#phan-3-advanced-troubleshooting-cau-21-30","title":"Ph\u1ea7n 3: Advanced &amp; Troubleshooting (C\u00e2u 21-30)","text":""},{"location":"day-07/questions/#cau-21-loi-application-already-exists-khi-sync-root","title":"C\u00e2u 21: L\u1ed7i \"application already exists\" khi sync Root?","text":"<pre><code>Child Application YAML tr\u00f9ng t\u00ean v\u1edbi app \u0111\u00e3 t\u1ed3n t\u1ea1i. Fix: \u0111\u1ed5i `metadata.name` ho\u1eb7c x\u00f3a app tr\u00f9ng tr\u01b0\u1edbc: `argocd app delete &lt;name&gt;`.\n</code></pre>"},{"location":"day-07/questions/#cau-22-app-of-apps-helm-co-uoc-khong","title":"C\u00e2u 22: App of Apps + Helm c\u00f3 \u0111\u01b0\u1ee3c kh\u00f4ng?","text":"<pre><code>**C\u00f3!** Root app d\u00f9ng Helm chart m\u00e0 template output l\u00e0 Application CRDs. Use case: parameterize children b\u1eb1ng Helm values. Nh\u01b0ng ph\u1ee9c t\u1ea1p h\u01a1n, th\u01b0\u1eddng d\u00f9ng ApplicationSet thay th\u1ebf.\n</code></pre>"},{"location":"day-07/questions/#cau-23-co-nen-dung-app-of-apps-cho-100-microservices","title":"C\u00e2u 23: C\u00f3 n\u00ean d\u00f9ng App of Apps cho 100+ microservices?","text":"<pre><code>**Kh\u00f4ng.** 100+ Application YAML files kh\u00f3 maintain. N\u00ean d\u00f9ng **ApplicationSet** \u2014 1 template + generator t\u1ef1 t\u1ea1o 100+ apps. App of Apps ph\u00f9 h\u1ee3p cho 5-30 apps c\u00f3 c\u1ea5u h\u00ecnh kh\u00e1c nhau.\n</code></pre>"},{"location":"day-07/questions/#cau-24-orphaned-resources-detection-hoat-ong-the-nao","title":"C\u00e2u 24: Orphaned resources detection ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>ArgoCD detect resources tr\u00ean cluster **thu\u1ed9c namespace** m\u00e0 Application qu\u1ea3n l\u00fd nh\u01b0ng **kh\u00f4ng c\u00f3 trong Git**. C\u1ea5u h\u00ecnh trong AppProject:\n```yaml\norphanedResources:\n  warn: true  # Ch\u1ec9 c\u1ea3nh b\u00e1o\n  # ignore: \u0111\u1ec3 b\u1ecf qua resources c\u1ee5 th\u1ec3\n```\n</code></pre>"},{"location":"day-07/questions/#cau-25-tai-sao-child-app-bi-stuck-o-progressing","title":"C\u00e2u 25: T\u1ea1i sao child app b\u1ecb \"stuck\" \u1edf Progressing?","text":"<pre><code>Child app \u0111ang ch\u1edd resource Ready (vd: Deployment ch\u1edd pods). Nguy\u00ean nh\u00e2n: image pull error, insufficient resources, failing health checks. Debug: `argocd app get &lt;child&gt; --show-operation` ho\u1eb7c `kubectl describe pod`.\n</code></pre>"},{"location":"day-07/questions/#cau-26-multi-repo-app-of-apps-co-uoc-khong","title":"C\u00e2u 26: Multi-repo App of Apps c\u00f3 \u0111\u01b0\u1ee3c kh\u00f4ng?","text":"<pre><code>**C\u00f3!** M\u1ed7i child Application tr\u1ecf \u0111\u1ebfn repo kh\u00e1c nhau. Root tr\u1ecf \u0111\u1ebfn repo ch\u1ee9a Application YAMLs. R\u1ea5t ph\u1ed5 bi\u1ebfn: 1 \"organization\" repo ch\u1ee9a app definitions, m\u1ed7i team c\u00f3 repo manifests ri\u00eang.\n</code></pre>"},{"location":"day-07/questions/#cau-27-lam-sao-giam-sat-health-cua-toan-bo-app-of-apps-hierarchy","title":"C\u00e2u 27: L\u00e0m sao gi\u00e1m s\u00e1t health c\u1ee7a to\u00e0n b\u1ed9 App of Apps hierarchy?","text":"<pre><code>1. ArgoCD UI \u2014 click Root app \u2192 th\u1ea5y tree visualization\n2. CLI: `argocd app list` \u2014 th\u1ea5y all apps + health\n3. Prometheus metrics: `argocd_app_health_status`\n4. Notifications: configure alert khi child Degraded\n</code></pre>"},{"location":"day-07/questions/#cau-28-backup-app-definitions-the-nao","title":"C\u00e2u 28: Backup app definitions th\u1ebf n\u00e0o?","text":"<pre><code>App definitions \u0111\u00e3 \u1edf trong Git \u2192 Git = backup! N\u1ebfu mu\u1ed1n backup ArgoCD state (bao g\u1ed3m sync history):\n```bash\nargocd admin export &gt; argocd-backup.yaml\n# Restore:\nargocd admin import &lt; argocd-backup.yaml\n```\n</code></pre>"},{"location":"day-07/questions/#cau-29-app-of-apps-gitops-cho-argocd-itself","title":"C\u00e2u 29: App of Apps + GitOps cho ArgoCD itself?","text":"<pre><code>**Self-managing ArgoCD:** ArgoCD qu\u1ea3n l\u00fd ch\u00ednh n\u00f3 qua App of Apps. Root app t\u1ea1o child apps, 1 child app = ArgoCD installation. Bootstrap: c\u00e0i ArgoCD manual l\u1ea7n \u0111\u1ea7u \u2192 t\u1ea1o Root app \u2192 ArgoCD t\u1ef1 qu\u1ea3n l\u00fd t\u1eeb \u0111\u00f3.\n</code></pre>"},{"location":"day-07/questions/#cau-30-migration-tu-standalone-apps-sang-app-of-apps","title":"C\u00e2u 30: Migration t\u1eeb standalone apps sang App of Apps?","text":"<pre><code>1. T\u1ea1o Application YAML cho m\u1ed7i existing app trong children folder\n2. T\u1ea1o Root Application tr\u1ecf \u0111\u1ebfn children folder\n3. Sync Root \u2192 ArgoCD adopt existing apps (n\u1ebfu t\u00ean kh\u1edbp) ho\u1eb7c t\u1ea1o duplicate\n4. **Best practice:** Test tr\u00ean staging tr\u01b0\u1edbc, v\u00ec c\u00f3 th\u1ec3 t\u1ea1o duplicate apps n\u1ebfu t\u00ean kh\u00f4ng kh\u1edbp\n</code></pre>"},{"location":"day-07/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 7: App of Apps Pattern","text":""},{"location":"day-07/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>T\u1ea1o Root Application qu\u1ea3n l\u00fd t\u1ea5t c\u1ea3 child apps</li> <li>Th\u00eam/x\u00f3a app m\u1edbi qua Git</li> <li>Thi\u1ebft k\u1ebf c\u1ea5u tr\u00fac Git chu\u1ea9n</li> </ul>"},{"location":"day-07/exercises/exercise/#bai-tap-1-deploy-app-of-apps","title":"B\u00e0i t\u1eadp 1: Deploy App of Apps","text":"<ol> <li>Push th\u01b0 m\u1ee5c <code>apps/</code> v\u00e0 <code>manifests/</code> l\u00ean Git repo (s\u1eeda URL repo trong c\u00e1c file YAML)</li> <li>T\u1ea1o Root Application:    <pre><code>kubectl apply -f apps/root-app.yaml\n</code></pre></li> <li>Sync root app:    <pre><code>argocd app sync root-app\n</code></pre></li> <li>Ki\u1ec3m tra t\u1ea5t c\u1ea3 apps:    <pre><code>argocd app list\n# \u2192 root-app, frontend, backend, database\n</code></pre></li> </ol>"},{"location":"day-07/exercises/exercise/#bai-tap-2-them-app-moi-qua-git","title":"B\u00e0i t\u1eadp 2: Th\u00eam app m\u1edbi qua Git","text":"<ol> <li>T\u1ea1o file <code>apps/children/cache-app.yaml</code> cho m\u1ed9t app m\u1edbi (v\u00ed d\u1ee5: Memcached)</li> <li>T\u1ea1o manifests t\u01b0\u01a1ng \u1ee9ng t\u1ea1i <code>manifests/cache/</code></li> <li>Commit &amp; Push \u2192 Root App t\u1ef1 detect v\u00e0 t\u1ea1o child app m\u1edbi</li> <li>Ki\u1ec3m tra:    <pre><code>argocd app list\n# \u2192 root-app, frontend, backend, database, cache\n</code></pre></li> </ol>"},{"location":"day-07/exercises/exercise/#bai-tap-3-xoa-app-qua-git","title":"B\u00e0i t\u1eadp 3: X\u00f3a app qua Git","text":"<ol> <li>X\u00f3a file <code>apps/children/cache-app.yaml</code> kh\u1ecfi Git</li> <li>Commit &amp; Push</li> <li>Root App s\u1ebd Prune \u2192 Child app <code>cache</code> b\u1ecb x\u00f3a</li> <li>Ki\u1ec3m tra:    <pre><code>argocd app list\n# \u2192 cache app kh\u00f4ng c\u00f2n\n</code></pre></li> </ol>"},{"location":"day-07/exercises/exercise/#bai-tap-4-thiet-ke-cau-truc-git-chuan-nang-cao","title":"B\u00e0i t\u1eadp 4: Thi\u1ebft k\u1ebf c\u1ea5u tr\u00fac Git chu\u1ea9n (N\u00e2ng cao)","text":"<p>Thi\u1ebft k\u1ebf c\u1ea5u tr\u00fac Git cho t\u1ed5 ch\u1ee9c c\u00f3: - 3 teams (platform, frontend, backend) - 2 environments (dev, prod) - M\u1ed7i team c\u00f3 2-3 microservices</p> <p>V\u1ebd diagram c\u1ea5u tr\u00fac th\u01b0 m\u1ee5c v\u00e0 gi\u1ea3i th\u00edch.</p>"},{"location":"day-07/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] Root App t\u1ea1o th\u00e0nh c\u00f4ng, qu\u1ea3n l\u00fd 3 child apps</li> <li>[ ] T\u1ea5t c\u1ea3 child apps Synced + Healthy</li> <li>[ ] Th\u00eam app m\u1edbi qua Git \u2192 t\u1ef1 detect</li> <li>[ ] X\u00f3a app qua Git \u2192 t\u1ef1 prune</li> <li>[ ] (N\u00e2ng cao) Thi\u1ebft k\u1ebf c\u1ea5u tr\u00fac Git cho t\u1ed5 ch\u1ee9c l\u1edbn</li> </ul>"},{"location":"day-08/","title":"\ud83d\udcc5 Ng\u00e0y 8: ApplicationSet &amp; T\u1ef1 \u0110\u1ed9ng H\u00f3a Quy M\u00f4 L\u1edbn","text":""},{"location":"day-08/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u ApplicationSet Generators (List, Git, Cluster)</li> <li>T\u1ef1 \u0111\u1ed9ng t\u1ea1o h\u00e0ng lo\u1ea1t Application t\u1eeb template</li> <li>D\u00f9ng Git Generator \u0111\u1ec3 auto-deploy khi c\u00f3 folder m\u1edbi</li> </ul>"},{"location":"day-08/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-08/#applicationset-la-gi","title":"ApplicationSet l\u00e0 g\u00ec?","text":"<p>ApplicationSet l\u00e0 controller cho ph\u00e9p b\u1ea1n t\u1ea1o nhi\u1ec1u ArgoCD Application t\u1eeb m\u1ed9t template duy nh\u1ea5t. Thay v\u00ec vi\u1ebft 100 file YAML cho 100 apps, b\u1ea1n ch\u1ec9 c\u1ea7n 1 ApplicationSet.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  ApplicationSet                       \u2502\n\u2502                                                       \u2502\n\u2502  Template:                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502  \u2502 name: {{name}}              \u2502                      \u2502\n\u2502  \u2502 path: apps/{{name}}         \u2502                      \u2502\n\u2502  \u2502 namespace: {{name}}         \u2502                      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2502           +                                           \u2502\n\u2502  Generator:                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                      \u2502\n\u2502  \u2502 - name: app-1               \u2502   K\u1ebft qu\u1ea3:          \u2502\n\u2502  \u2502 - name: app-2               \u2502 \u2192 3 Applications    \u2502\n\u2502  \u2502 - name: app-3               \u2502   \u0111\u01b0\u1ee3c t\u1ea1o t\u1ef1 \u0111\u1ed9ng  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-08/#3-generator-chinh","title":"3 Generator ch\u00ednh","text":"Generator Data source Use case List Danh s\u00e1ch hardcode Bi\u1ebft tr\u01b0\u1edbc t\u00ean apps Git Th\u01b0 m\u1ee5c/file trong Git Auto-detect apps m\u1edbi Cluster Danh s\u00e1ch clusters Deploy c\u00f9ng app l\u00ean nhi\u1ec1u clusters"},{"location":"day-08/#list-generator","title":"List Generator","text":"<pre><code>generators:\n  - list:\n      elements:\n        - name: app-1\n          env: dev\n        - name: app-2\n          env: prod\n</code></pre>"},{"location":"day-08/#git-generator-directory","title":"Git Generator (Directory)","text":"<pre><code>generators:\n  - git:\n      repoURL: https://github.com/user/repo.git\n      revision: HEAD\n      directories:\n        - path: apps/*    # M\u1ed7i folder = 1 Application\n</code></pre>"},{"location":"day-08/#cluster-generator","title":"Cluster Generator","text":"<pre><code>generators:\n  - clusters: {}    # T\u1ea1o app cho M\u1eccI cluster \u0111\u00e3 registered\n</code></pre>"},{"location":"day-08/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-08/#buoc-1-list-generator","title":"B\u01b0\u1edbc 1: List Generator","text":"<pre><code># Xem file m\u1eabu\ncat argocd/appset-list.yaml\n\n# Apply\nkubectl apply -f argocd/appset-list.yaml\n\n# Ki\u1ec3m tra apps \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o\nargocd app list\n</code></pre>"},{"location":"day-08/#buoc-2-git-generator","title":"B\u01b0\u1edbc 2: Git Generator","text":"<pre><code># Xem c\u1ea5u tr\u00fac apps/\ntree apps/\n# apps/\n# \u251c\u2500\u2500 app-1/\n# \u2502   \u251c\u2500\u2500 deployment.yaml\n# \u2502   \u2514\u2500\u2500 service.yaml\n# \u251c\u2500\u2500 app-2/\n# \u2502   \u2514\u2500\u2500 ...\n# \u2514\u2500\u2500 app-3/\n#     \u2514\u2500\u2500 ...\n\n# Apply ApplicationSet v\u1edbi Git Generator\nkubectl apply -f argocd/appset-git.yaml\n\n# Ki\u1ec3m tra\nargocd app list\n</code></pre>"},{"location":"day-08/#buoc-3-tao-folder-moi-auto-deploy","title":"B\u01b0\u1edbc 3: T\u1ea1o folder m\u1edbi \u2192 Auto-deploy \ud83d\ude80","text":"<pre><code># T\u1ea1o app-4 folder tr\u00ean Git\nmkdir -p apps/app-4\ncat &lt;&lt;EOF &gt; apps/app-4/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-4\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: app-4\n  template:\n    metadata:\n      labels:\n        app: app-4\n    spec:\n      containers:\n        - name: app\n          image: nginx:1.25-alpine\n          ports:\n            - containerPort: 80\nEOF\n\n# Commit &amp; Push\n# \u2192 ApplicationSet t\u1ef1 detect folder m\u1edbi v\u00e0 t\u1ea1o Application!\n</code></pre>"},{"location":"day-08/#buoc-4-cluster-generator-neu-co-multi-cluster-tu-day-06","title":"B\u01b0\u1edbc 4: Cluster Generator (N\u1ebfu c\u00f3 multi-cluster t\u1eeb Day 06)","text":"<pre><code>kubectl apply -f argocd/appset-cluster.yaml\n# \u2192 T\u1ea1o 1 app tr\u00ean m\u1ed7i cluster \u0111\u00e3 registered\n</code></pre>"},{"location":"day-08/#faq","title":"\u2753 FAQ","text":""},{"location":"day-08/#q-lam-sao-e-ngan-chan-viec-applicationset-tao-ra-qua-nhieu-rac-tren-cluster","title":"Q: L\u00e0m sao \u0111\u1ec3 ng\u0103n ch\u1eb7n vi\u1ec7c ApplicationSet t\u1ea1o ra qu\u00e1 nhi\u1ec1u r\u00e1c tr\u00ean Cluster?","text":"<p>A: S\u1eed d\u1ee5ng c\u00e1c chi\u1ebfn l\u01b0\u1ee3c: 1. <code>preserveResourcesOnDeletion: true</code>: Kh\u00f4ng x\u00f3a resources khi x\u00f3a ApplicationSet 2. <code>ignoreApplicationDifferences</code>: B\u1ecf qua kh\u00e1c bi\u1ec7t nh\u1ea5t \u0111\u1ecbnh 3. Sync Policy th\u1eadn tr\u1ecdng: Kh\u00f4ng b\u1eadt auto-sync + prune ngay 4. Git path filter: Ch\u1ec9 match folders c\u1ee5 th\u1ec3</p>"},{"location":"day-08/#q-applicationset-vs-app-of-apps","title":"Q: ApplicationSet vs App of Apps?","text":"<p>A:  - ApplicationSet = T\u1ef1 \u0111\u1ed9ng t\u1ea1o apps gi\u1ed1ng nhau t\u1eeb template - App of Apps = Qu\u1ea3n l\u00fd apps kh\u00e1c nhau m\u1ed9t c\u00e1ch t\u01b0\u1eddng minh</p>"},{"location":"day-08/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 07 \u2014 App of Apps \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 09 \u2014 B\u1ea3o m\u1eadt RBAC</p>"},{"location":"day-08/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 8: ApplicationSet","text":""},{"location":"day-08/questions/#phan-1-applicationset-concepts-cau-1-10","title":"Ph\u1ea7n 1: ApplicationSet Concepts (C\u00e2u 1-10)","text":""},{"location":"day-08/questions/#cau-1-applicationset-la-gi","title":"C\u00e2u 1: ApplicationSet l\u00e0 g\u00ec?","text":"<pre><code>ApplicationSet l\u00e0 CRD cho ph\u00e9p **t\u1ef1 \u0111\u1ed9ng t\u1ea1o nhi\u1ec1u Applications** t\u1eeb 1 template + generator. Thay v\u00ec vi\u1ebft 10 Application YAMLs, vi\u1ebft 1 ApplicationSet \u2192 ArgoCD t\u1ef1 t\u1ea1o 10 apps.\n</code></pre>"},{"location":"day-08/questions/#cau-2-applicationset-khac-application-the-nao","title":"C\u00e2u 2: ApplicationSet kh\u00e1c Application th\u1ebf n\u00e0o?","text":"<pre><code>**Application:** 1 YAML = 1 app. **ApplicationSet:** 1 YAML = N apps (template + generator). ApplicationSet l\u00e0 \"factory\" t\u1ea1o Applications d\u1ef1a tr\u00ean data t\u1eeb generators.\n</code></pre>"},{"location":"day-08/questions/#cau-3-liet-ke-cac-generator-types","title":"C\u00e2u 3: Li\u1ec7t k\u00ea c\u00e1c Generator types?","text":"<pre><code>1. **List** \u2014 Danh s\u00e1ch static values\n2. **Cluster** \u2014 T\u1ef1 detect clusters \u0111\u00e3 \u0111\u0103ng k\u00fd\n3. **Git Directory** \u2014 T\u1ef1 detect folders trong Git\n4. **Git File** \u2014 \u0110\u1ecdc config t\u1eeb JSON/YAML files trong Git\n5. **Matrix** \u2014 K\u1ebft h\u1ee3p 2 generators (cross product)\n6. **Merge** \u2014 Merge nhi\u1ec1u generators\n7. **SCM Provider** \u2014 Scan repos t\u1eeb GitHub/GitLab org\n8. **Pull Request** \u2014 T\u1ea1o app cho m\u1ed7i PR\n</code></pre>"},{"location":"day-08/questions/#cau-4-list-generator-hoat-ong-the-nao","title":"C\u00e2u 4: List Generator ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Khai b\u00e1o danh s\u00e1ch values \u2192 template t\u1ea1o 1 app per entry:\n```yaml\ngenerators:\n  - list:\n      elements:\n        - cluster: dev\n          url: https://dev-cluster:6443\n        - cluster: prod\n          url: https://prod-cluster:6443\n```\nTemplate d\u00f9ng `{{cluster}}`, `{{url}}` \u0111\u1ec3 t\u1ea1o 2 apps.\n</code></pre>"},{"location":"day-08/questions/#cau-5-git-directory-generator-hoat-ong-the-nao","title":"C\u00e2u 5: Git Directory Generator ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Scan th\u01b0 m\u1ee5c Git, m\u1ed7i subfolder = 1 Application:\n```yaml\ngenerators:\n  - git:\n      repoURL: https://github.com/user/repo.git\n      directories:\n        - path: apps/*    # M\u1ed7i folder trong apps/ = 1 app\n```\nTh\u00eam folder m\u1edbi v\u00e0o Git \u2192 ApplicationSet t\u1ef1 t\u1ea1o app m\u1edbi.\n</code></pre>"},{"location":"day-08/questions/#cau-6-cluster-generator-hoat-ong-the-nao","title":"C\u00e2u 6: Cluster Generator ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>T\u1ea1o 1 app per cluster \u0111\u00e3 \u0111\u0103ng k\u00fd trong ArgoCD:\n```yaml\ngenerators:\n  - clusters:\n      selector:\n        matchLabels:\n          env: prod    # Ch\u1ec9 clusters c\u00f3 label env=prod\n```\nTh\u00eam cluster m\u1edbi (c\u00f3 label \u0111\u00fang) \u2192 auto-create app.\n</code></pre>"},{"location":"day-08/questions/#cau-7-git-file-generator-khac-git-directory-generator-the-nao","title":"C\u00e2u 7: Git File Generator kh\u00e1c Git Directory Generator th\u1ebf n\u00e0o?","text":"<pre><code>**Directory:** D\u1ef1a tr\u00ean folder structure. **File:** \u0110\u1ecdc n\u1ed9i dung JSON/YAML file \u0111\u1ec3 l\u1ea5y values. File Generator linh ho\u1ea1t h\u01a1n \u2014 m\u1ed7i file c\u00f3 th\u1ec3 ch\u1ee9a nhi\u1ec1u config fields t\u00f9y \u00fd.\n</code></pre>"},{"location":"day-08/questions/#cau-8-matrix-generator-dung-khi-nao","title":"C\u00e2u 8: Matrix Generator d\u00f9ng khi n\u00e0o?","text":"<pre><code>K\u1ebft h\u1ee3p 2 generators t\u1ea1o **cross product**. V\u00ed d\u1ee5: 3 apps \u00d7 2 clusters = 6 Applications. Use case: deploy t\u1ea5t c\u1ea3 apps l\u00ean t\u1ea5t c\u1ea3 clusters.\n```yaml\ngenerators:\n  - matrix:\n      generators:\n        - git: {directories: [{path: apps/*}]}  # 3 apps\n        - clusters: {selector: {matchLabels: {env: prod}}}  # 2 clusters\n```\n</code></pre>"},{"location":"day-08/questions/#cau-9-template-trong-applicationset-dung-gi-e-reference-values","title":"C\u00e2u 9: Template trong ApplicationSet d\u00f9ng g\u00ec \u0111\u1ec3 reference values?","text":"<pre><code>D\u00f9ng **double curly braces**: `{{name}}`, `{{path}}`, `{{cluster}}`. Gi\u1ed1ng Go template nh\u01b0ng \u0111\u01a1n gi\u1ea3n h\u01a1n \u2014 ch\u1ec9 string substitution, kh\u00f4ng c\u00f3 logic (if/for).\n</code></pre>"},{"location":"day-08/questions/#cau-10-khi-nao-nen-dung-applicationset-thay-vi-app-of-apps","title":"C\u00e2u 10: Khi n\u00e0o n\u00ean d\u00f9ng ApplicationSet thay v\u00ec App of Apps?","text":"<pre><code>**ApplicationSet:** Apps c\u00f9ng pattern (c\u00f9ng config structure, ch\u1ec9 kh\u00e1c values). Scale l\u1edbn (50+). **App of Apps:** Apps kh\u00e1c nhau ho\u00e0n to\u00e0n (m\u1ed7i app config ri\u00eang). Scale nh\u1ecf (5-30).\n</code></pre>"},{"location":"day-08/questions/#phan-2-configuration-cau-11-20","title":"Ph\u1ea7n 2: Configuration (C\u00e2u 11-20)","text":""},{"location":"day-08/questions/#cau-11-applicationset-yaml-mau-list-generator","title":"C\u00e2u 11: ApplicationSet YAML m\u1eabu (List Generator)?","text":"<pre><code>```yaml\napiVersion: argoproj.io/v1alpha1\nkind: ApplicationSet\nmetadata:\n  name: my-appset\n  namespace: argocd\nspec:\n  generators:\n    - list:\n        elements:\n          - env: dev\n            namespace: dev\n          - env: prod\n            namespace: prod\n  template:\n    metadata:\n      name: 'myapp-{{env}}'\n    spec:\n      project: default\n      source:\n        repoURL: https://github.com/user/repo.git\n        path: 'overlays/{{env}}'\n      destination:\n        server: https://kubernetes.default.svc\n        namespace: '{{namespace}}'\n```\n</code></pre>"},{"location":"day-08/questions/#cau-12-syncpolicy-trong-applicationset-khac-trong-application","title":"C\u00e2u 12: <code>syncPolicy</code> trong ApplicationSet kh\u00e1c trong Application?","text":"<pre><code>ApplicationSet c\u00f3 **2 c\u1ea5p** syncPolicy:\n1. **ApplicationSet level:** Control khi n\u00e0o t\u1ea1o/x\u00f3a Applications (`preserveResourcesOnDeletion`)\n2. **Template level:** Control sync behavior c\u1ee7a generated Applications (automated, selfHeal, prune)\n</code></pre>"},{"location":"day-08/questions/#cau-13-preserveresourcesondeletion-dung-e-lam-gi","title":"C\u00e2u 13: <code>preserveResourcesOnDeletion</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Khi x\u00f3a ApplicationSet \u2192 gi\u1eef l\u1ea1i generated Applications (kh\u00f4ng cascade delete):\n```yaml\nsyncPolicy:\n  preserveResourcesOnDeletion: true\n```\n**M\u1eb7c \u0111\u1ecbnh false** \u2014 x\u00f3a ApplicationSet = x\u00f3a t\u1ea5t c\u1ea3 apps n\u00f3 t\u1ea1o ra.\n</code></pre>"},{"location":"day-08/questions/#cau-14-exclude-specific-directories-trong-git-generator-the-nao","title":"C\u00e2u 14: Exclude specific directories trong Git Generator th\u1ebf n\u00e0o?","text":"<pre><code>```yaml\ngenerators:\n  - git:\n      directories:\n        - path: apps/*\n        - path: apps/deprecated    # Exclude\n          exclude: true\n```\n</code></pre>"},{"location":"day-08/questions/#cau-15-cluster-generator-co-include-in-cluster-khong","title":"C\u00e2u 15: Cluster Generator c\u00f3 include in-cluster kh\u00f4ng?","text":"<pre><code>**C\u00f3**, m\u1eb7c \u0111\u1ecbnh include t\u1ea5t c\u1ea3 clusters k\u1ec3 c\u1ea3 in-cluster (`https://kubernetes.default.svc`). \u0110\u1ec3 exclude: d\u00f9ng label selector m\u00e0 in-cluster kh\u00f4ng c\u00f3.\n</code></pre>"},{"location":"day-08/questions/#cau-16-template-override-la-gi","title":"C\u00e2u 16: Template override l\u00e0 g\u00ec?","text":"<pre><code>Cho ph\u00e9p override template values cho entries c\u1ee5 th\u1ec3 trong List Generator:\n```yaml\nelements:\n  - cluster: staging\n    values:\n      syncPolicy: automated\n  - cluster: prod\n    values:\n      syncPolicy: manual\n```\n</code></pre>"},{"location":"day-08/questions/#cau-17-gotemplate-trong-applicationset-dung-e-lam-gi","title":"C\u00e2u 17: <code>goTemplate</code> trong ApplicationSet d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>B\u1eadt Go template engine thay v\u00ec simple string substitution:\n```yaml\nspec:\n  goTemplate: true\n  goTemplateOptions: [\"missingkey=error\"]\n  template:\n    metadata:\n      name: '{{.name | lower}}'  # Go template functions\n```\nCho ph\u00e9p d\u00f9ng functions, conditionals, loops.\n</code></pre>"},{"location":"day-08/questions/#cau-18-scm-provider-generator-hoat-ong-the-nao","title":"C\u00e2u 18: SCM Provider Generator ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Scan t\u1ea5t c\u1ea3 repos trong GitHub/GitLab organization, t\u1ea1o 1 app per repo (filter b\u1eb1ng conditions):\n```yaml\ngenerators:\n  - scmProvider:\n      github:\n        organization: my-org\n      filters:\n        - repositoryMatch: \"^service-.*\"  # Ch\u1ec9 repos prefix \"service-\"\n```\n</code></pre>"},{"location":"day-08/questions/#cau-19-pull-request-generator-dung-cho-gi","title":"C\u00e2u 19: Pull Request Generator d\u00f9ng cho g\u00ec?","text":"<pre><code>T\u1ea1o **preview environment** cho m\u1ed7i PR. PR \u0111\u01b0\u1ee3c t\u1ea1o \u2192 app deploy \u2192 PR merge/close \u2192 app x\u00f3a. Perfect cho testing/review environments.\n```yaml\ngenerators:\n  - pullRequest:\n      github:\n        owner: my-org\n        repo: my-app\n```\n</code></pre>"},{"location":"day-08/questions/#cau-20-merge-generator-khac-matrix-the-nao","title":"C\u00e2u 20: Merge Generator kh\u00e1c Matrix th\u1ebf n\u00e0o?","text":"<pre><code>**Matrix:** Cross product (A \u00d7 B). **Merge:** Combine multiple generators, merging matching entries. Use case: base config t\u1eeb generator A + override t\u1eeb generator B, merge b\u1eb1ng key field.\n</code></pre>"},{"location":"day-08/questions/#phan-3-advanced-troubleshooting-cau-21-30","title":"Ph\u1ea7n 3: Advanced &amp; Troubleshooting (C\u00e2u 21-30)","text":""},{"location":"day-08/questions/#cau-21-applicationset-co-support-multi-source-khong","title":"C\u00e2u 21: ApplicationSet c\u00f3 support multi-source kh\u00f4ng?","text":"<pre><code>**C\u00f3** (ArgoCD 2.6+). Template c\u00f3 th\u1ec3 d\u00f9ng `sources` (plural) thay v\u00ec `source`. H\u1eefu \u00edch khi chart \u1edf 1 repo, values \u1edf repo kh\u00e1c.\n</code></pre>"},{"location":"day-08/questions/#cau-22-rate-limiting-trong-applicationset","title":"C\u00e2u 22: Rate limiting trong ApplicationSet?","text":"<pre><code>ApplicationSet controller t\u1ea1o apps d\u1ea7n d\u1ea7n \u0111\u1ec3 tr\u00e1nh overwhelm API server:\n```yaml\nspec:\n  strategy:\n    type: RollingSync\n    rollingSync:\n      steps:\n        - matchExpressions:\n            - key: env\n              operator: In\n              values: [staging]\n        - matchExpressions:\n            - key: env\n              operator: In\n              values: [prod]\n```\n</code></pre>"},{"location":"day-08/questions/#cau-23-rollingsync-strategy-la-gi","title":"C\u00e2u 23: RollingSync strategy l\u00e0 g\u00ec?","text":"<pre><code>Sync generated apps theo th\u1ee9 t\u1ef1 (staging tr\u01b0\u1edbc, prod sau). Cho ph\u00e9p canary approach \u1edf ApplicationSet level. Ch\u1edd staging healthy \u2192 sync prod.\n</code></pre>"},{"location":"day-08/questions/#cau-24-loi-unable-to-generate-applications-debug-the-nao","title":"C\u00e2u 24: L\u1ed7i \"unable to generate applications\" \u2014 debug th\u1ebf n\u00e0o?","text":"<pre><code>1. Check ApplicationSet controller logs: `kubectl logs -n argocd deployment/argocd-applicationset-controller`\n2. Check ApplicationSet status: `kubectl get applicationset &lt;name&gt; -n argocd -o yaml`\n3. Common: Git path sai, cluster selector kh\u00f4ng match, template syntax error\n</code></pre>"},{"location":"day-08/questions/#cau-25-applicationset-tu-tao-may-app-neu-khong-co-generator-elements","title":"C\u00e2u 25: ApplicationSet t\u1eeb t\u1ea1o m\u1ea5y app n\u1ebfu kh\u00f4ng c\u00f3 generator elements?","text":"<pre><code>**0 apps.** Kh\u00f4ng c\u00f3 elements/matches \u2192 kh\u00f4ng generate g\u00ec. Existing apps (n\u1ebfu c\u00f3) s\u1ebd b\u1ecb **x\u00f3a** (tr\u1eeb khi `preserveResourcesOnDeletion: true`).\n</code></pre>"},{"location":"day-08/questions/#cau-26-co-the-dung-applicationset-voi-private-repos-khong","title":"C\u00e2u 26: C\u00f3 th\u1ec3 d\u00f9ng ApplicationSet v\u1edbi Private repos kh\u00f4ng?","text":"<pre><code>**C\u00f3.** Credentials c\u1ea5u h\u00ecnh trong ArgoCD (repo credentials) ho\u1eb7c trong SCM Provider config (access token). ApplicationSet controller d\u00f9ng ArgoCD's repo credentials.\n</code></pre>"},{"location":"day-08/questions/#cau-27-cap-nhat-template-anh-huong-existing-apps-khong","title":"C\u00e2u 27: C\u1eadp nh\u1eadt template \u2192 \u1ea3nh h\u01b0\u1edfng existing apps kh\u00f4ng?","text":"<pre><code>**C\u00f3!** ApplicationSet controller reconcile li\u00ean t\u1ee5c. Template thay \u0111\u1ed5i \u2192 t\u1ea5t c\u1ea3 generated apps update theo. **C\u1ea9n th\u1eadn:** template change \u1ea3nh h\u01b0\u1edfng N apps \u0111\u1ed3ng th\u1eddi.\n</code></pre>"},{"location":"day-08/questions/#cau-28-applicationset-controller-la-separate-pod","title":"C\u00e2u 28: ApplicationSet controller l\u00e0 separate pod?","text":"<pre><code>**C\u00f3**, t\u1eeb ArgoCD 2.5+. Ch\u1ea1y ri\u00eang: `argocd-applicationset-controller`. Tr\u01b0\u1edbc \u0111\u00f3 n\u00f3 build-in Application Controller. Xem: `kubectl get pods -n argocd`.\n</code></pre>"},{"location":"day-08/questions/#cau-29-gioi-han-so-apps-1-applicationset-co-the-tao","title":"C\u00e2u 29: Gi\u1edbi h\u1ea1n s\u1ed1 apps 1 ApplicationSet c\u00f3 th\u1ec3 t\u1ea1o?","text":"<pre><code>Kh\u00f4ng c\u00f3 gi\u1edbi h\u1ea1n c\u1ee9ng. Nh\u01b0ng nhi\u1ec1u apps (1000+) \u2192 t\u0103ng load controller, slow reconcile. Matrix generators \u0111\u1eb7c bi\u1ec7t c\u00f3 th\u1ec3 t\u1ea1o r\u1ea5t nhi\u1ec1u (N \u00d7 M). Set `maxGeneratedApps` \u0111\u1ec3 gi\u1edbi h\u1ea1n an to\u00e0n.\n</code></pre>"},{"location":"day-08/questions/#cau-30-best-practices-cho-applicationset-production","title":"C\u00e2u 30: Best practices cho ApplicationSet production?","text":"<pre><code>1. **Pin targetRevision** \u2014 kh\u00f4ng d\u00f9ng HEAD cho prod\n2. **Test tr\u00ean staging** tr\u01b0\u1edbc khi change template\n3. **Set `preserveResourcesOnDeletion`** cho critical apps\n4. **D\u00f9ng RollingSync** \u2014 staging before prod\n5. **Monitor** \u2014 alert khi generated apps Degraded\n6. **Limit generators** \u2014 d\u00f9ng filters/selectors c\u1ea9n th\u1eadn\n7. **PR review** cho template changes (\u1ea3nh h\u01b0\u1edfng nhi\u1ec1u apps)\n</code></pre>"},{"location":"day-08/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 8: ApplicationSet","text":""},{"location":"day-08/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>T\u1ea1o ApplicationSet v\u1edbi List Generator</li> <li>T\u1ea1o ApplicationSet v\u1edbi Git Generator</li> <li>Th\u00eam folder m\u1edbi \u2192 auto-deploy</li> </ul>"},{"location":"day-08/exercises/exercise/#bai-tap-1-list-generator","title":"B\u00e0i t\u1eadp 1: List Generator","text":"<ol> <li>Apply ApplicationSet:    <pre><code>kubectl apply -f argocd/appset-list.yaml\n</code></pre></li> <li>Ki\u1ec3m tra 3 apps t\u1ea1o t\u1ef1 \u0111\u1ed9ng:    <pre><code>argocd app list\n# \u2192 web-dev, web-staging, web-prod\n</code></pre></li> <li>Cleanup:    <pre><code>kubectl delete applicationset appset-list-demo -n argocd\n</code></pre></li> </ol>"},{"location":"day-08/exercises/exercise/#bai-tap-2-git-generator","title":"B\u00e0i t\u1eadp 2: Git Generator","text":"<ol> <li>Push th\u01b0 m\u1ee5c <code>apps/</code> (app-1, app-2, app-3) l\u00ean Git repo</li> <li>Apply ApplicationSet:    <pre><code>kubectl apply -f argocd/appset-git.yaml\n</code></pre></li> <li>Ki\u1ec3m tra 3 apps:    <pre><code>argocd app list\n# \u2192 app-1, app-2, app-3\n</code></pre></li> </ol>"},{"location":"day-08/exercises/exercise/#bai-tap-3-auto-deploy-khi-tao-folder-moi","title":"B\u00e0i t\u1eadp 3: Auto-deploy khi t\u1ea1o folder m\u1edbi \ud83d\ude80","text":"<ol> <li> <p>T\u1ea1o folder <code>apps/app-4/</code> tr\u00ean Git:    <pre><code>mkdir -p apps/app-4\n# T\u1ea1o deployment.yaml cho app-4\n# Commit &amp; Push\n</code></pre></p> </li> <li> <p>Ch\u1edd ArgoCD detect (t\u1ed1i \u0111a 3 ph\u00fat)</p> </li> <li> <p>Ki\u1ec3m tra:    <pre><code>argocd app list\n# \u2192 app-1, app-2, app-3, app-4 \u2190 M\u1edaI!\n</code></pre></p> </li> </ol>"},{"location":"day-08/exercises/exercise/#bai-tap-4-xoa-folder-auto-delete","title":"B\u00e0i t\u1eadp 4: X\u00f3a folder \u2192 Auto-delete","text":"<ol> <li>X\u00f3a folder <code>apps/app-4/</code> kh\u1ecfi Git</li> <li>Commit &amp; Push</li> <li>ApplicationSet s\u1ebd t\u1ef1 x\u00f3a Application <code>app-4</code></li> </ol>"},{"location":"day-08/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] List Generator t\u1ea1o 3 apps t\u1ef1 \u0111\u1ed9ng</li> <li>[ ] Git Generator t\u1ea1o apps t\u1eeb folder structure</li> <li>[ ] Th\u00eam folder m\u1edbi \u2192 app m\u1edbi t\u1ef1 \u0111\u1ed9ng xu\u1ea5t hi\u1ec7n  </li> <li>[ ] X\u00f3a folder \u2192 app t\u1ef1 \u0111\u1ed9ng b\u1ecb x\u00f3a</li> </ul>"},{"location":"day-09/","title":"\ud83d\udcc5 Ng\u00e0y 9: B\u1ea3o M\u1eadt \u2014 RBAC &amp; Projects","text":""},{"location":"day-09/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u ArgoCD Projects (AppProject) v\u00e0 ph\u00e2n quy\u1ec1n</li> <li>T\u1ea1o Project gi\u1edbi h\u1ea1n namespace</li> <li>T\u1ea1o user v\u1edbi quy\u1ec1n view-only</li> <li>T\u00ecm hi\u1ec3u c\u00e1ch t\u00edch h\u1ee3p SSO</li> </ul>"},{"location":"day-09/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-09/#appproject","title":"AppProject","text":"<p>AppProject gi\u1edbi h\u1ea1n nh\u1eefng g\u00ec ArgoCD Application c\u00f3 th\u1ec3 l\u00e0m:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    AppProject                        \u2502\n\u2502                                                      \u2502\n\u2502  Gi\u1edbi h\u1ea1n:                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 \ud83d\udcc1 Source Repos:  Ch\u1ec9 \u0111\u01b0\u1ee3c l\u1ea5y code t\u1eeb repo A \u2502  \u2502\n\u2502  \u2502 \ud83c\udfaf Destinations:  Ch\u1ec9 deploy v\u00e0o namespace X  \u2502  \u2502\n\u2502  \u2502 \ud83d\udce6 Resources:    Ch\u1ec9 t\u1ea1o Deployment, Service  \u2502  \u2502\n\u2502  \u2502 \ud83d\udc65 Roles:        Ai \u0111\u01b0\u1ee3c l\u00e0m g\u00ec               \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                      \u2502\n\u2502  \u26a0\ufe0f Project \"default\" cho ph\u00e9p T\u1ea4T C\u1ea2              \u2502\n\u2502  \u2192 Production n\u00ean t\u1ea1o project ri\u00eang                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-09/#rbac-role-based-access-control","title":"RBAC (Role-Based Access Control)","text":"<p>ArgoCD RBAC d\u00f9ng Casbin policy format:</p> <pre><code># Format: p, &lt;role&gt;, &lt;resource&gt;, &lt;action&gt;, &lt;project&gt;/&lt;object&gt;\np, role:developer, applications, get, */*, allow\np, role:developer, applications, sync, team-a/*, deny\np, role:admin, applications, *, */*, allow\n\n# G\u00e1n user v\u00e0o role\ng, john, role:developer\ng, admin, role:admin\n</code></pre>"},{"location":"day-09/#cac-action-trong-rbac","title":"C\u00e1c Action trong RBAC","text":"Resource Actions applications get, create, update, delete, sync, override clusters get, create, update, delete repositories get, create, update, delete projects get, create, update, delete logs get"},{"location":"day-09/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-09/#buoc-1-tao-appproject","title":"B\u01b0\u1edbc 1: T\u1ea1o AppProject","text":"<pre><code># Xem file m\u1eabu\ncat argocd/appproject-team-a.yaml\n\n# Apply\nkubectl apply -f argocd/appproject-team-a.yaml\n\n# Ki\u1ec3m tra\nargocd proj list\nargocd proj get team-a\n</code></pre>"},{"location":"day-09/#buoc-2-cau-hinh-rbac","title":"B\u01b0\u1edbc 2: C\u1ea5u h\u00ecnh RBAC","text":"<pre><code># Xem RBAC policy\ncat argocd/rbac-configmap.yaml\n\n# Apply\nkubectl apply -f argocd/rbac-configmap.yaml\n\n# Ki\u1ec3m tra RBAC\nargocd admin settings rbac can role:developer get applications '*/*' --policy-file argocd/rbac-configmap.yaml\n</code></pre>"},{"location":"day-09/#buoc-3-tao-local-user","title":"B\u01b0\u1edbc 3: T\u1ea1o Local User","text":"<pre><code># Th\u00eam user v\u00e0o argocd-cm ConfigMap\nkubectl patch configmap argocd-cm -n argocd --type merge -p '\ndata:\n  accounts.developer: \"apiKey, login\"\n  accounts.developer.enabled: \"true\"\n'\n\n# \u0110\u1eb7t password cho user\nargocd account update-password \\\n  --account developer \\\n  --new-password Dev@12345 \\\n  --current-password &lt;ADMIN_PASSWORD&gt;\n\n# Test login\nargocd login localhost:8080 --username developer --password Dev@12345 --insecure\n</code></pre>"},{"location":"day-09/#buoc-4-test-phan-quyen","title":"B\u01b0\u1edbc 4: Test ph\u00e2n quy\u1ec1n","text":"<pre><code># Login b\u1eb1ng developer\nargocd login localhost:8080 --username developer --password Dev@12345 --insecure\n\n# Th\u1eed xem apps (OK - c\u00f3 quy\u1ec1n get)\nargocd app list\n\n# Th\u1eed sync app (FAIL - kh\u00f4ng c\u00f3 quy\u1ec1n sync)\nargocd app sync nginx-demo\n# \u2192 Expected: PermissionDenied\n</code></pre>"},{"location":"day-09/#faq","title":"\u2753 FAQ","text":""},{"location":"day-09/#q-lam-sao-tich-hop-sso-googleokta-vao-argocd","title":"Q: L\u00e0m sao t\u00edch h\u1ee3p SSO (Google/Okta) v\u00e0o ArgoCD?","text":"<p>A: ArgoCD t\u00edch h\u1ee3p SSO th\u00f4ng qua Dex (built-in) ho\u1eb7c OIDC tr\u1ef1c ti\u1ebfp. Xem file m\u1eabu <code>argocd/argocd-cm-sso.yaml</code> \u0111\u1ec3 tham kh\u1ea3o c\u1ea5u h\u00ecnh Google OAuth.</p> <p>C\u00e1c b\u01b0\u1edbc: 1. T\u1ea1o OAuth App tr\u00ean Google/Okta 2. C\u1ea5u h\u00ecnh <code>argocd-cm</code> ConfigMap v\u1edbi OIDC settings 3. Map OIDC groups \u2192 ArgoCD roles trong RBAC</p>"},{"location":"day-09/#q-co-nen-dung-project-default-tren-production","title":"Q: C\u00f3 n\u00ean d\u00f9ng project <code>default</code> tr\u00ean production?","text":"<p>A: Kh\u00f4ng! Project <code>default</code> cho ph\u00e9p deploy b\u1ea5t k\u1ef3 repo v\u00e0o b\u1ea5t k\u1ef3 namespace. Production n\u00ean c\u00f3 project ri\u00eang v\u1edbi gi\u1edbi h\u1ea1n ch\u1eb7t.</p>"},{"location":"day-09/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 08 \u2014 ApplicationSet \u23ed\ufe0f Ng\u00e0y ti\u1ebfp: Day 10 \u2014 Canary &amp; Blue/Green</p>"},{"location":"day-09/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 9: B\u1ea3o M\u1eadt \u2014 RBAC &amp; Projects","text":""},{"location":"day-09/questions/#phan-1-appproject-cau-1-10","title":"Ph\u1ea7n 1: AppProject (C\u00e2u 1-10)","text":""},{"location":"day-09/questions/#cau-1-appproject-trong-argocd-dung-e-lam-gi","title":"C\u00e2u 1: AppProject trong ArgoCD d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>AppProject cung c\u1ea5p **isolation** v\u00e0 **access control**. N\u00f3 gi\u1edbi h\u1ea1n: source repos \u0111\u01b0\u1ee3c ph\u00e9p, destination clusters/namespaces, resource types \u0111\u01b0\u1ee3c t\u1ea1o, v\u00e0 roles/permissions cho users.\n</code></pre>"},{"location":"day-09/questions/#cau-2-project-default-co-gi-ac-biet","title":"C\u00e2u 2: Project <code>default</code> c\u00f3 g\u00ec \u0111\u1eb7c bi\u1ec7t?","text":"<pre><code>Project `default` cho ph\u00e9p **T\u1ea4T C\u1ea2**: m\u1ecdi source repo, m\u1ecdi destination, m\u1ecdi resource type. Ti\u1ec7n cho learning nh\u01b0ng **kh\u00f4ng an to\u00e0n cho production**. Production n\u00ean t\u1ea1o project ri\u00eang v\u1edbi gi\u1edbi h\u1ea1n c\u1ee5 th\u1ec3.\n</code></pre>"},{"location":"day-09/questions/#cau-3-sourcerepos-trong-appproject-gioi-han-gi","title":"C\u00e2u 3: <code>sourceRepos</code> trong AppProject gi\u1edbi h\u1ea1n g\u00ec?","text":"<pre><code>Danh s\u00e1ch Git/Helm repos m\u00e0 Applications trong project **\u0111\u01b0\u1ee3c ph\u00e9p** reference. D\u00f9ng `*` cho ph\u00e9p t\u1ea5t c\u1ea3. Best practice: ch\u1ec9 list repos c\u1ee7a team:\n```yaml\nsourceRepos:\n  - 'https://github.com/team-a/*.git'\n```\n</code></pre>"},{"location":"day-09/questions/#cau-4-destinations-trong-appproject-hoat-ong-the-nao","title":"C\u00e2u 4: <code>destinations</code> trong AppProject ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>Gi\u1edbi h\u1ea1n clusters + namespaces m\u00e0 Applications \u0111\u01b0\u1ee3c deploy v\u00e0o:\n```yaml\ndestinations:\n  - server: https://kubernetes.default.svc\n    namespace: team-a-*    # Wildcard namespace\n```\nApp tr\u1ecf \u0111\u1ebfn namespace kh\u00f4ng n\u1eb1m trong whitelist \u2192 b\u1ecb t\u1eeb ch\u1ed1i.\n</code></pre>"},{"location":"day-09/questions/#cau-5-clusterresourcewhitelist-vs-namespaceresourcewhitelist-khac-nhau-the-nao","title":"C\u00e2u 5: <code>clusterResourceWhitelist</code> vs <code>namespaceResourceWhitelist</code> kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>**clusterResourceWhitelist:** Cho ph\u00e9p t\u1ea1o cluster-scoped resources (ClusterRole, Namespace, CRD). **namespaceResourceWhitelist:** Cho ph\u00e9p t\u1ea1o namespaced resources (Deployment, Service, ConfigMap). Empty list = kh\u00f4ng cho ph\u00e9p. `[{group: '*', kind: '*'}]` = cho ph\u00e9p t\u1ea5t c\u1ea3.\n</code></pre>"},{"location":"day-09/questions/#cau-6-clusterresourceblacklist-dung-khi-nao","title":"C\u00e2u 6: <code>clusterResourceBlacklist</code> d\u00f9ng khi n\u00e0o?","text":"<pre><code>C\u1ea5m t\u1ea1o resource types c\u1ee5 th\u1ec3 (d\u00f9ng khi whitelist qu\u00e1 r\u1ed9ng):\n```yaml\nclusterResourceBlacklist:\n  - group: ''\n    kind: Namespace    # C\u1ea5m t\u1ea1o Namespace\n```\nBlacklist override whitelist \u2014 n\u1ebfu resource n\u1eb1m trong c\u1ea3 2, n\u00f3 b\u1ecb c\u1ea5m.\n</code></pre>"},{"location":"day-09/questions/#cau-7-roles-trong-appproject-khac-rbac-global-the-nao","title":"C\u00e2u 7: Roles trong AppProject kh\u00e1c RBAC global th\u1ebf n\u00e0o?","text":"<pre><code>**Project Roles:** Ch\u1ec9 \u00e1p d\u1ee5ng cho Applications **trong project \u0111\u00f3**. **Global RBAC (argocd-rbac-cm):** \u00c1p d\u1ee5ng cho to\u00e0n b\u1ed9 ArgoCD. Project roles = fine-grained, RBAC global = coarse-grained.\n</code></pre>"},{"location":"day-09/questions/#cau-8-sync-windows-trong-appproject-dung-e-lam-gi","title":"C\u00e2u 8: Sync Windows trong AppProject d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Gi\u1edbi h\u1ea1n th\u1eddi gian sync (maintenance window). D\u00f9ng cron schedule:\n```yaml\nsyncWindows:\n  - kind: allow\n    schedule: \"0 9-17 * * 1-5\"  # Ch\u1ec9 sync Mon-Fri 9AM-5PM\n```\nNgo\u00e0i window \u2192 sync b\u1ecb t\u1eeb ch\u1ed1i. H\u1eefu \u00edch cho production \u2014 tr\u00e1nh deploy ngo\u00e0i gi\u1edd l\u00e0m vi\u1ec7c.\n</code></pre>"},{"location":"day-09/questions/#cau-9-tao-appproject-bang-cli-the-nao","title":"C\u00e2u 9: T\u1ea1o AppProject b\u1eb1ng CLI th\u1ebf n\u00e0o?","text":"<pre><code>```bash\nargocd proj create team-a \\\n  --description \"Project for Team A\" \\\n  --src https://github.com/team-a/repo.git \\\n  --dest https://kubernetes.default.svc,team-a-dev \\\n  --dest https://kubernetes.default.svc,team-a-prod\n```\nHo\u1eb7c d\u00f9ng YAML manifest: `kubectl apply -f appproject.yaml`.\n</code></pre>"},{"location":"day-09/questions/#cau-10-orphaned-resources-monitoring-la-gi","title":"C\u00e2u 10: Orphaned Resources Monitoring l\u00e0 g\u00ec?","text":"<pre><code>ArgoCD detect resources tr\u00ean cluster m\u00e0 **kh\u00f4ng thu\u1ed9c Application n\u00e0o**. C\u1ea5u h\u00ecnh trong AppProject:\n```yaml\norphanedResources:\n  warn: true\n```\nC\u1ea3nh b\u00e1o khi c\u00f3 resources \"l\u1ea1\" trong managed namespaces \u2192 ph\u00e1t hi\u1ec7n manual kubectl apply.\n</code></pre>"},{"location":"day-09/questions/#phan-2-rbac-cau-11-20","title":"Ph\u1ea7n 2: RBAC (C\u00e2u 11-20)","text":""},{"location":"day-09/questions/#cau-11-argocd-rbac-dung-format-gi","title":"C\u00e2u 11: ArgoCD RBAC d\u00f9ng format g\u00ec?","text":"<pre><code>**Casbin** policy format:\n```\np, &lt;subject&gt;, &lt;resource&gt;, &lt;action&gt;, &lt;project/object&gt;, &lt;allow/deny&gt;\ng, &lt;user&gt;, &lt;role&gt;\n```\n`p` = policy rule. `g` = group/role assignment.\n</code></pre>"},{"location":"day-09/questions/#cau-12-co-nhung-resource-types-nao-trong-rbac","title":"C\u00e2u 12: C\u00f3 nh\u1eefng resource types n\u00e0o trong RBAC?","text":"<pre><code>| Resource | Actions |\n|----------|---------|\n| `applications` | get, create, update, delete, sync, override, action |\n| `clusters` | get, create, update, delete |\n| `repositories` | get, create, update, delete |\n| `projects` | get, create, update, delete |\n| `logs` | get |\n| `exec` | create |\n</code></pre>"},{"location":"day-09/questions/#cau-13-policydefault-trong-argocd-rbac-cm-la-gi","title":"C\u00e2u 13: <code>policy.default</code> trong argocd-rbac-cm l\u00e0 g\u00ec?","text":"<pre><code>Default role cho users **kh\u00f4ng match** b\u1ea5t k\u1ef3 policy rule n\u00e0o. Th\u01b0\u1eddng set: `role:readonly` (xem nh\u01b0ng kh\u00f4ng s\u1eeda) ho\u1eb7c `\"\"` (kh\u00f4ng quy\u1ec1n g\u00ec). **\u0110\u1eebng set `role:admin`** \u2014 m\u1ecdi user s\u1ebd c\u00f3 full access.\n</code></pre>"},{"location":"day-09/questions/#cau-14-cach-tao-local-user-trong-argocd","title":"C\u00e2u 14: C\u00e1ch t\u1ea1o local user trong ArgoCD?","text":"<pre><code>S\u1eeda ConfigMap `argocd-cm`:\n```yaml\ndata:\n  accounts.developer: \"apiKey, login\"\n  accounts.developer.enabled: \"true\"\n```\nCapabilities: `login` (UI/CLI login), `apiKey` (generate API key).\n</code></pre>"},{"location":"day-09/questions/#cau-15-at-password-cho-local-user-the-nao","title":"C\u00e2u 15: \u0110\u1eb7t password cho local user th\u1ebf n\u00e0o?","text":"<pre><code>```bash\nargocd account update-password \\\n  --account developer \\\n  --new-password Dev@12345 \\\n  --current-password &lt;ADMIN_PASSWORD&gt;\n```\nPh\u1ea3i login b\u1eb1ng admin tr\u01b0\u1edbc. Ho\u1eb7c user t\u1ef1 \u0111\u1ed5i qua UI.\n</code></pre>"},{"location":"day-09/questions/#cau-16-wildcard-trong-rbac-policy-nghia-gi","title":"C\u00e2u 16: Wildcard <code>*</code> trong RBAC policy ngh\u0129a g\u00ec?","text":"<pre><code>Match **t\u1ea5t c\u1ea3**:\n- `p, role:admin, *, *, */*, allow` \u2014 m\u1ecdi resource, m\u1ecdi action, m\u1ecdi project\n- `p, role:dev, applications, get, team-a/*, allow` \u2014 get m\u1ecdi app trong project team-a\n- `p, role:dev, applications, *, team-a/myapp, allow` \u2014 m\u1ecdi action tr\u00ean app c\u1ee5 th\u1ec3\n</code></pre>"},{"location":"day-09/questions/#cau-17-lam-sao-test-rbac-policy-truoc-khi-apply","title":"C\u00e2u 17: L\u00e0m sao test RBAC policy tr\u01b0\u1edbc khi apply?","text":"<pre><code>```bash\nargocd admin settings rbac can &lt;role&gt; &lt;action&gt; &lt;resource&gt; '&lt;project/object&gt;' \\\n  --policy-file policy.csv\n```\nV\u00ed d\u1ee5: `argocd admin settings rbac can role:developer sync applications 'team-a/*'`\n</code></pre>"},{"location":"day-09/questions/#cau-18-sso-single-sign-on-trong-argocd-hoat-ong-the-nao","title":"C\u00e2u 18: SSO (Single Sign-On) trong ArgoCD ho\u1ea1t \u0111\u1ed9ng th\u1ebf n\u00e0o?","text":"<pre><code>ArgoCD h\u1ed7 tr\u1ee3 SSO qua **Dex** (built-in) ho\u1eb7c **OIDC tr\u1ef1c ti\u1ebfp**. Flow: User \u2192 ArgoCD \u2192 Dex/OIDC \u2192 Identity Provider (Google, Okta) \u2192 Token \u2192 ArgoCD map groups \u2192 RBAC roles.\n</code></pre>"},{"location":"day-09/questions/#cau-19-scopes-trong-oidc-config-dung-e-lam-gi","title":"C\u00e2u 19: <code>scopes</code> trong OIDC config d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>X\u00e1c \u0111\u1ecbnh th\u00f4ng tin n\u00e0o ArgoCD request t\u1eeb Identity Provider:\n- `openid` \u2014 User identity\n- `profile` \u2014 T\u00ean, avatar\n- `email` \u2014 Email\n- `groups` \u2014 Group membership (quan tr\u1ecdng nh\u1ea5t \u2014 \u0111\u1ec3 map v\u00e0o RBAC roles)\n</code></pre>"},{"location":"day-09/questions/#cau-20-map-oidc-groups-argocd-roles-the-nao","title":"C\u00e2u 20: Map OIDC groups \u2192 ArgoCD roles th\u1ebf n\u00e0o?","text":"<pre><code>Trong `argocd-rbac-cm`:\n```\ng, my-github-org:team-a, role:developer\ng, my-github-org:devops, role:admin\n```\nUsers trong GitHub team `team-a` \u2192 c\u00f3 role `developer`. Users trong team `devops` \u2192 `admin`.\n</code></pre>"},{"location":"day-09/questions/#phan-3-advanced-security-cau-21-30","title":"Ph\u1ea7n 3: Advanced Security (C\u00e2u 21-30)","text":""},{"location":"day-09/questions/#cau-21-dex-vs-oidc-truc-tiep-khi-nao-dung-cai-nao","title":"C\u00e2u 21: Dex vs OIDC tr\u1ef1c ti\u1ebfp \u2014 khi n\u00e0o d\u00f9ng c\u00e1i n\u00e0o?","text":"<pre><code>**Dex:** Khi Identity Provider kh\u00f4ng h\u1ed7 tr\u1ee3 OIDC tr\u1ef1c ti\u1ebfp (LDAP, SAML), ho\u1eb7c mu\u1ed1n abstract nhi\u1ec1u providers. **OIDC tr\u1ef1c ti\u1ebfp:** Khi provider h\u1ed7 tr\u1ee3 OIDC (Okta, Auth0, Google) \u2014 \u0111\u01a1n gi\u1ea3n h\u01a1n, \u00edt components.\n</code></pre>"},{"location":"day-09/questions/#cau-22-co-nen-disable-admin-account-tren-production","title":"C\u00e2u 22: C\u00f3 n\u00ean disable admin account tr\u00ean production?","text":"<pre><code>**C\u00f3!** Sau khi SSO ho\u1ea1t \u0111\u1ed9ng:\n```yaml\n# argocd-cm\ndata:\n  admin.enabled: \"false\"\n```\nGi\u1ea3m attack surface. Gi\u1eef backup admin user (local account ri\u00eang) cho emergency.\n</code></pre>"},{"location":"day-09/questions/#cau-23-api-key-token-dung-khi-nao","title":"C\u00e2u 23: API Key (token) d\u00f9ng khi n\u00e0o?","text":"<pre><code>Cho **CI/CD automation** \u2014 scripts c\u1ea7n g\u1ecdi ArgoCD API m\u00e0 kh\u00f4ng c\u1ea7n interactive login:\n```bash\nargocd account generate-token --account ci-user\n```\nToken kh\u00f4ng h\u1ebft h\u1ea1n (tr\u1eeb khi set). Best practice: rotate \u0111\u1ecbnh k\u1ef3.\n</code></pre>"},{"location":"day-09/questions/#cau-24-exec-resource-trong-rbac-dung-cho-gi","title":"C\u00e2u 24: <code>exec</code> resource trong RBAC d\u00f9ng cho g\u00ec?","text":"<pre><code>Cho ph\u00e9p `argocd app exec &lt;app&gt; -- &lt;command&gt;` \u2014 ch\u1ea1y command trong pod. **R\u1ea5t nguy hi\u1ec3m!** Ch\u1ec9 c\u1ea5p cho admin:\n```\np, role:admin, exec, create, */*, allow\n```\n</code></pre>"},{"location":"day-09/questions/#cau-25-audit-logs-trong-argocd-o-au","title":"C\u00e2u 25: Audit logs trong ArgoCD \u1edf \u0111\u00e2u?","text":"<pre><code>ArgoCD API Server logs ghi l\u1ea1i m\u1ecdi API calls (ai l\u00e0m g\u00ec, khi n\u00e0o). Xem: `kubectl logs deployment/argocd-server -n argocd`. Integrate v\u1edbi ELK/Loki \u0111\u1ec3 l\u01b0u tr\u1eef l\u00e2u d\u00e0i.\n</code></pre>"},{"location":"day-09/questions/#cau-26-network-policy-nen-set-cho-argocd-namespace-the-nao","title":"C\u00e2u 26: Network Policy n\u00ean set cho ArgoCD namespace th\u1ebf n\u00e0o?","text":"<pre><code>1. Cho ph\u00e9p ArgoCD \u2192 K8s API server (egress)\n2. Cho ph\u00e9p ArgoCD \u2192 Git repos (egress)\n3. Cho ph\u00e9p Users \u2192 ArgoCD UI/API (ingress, port 443)\n4. Block t\u1ea5t c\u1ea3 traffic kh\u00e1c\n</code></pre>"},{"location":"day-09/questions/#cau-27-secrets-management-argocd-handle-the-nao","title":"C\u00e2u 27: Secrets management \u2014 ArgoCD handle th\u1ebf n\u00e0o?","text":"<pre><code>ArgoCD **kh\u00f4ng** c\u00f3 built-in secrets management. Best practices:\n1. **Sealed Secrets** \u2014 Encrypt secrets, commit encrypted version\n2. **External Secrets Operator** \u2014 Sync t\u1eeb AWS KMS, Vault, etc.\n3. **ArgoCD Vault Plugin** \u2014 Inject secrets at render time\n4. **SOPS** \u2014 Encrypt YAML files in Git\n</code></pre>"},{"location":"day-09/questions/#cau-28-tlsssl-cho-argocd-server-nen-cau-hinh-the-nao","title":"C\u00e2u 28: TLS/SSL cho ArgoCD server n\u00ean c\u1ea5u h\u00ecnh th\u1ebf n\u00e0o?","text":"<pre><code>1. **Self-signed** (m\u1eb7c \u0111\u1ecbnh): OK cho dev\n2. **cert-manager**: Auto-generate Let's Encrypt cert\n3. **Manual**: T\u1ea1o Secret `argocd-server-tls` ch\u1ee9a cert/key\n4. **Ingress termination**: \u0110\u1ec3 Ingress controller handle TLS\n\nProduction n\u00ean d\u00f9ng cert-manager ho\u1eb7c real certificates.\n</code></pre>"},{"location":"day-09/questions/#cau-29-least-privilege-principle-ap-dung-cho-argocd-the-nao","title":"C\u00e2u 29: Least privilege principle \u00e1p d\u1ee5ng cho ArgoCD th\u1ebf n\u00e0o?","text":"<pre><code>1. **Project:** Gi\u1edbi h\u1ea1n repos, namespaces, resource types\n2. **RBAC:** Ch\u1ec9 c\u1ea5p quy\u1ec1n c\u1ea7n thi\u1ebft (developer ch\u1ec9 get, kh\u00f4ng sync)\n3. **Cluster SA:** Namespace-scoped thay v\u00ec cluster-admin\n4. **Network:** Gi\u1edbi h\u1ea1n egress/ingress\n5. **UI access:** SSO + MFA b\u1eaft bu\u1ed9c\n</code></pre>"},{"location":"day-09/questions/#cau-30-checklist-bao-mat-argocd-production","title":"C\u00e2u 30: Checklist b\u1ea3o m\u1eadt ArgoCD production?","text":"<pre><code>1. \u2705 T\u1ea1o AppProject ri\u00eang (kh\u00f4ng d\u00f9ng `default`)\n2. \u2705 Configure RBAC strict (policy.default = readonly ho\u1eb7c \"\")\n3. \u2705 Enable SSO + disable admin account\n4. \u2705 TLS certificates cho ArgoCD server\n5. \u2705 Network Policies cho argocd namespace\n6. \u2705 Sealed Secrets ho\u1eb7c External Secrets\n7. \u2705 Audit logging enable\n8. \u2705 Regular credential rotation\n9. \u2705 Namespace-scoped installation (n\u1ebfu multi-tenant)\n10. \u2705 Sync Windows cho production projects\n</code></pre>"},{"location":"day-09/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 9: RBAC &amp; Projects","text":""},{"location":"day-09/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>T\u1ea1o AppProject gi\u1edbi h\u1ea1n namespace</li> <li>T\u1ea1o user \"developer\" ch\u1ec9 c\u00f3 quy\u1ec1n view</li> <li>Test ph\u00e2n quy\u1ec1n</li> </ul>"},{"location":"day-09/exercises/exercise/#bai-tap-1-tao-appproject","title":"B\u00e0i t\u1eadp 1: T\u1ea1o AppProject","text":"<ol> <li>Apply:    <pre><code>kubectl apply -f argocd/appproject-team-a.yaml\n</code></pre></li> <li>Ki\u1ec3m tra:    <pre><code>argocd proj get team-a\n</code></pre></li> <li>Th\u1eed t\u1ea1o app trong project team-a deploy v\u00e0o namespace kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p:    <pre><code>argocd app create test-forbidden \\\n  --project team-a \\\n  --repo https://github.com/&lt;YOUR_USERNAME&gt;/argocd-demo-app.git \\\n  --path manifests \\\n  --dest-server https://kubernetes.default.svc \\\n  --dest-namespace forbidden-namespace\n# \u2192 Expected: Error - namespace kh\u00f4ng n\u1eb1m trong allowed destinations\n</code></pre></li> </ol>"},{"location":"day-09/exercises/exercise/#bai-tap-2-tao-user-developer-view-only","title":"B\u00e0i t\u1eadp 2: T\u1ea1o User Developer (View-only)","text":"<ol> <li> <p>Apply RBAC:    <pre><code>kubectl apply -f argocd/rbac-configmap.yaml\n</code></pre></p> </li> <li> <p>T\u1ea1o user:    <pre><code>kubectl patch configmap argocd-cm -n argocd --type merge -p '\ndata:\n  accounts.developer: \"apiKey, login\"\n  accounts.developer.enabled: \"true\"\n'\n</code></pre></p> </li> <li> <p>\u0110\u1eb7t password:    <pre><code>argocd account update-password \\\n  --account developer \\\n  --new-password Dev@12345 \\\n  --current-password &lt;ADMIN_PASSWORD&gt;\n</code></pre></p> </li> </ol>"},{"location":"day-09/exercises/exercise/#bai-tap-3-test-phan-quyen","title":"B\u00e0i t\u1eadp 3: Test ph\u00e2n quy\u1ec1n","text":"<ol> <li> <p>Login b\u1eb1ng developer:    <pre><code>argocd login localhost:8080 --username developer --password Dev@12345 --insecure\n</code></pre></p> </li> <li> <p>Test c\u00e1c quy\u1ec1n:    <pre><code># \u2705 Xem apps (\u0111\u01b0\u1ee3c ph\u00e9p)\nargocd app list\n\n# \u274c Sync app (kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p)\nargocd app sync nginx-demo\n# \u2192 PermissionDenied\n\n# \u274c X\u00f3a app (kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p)\nargocd app delete nginx-demo\n# \u2192 PermissionDenied\n</code></pre></p> </li> <li> <p>Login l\u1ea1i b\u1eb1ng admin \u0111\u1ec3 ti\u1ebfp t\u1ee5c:    <pre><code>argocd login localhost:8080 --username admin --password &lt;ADMIN_PASSWORD&gt; --insecure\n</code></pre></p> </li> </ol>"},{"location":"day-09/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] AppProject <code>team-a</code> t\u1ea1o th\u00e0nh c\u00f4ng</li> <li>[ ] Project gi\u1edbi h\u1ea1n namespace \u0111\u00fang</li> <li>[ ] User <code>developer</code> t\u1ea1o th\u00e0nh c\u00f4ng</li> <li>[ ] Developer ch\u1ec9 xem, kh\u00f4ng sync/delete</li> <li>[ ] Test forbidden namespace b\u1ecb ch\u1eb7n</li> </ul>"},{"location":"day-10/","title":"\ud83d\udcc5 Ng\u00e0y 10: Tri\u1ec3n Khai N\u00e2ng Cao \u2014 Canary &amp; Blue/Green","text":""},{"location":"day-10/#muc-tieu-hom-nay","title":"\ud83c\udfaf M\u1ee5c ti\u00eau h\u00f4m nay","text":"<ul> <li>Hi\u1ec3u Argo Rollouts v\u00e0 s\u1ef1 kh\u00e1c bi\u1ec7t v\u1edbi ArgoCD</li> <li>C\u1ea5u h\u00ecnh Canary deployment (10% traffic)</li> <li>C\u1ea5u h\u00ecnh Blue/Green deployment</li> <li>Th\u1ef1c hi\u1ec7n Rollback khi Canary l\u1ed7i</li> </ul>"},{"location":"day-10/#ly-thuyet","title":"\ud83d\udcd6 L\u00fd thuy\u1ebft","text":""},{"location":"day-10/#van-e-voi-kubernetes-deployment","title":"V\u1ea5n \u0111\u1ec1 v\u1edbi Kubernetes Deployment","text":"<p>Kubernetes Deployment m\u1eb7c \u0111\u1ecbnh d\u00f9ng Rolling Update: thay th\u1ebf pods c\u0169 d\u1ea7n d\u1ea7n. Nh\u01b0ng: - \u274c Kh\u00f4ng ki\u1ec3m so\u00e1t \u0111\u01b0\u1ee3c % traffic - \u274c Kh\u00f4ng c\u00f3 analysis t\u1ef1 \u0111\u1ed9ng (ki\u1ec3m tra l\u1ed7i tr\u01b0\u1edbc khi chuy\u1ec3n ho\u00e0n to\u00e0n) - \u274c Rollback ch\u1eadm</p>"},{"location":"day-10/#argo-rollouts","title":"Argo Rollouts","text":"<p>Argo Rollouts l\u00e0 Kubernetes controller b\u1ed5 sung c\u00e1c chi\u1ebfn l\u01b0\u1ee3c deploy n\u00e2ng cao:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              DEPLOYMENT STRATEGIES                     \u2502\n\u2502                                                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  CANARY           \u2502  \u2502  BLUE/GREEN                \u2502  \u2502\n\u2502  \u2502                   \u2502  \u2502                            \u2502  \u2502\n\u2502  \u2502  10% \u2192 30% \u2192 100%\u2502  \u2502  Blue (old) \u2500\u2500\u2510            \u2502  \u2502\n\u2502  \u2502                   \u2502  \u2502               \u251c\u2192 Switch    \u2502  \u2502\n\u2502  \u2502  D\u1ea7n d\u1ea7n chuy\u1ec3n   \u2502  \u2502  Green (new)\u2500\u2500\u2518            \u2502  \u2502\n\u2502  \u2502  traffic sang     \u2502  \u2502                            \u2502  \u2502\n\u2502  \u2502  phi\u00ean b\u1ea3n m\u1edbi    \u2502  \u2502  Chuy\u1ec3n \u0111\u1ed5i                \u2502  \u2502\n\u2502  \u2502                   \u2502  \u2502  ngay l\u1eadp t\u1ee9c              \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  ArgoCD vs Argo Rollouts                         \u2502  \u2502\n\u2502  \u2502                                                  \u2502  \u2502\n\u2502  \u2502  ArgoCD:     GitOps CD tool (sync Git \u2192 K8s)     \u2502  \u2502\n\u2502  \u2502  Rollouts:   Progressive delivery controller     \u2502  \u2502\n\u2502  \u2502                                                  \u2502  \u2502\n\u2502  \u2502  Ch\u00fang B\u1ed4 TR\u1ee2 nhau, kh\u00f4ng thay th\u1ebf nhau!        \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-10/#canary-flow","title":"Canary Flow","text":"<pre><code>Step 1: setWeight 10%   \u2500\u2500\u2192  10% users th\u1ea5y version m\u1edbi\n        pause: {duration: 60s}     (ch\u1edd 60s, ki\u1ec3m tra metrics)\n\nStep 2: setWeight 30%   \u2500\u2500\u2192  30% users th\u1ea5y version m\u1edbi\n        pause: {duration: 60s}\n\nStep 3: setWeight 60%   \u2500\u2500\u2192  60% users th\u1ea5y version m\u1edbi\n        pause: {}              (ch\u1edd manual promote)\n\nStep 4: setWeight 100%  \u2500\u2500\u2192  100% users chuy\u1ec3n sang version m\u1edbi\n</code></pre>"},{"location":"day-10/#bluegreen-flow","title":"Blue/Green Flow","text":"<pre><code>Tr\u01b0\u1edbc:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Blue (v1)   \u2502 \u25c4\u2500\u2500 LB \u2500\u2500\u2502  Users      \u2502\n  \u2502 ACTIVE      \u2502          \u2502             \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Green (v2)  \u2502  \u2190 Preview (testing)\n  \u2502 PREVIEW     \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nSau khi promote:\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Blue (v1)   \u2502  \u2190 S\u1ebd b\u1ecb scale down\n  \u2502 OLD         \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Green (v2)  \u2502 \u25c4\u2500\u2500 LB \u2500\u2500\u2502  Users      \u2502\n  \u2502 ACTIVE      \u2502          \u2502             \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"day-10/#thuc-hanh","title":"\ud83d\udd27 Th\u1ef1c h\u00e0nh","text":""},{"location":"day-10/#buoc-1-cai-at-argo-rollouts","title":"B\u01b0\u1edbc 1: C\u00e0i \u0111\u1eb7t Argo Rollouts","text":"<pre><code>chmod +x scripts/install-argo-rollouts.sh\n./scripts/install-argo-rollouts.sh\n</code></pre>"},{"location":"day-10/#buoc-2-deploy-canary-rollout","title":"B\u01b0\u1edbc 2: Deploy Canary Rollout","text":"<pre><code># T\u1ea1o namespace\nkubectl create namespace canary-demo\n\n# Deploy Rollout + Service\nkubectl apply -f manifests/rollout-canary.yaml -n canary-demo\nkubectl apply -f manifests/service.yaml -n canary-demo\n\n# Xem status\nkubectl argo rollouts get rollout canary-demo -n canary-demo --watch\n</code></pre>"},{"location":"day-10/#buoc-3-trigger-canary-update","title":"B\u01b0\u1edbc 3: Trigger Canary Update","text":"<pre><code># C\u1eadp nh\u1eadt image \u2192 trigger canary\nkubectl argo rollouts set image canary-demo \\\n  canary-demo=argoproj/rollouts-demo:yellow \\\n  -n canary-demo\n\n# Quan s\u00e1t canary steps\nkubectl argo rollouts get rollout canary-demo -n canary-demo --watch\n# \u2192 Th\u1ea5y 10% traffic \u2192 30% \u2192 pause (ch\u1edd promote)\n</code></pre>"},{"location":"day-10/#buoc-4-promote-hoac-abort","title":"B\u01b0\u1edbc 4: Promote ho\u1eb7c Abort","text":"<pre><code># Promote: chuy\u1ec3n 100% traffic sang version m\u1edbi\nkubectl argo rollouts promote canary-demo -n canary-demo\n\n# HO\u1eb6C Abort: rollback ngay l\u1eadp t\u1ee9c\nkubectl argo rollouts abort canary-demo -n canary-demo\n</code></pre>"},{"location":"day-10/#buoc-5-deploy-bluegreen-rollout","title":"B\u01b0\u1edbc 5: Deploy Blue/Green Rollout","text":"<pre><code># T\u1ea1o namespace\nkubectl create namespace bluegreen-demo\n\n# Deploy\nkubectl apply -f manifests/rollout-bluegreen.yaml -n bluegreen-demo\n\n# Trigger update\nkubectl argo rollouts set image bluegreen-demo \\\n  bluegreen-demo=argoproj/rollouts-demo:green \\\n  -n bluegreen-demo\n\n# Xem preview\nkubectl argo rollouts get rollout bluegreen-demo -n bluegreen-demo --watch\n\n# Promote\nkubectl argo rollouts promote bluegreen-demo -n bluegreen-demo\n</code></pre>"},{"location":"day-10/#buoc-6-argo-rollouts-dashboard-ui","title":"B\u01b0\u1edbc 6: Argo Rollouts Dashboard (UI)","text":"<pre><code># M\u1edf dashboard\nkubectl argo rollouts dashboard -n canary-demo &amp;\n# Truy c\u1eadp: http://localhost:3100\n</code></pre>"},{"location":"day-10/#faq","title":"\u2753 FAQ","text":""},{"location":"day-10/#q-su-khac-biet-giua-argocd-va-argo-rollouts","title":"Q: S\u1ef1 kh\u00e1c bi\u1ec7t gi\u1eefa ArgoCD v\u00e0 Argo Rollouts?","text":"<p>A: | | ArgoCD | Argo Rollouts | |---|--------|---------------| | Ch\u1ee9c n\u0103ng | GitOps CD | Progressive Delivery | | Qu\u1ea3n l\u00fd | Git \u2192 K8s sync | Traffic shifting | | Resource | Application | Rollout | | Quan h\u1ec7 | B\u1ed5 tr\u1ee3 nhau! | B\u1ed5 tr\u1ee3 nhau! |</p> <p>Flow k\u1ebft h\u1ee3p: Git commit \u2192 ArgoCD sync \u2192 Argo Rollouts th\u1ef1c hi\u1ec7n canary/blue-green</p>"},{"location":"day-10/#q-co-can-istionginx-ingress-cho-canary-khong","title":"Q: C\u00f3 c\u1ea7n Istio/Nginx Ingress cho Canary kh\u00f4ng?","text":"<p>A: Argo Rollouts h\u1ed7 tr\u1ee3 nhi\u1ec1u traffic managers: - Kh\u00f4ng c\u1ea7n g\u00ec: D\u00f9ng basic replica-based splitting - Nginx Ingress: Canary header/weight-based - Istio: VirtualService traffic splitting (ch\u00ednh x\u00e1c nh\u1ea5t) - AWS ALB: Weighted target groups</p>"},{"location":"day-10/#bai-tap-on-tap","title":"\ud83d\udcda B\u00e0i t\u1eadp &amp; \u00d4n t\u1eadp","text":"<ul> <li>\ud83d\udcdd B\u00e0i t\u1eadp th\u1ef1c h\u00e0nh</li> <li>\u2753 C\u00e2u h\u1ecfi \u00f4n t\u1eadp (30 c\u00e2u)</li> </ul> <p>\u23ee\ufe0f Ng\u00e0y tr\u01b0\u1edbc: Day 09 \u2014 B\u1ea3o m\u1eadt (RBAC &amp; Projects)</p> <p>\ud83c\udf89 Ch\u00fac m\u1eebng b\u1ea1n \u0111\u00e3 ho\u00e0n th\u00e0nh kh\u00f3a h\u1ecdc ArgoCD 10 ng\u00e0y!</p>"},{"location":"day-10/questions/","title":"\u2753 C\u00e2u H\u1ecfi \u00d4n T\u1eadp \u2014 Ng\u00e0y 10: Canary &amp; Blue/Green Deployment","text":""},{"location":"day-10/questions/#phan-1-argo-rollouts-concepts-cau-1-10","title":"Ph\u1ea7n 1: Argo Rollouts Concepts (C\u00e2u 1-10)","text":""},{"location":"day-10/questions/#cau-1-argo-rollouts-la-gi","title":"C\u00e2u 1: Argo Rollouts l\u00e0 g\u00ec?","text":"<pre><code>Argo Rollouts l\u00e0 **Kubernetes controller** cung c\u1ea5p progressive delivery: Canary, Blue/Green, analysis. N\u00f3 thay th\u1ebf Kubernetes Deployment b\u1eb1ng resource type `Rollout` \u0111\u1ec3 ki\u1ec3m so\u00e1t traffic shifting.\n</code></pre>"},{"location":"day-10/questions/#cau-2-argocd-va-argo-rollouts-khac-nhau-the-nao","title":"C\u00e2u 2: ArgoCD v\u00e0 Argo Rollouts kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>| | ArgoCD | Argo Rollouts |\n|---|--------|---------------|\n| Ch\u1ee9c n\u0103ng | GitOps CD (sync Git \u2192 K8s) | Progressive Delivery (traffic shifting) |\n| Resource | Application | Rollout |\n| Scope | To\u00e0n b\u1ed9 app lifecycle | Deployment strategy only |\n| Quan h\u1ec7 | B\u1ed5 tr\u1ee3 nhau | B\u1ed5 tr\u1ee3 nhau |\n</code></pre>"},{"location":"day-10/questions/#cau-3-rollout-resource-khac-deployment-the-nao","title":"C\u00e2u 3: Rollout resource kh\u00e1c Deployment th\u1ebf n\u00e0o?","text":"<pre><code>`Rollout` t\u01b0\u01a1ng t\u1ef1 `Deployment` nh\u01b0ng th\u00eam field `strategy` \u0111\u1ec3 c\u1ea5u h\u00ecnh Canary/Blue-Green. Spec `template` v\u00e0 `selector` gi\u1ed1ng Deployment. Rollout **thay th\u1ebf** Deployment (kh\u00f4ng d\u00f9ng c\u1ea3 2 cho c\u00f9ng app).\n</code></pre>"},{"location":"day-10/questions/#cau-4-canary-deployment-la-gi","title":"C\u00e2u 4: Canary deployment l\u00e0 g\u00ec?","text":"<pre><code>Tri\u1ec3n khai d\u1ea7n d\u1ea7n: chuy\u1ec3n **m\u1ed9t ph\u1ea7n traffic** sang version m\u1edbi, t\u0103ng d\u1ea7n n\u1ebfu kh\u00f4ng c\u00f3 l\u1ed7i. V\u00ed d\u1ee5: 10% \u2192 30% \u2192 60% \u2192 100%. N\u1ebfu ph\u00e1t hi\u1ec7n l\u1ed7i \u1edf b\u1ea5t k\u1ef3 b\u01b0\u1edbc n\u00e0o \u2192 abort, rollback v\u1ec1 version c\u0169.\n</code></pre>"},{"location":"day-10/questions/#cau-5-bluegreen-deployment-la-gi","title":"C\u00e2u 5: Blue/Green deployment l\u00e0 g\u00ec?","text":"<pre><code>Ch\u1ea1y **2 environments song song**: Blue (current/active) v\u00e0 Green (new/preview). Green \u0111\u01b0\u1ee3c test k\u1ef9 qua preview service. Khi s\u1eb5n s\u00e0ng \u2192 switch traffic 100% t\u1eeb Blue sang Green ngay l\u1eadp t\u1ee9c. Rollback nhanh: ch\u1ec9 c\u1ea7n switch v\u1ec1 Blue.\n</code></pre>"},{"location":"day-10/questions/#cau-6-canary-vs-bluegreen-khi-nao-dung-cai-nao","title":"C\u00e2u 6: Canary vs Blue/Green \u2014 khi n\u00e0o d\u00f9ng c\u00e1i n\u00e0o?","text":"<pre><code>**Canary:** Traffic-sensitive apps (API, web), mu\u1ed1n ki\u1ec3m tra v\u1edbi % users th\u1ef1c. **Blue/Green:** Apps c\u1ea7n \"all-or-nothing\" switch, c\u1ea7n preview environment ri\u00eang, downtime tolerance th\u1ea5p. Canary ph\u1ee9c t\u1ea1p h\u01a1n nh\u01b0ng risk th\u1ea5p h\u01a1n.\n</code></pre>"},{"location":"day-10/questions/#cau-7-setweight-trong-canary-steps-nghia-la-gi","title":"C\u00e2u 7: <code>setWeight</code> trong Canary steps ngh\u0129a l\u00e0 g\u00ec?","text":"<pre><code>X\u00e1c \u0111\u1ecbnh **% traffic** route \u0111\u1ebfn version m\u1edbi:\n```yaml\nsteps:\n  - setWeight: 10    # 10% traffic \u2192 new version\n  - pause: {duration: 60s}\n  - setWeight: 50    # 50% traffic \u2192 new version\n```\nImplementation ph\u1ee5 thu\u1ed9c traffic manager (Nginx, Istio, ho\u1eb7c replica-based).\n</code></pre>"},{"location":"day-10/questions/#cau-8-pause-trong-canary-steps-co-may-loai","title":"C\u00e2u 8: <code>pause</code> trong Canary steps c\u00f3 m\u1ea5y lo\u1ea1i?","text":"<pre><code>**Timed pause:** `pause: {duration: 60s}` \u2014 t\u1ef1 resume sau 60s\n**Manual pause:** `pause: {}` \u2014 ch\u1edd human promote\n**Analysis pause:** Ch\u1edd AnalysisRun ho\u00e0n t\u1ea5t (pass/fail)\n</code></pre>"},{"location":"day-10/questions/#cau-9-analysistemplate-trong-argo-rollouts-la-gi","title":"C\u00e2u 9: AnalysisTemplate trong Argo Rollouts l\u00e0 g\u00ec?","text":"<pre><code>Automated testing t\u1ea1i m\u1ed7i canary step. Query metrics (Prometheus, Datadog) \u2192 pass/fail t\u1ef1 \u0111\u1ed9ng:\n```yaml\nmetrics:\n  - name: error-rate\n    provider:\n      prometheus:\n        query: \"rate(http_errors_total[5m])\"\n    successCondition: \"result[0] &lt; 0.05\"  # Error rate &lt; 5%\n```\n</code></pre>"},{"location":"day-10/questions/#cau-10-promote-abort-retry-khac-nhau-the-nao","title":"C\u00e2u 10: Promote, Abort, Retry kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>| Command | H\u00e0nh vi |\n|---------|---------|\n| `promote` | Ti\u1ebfn t\u1edbi step ti\u1ebfp theo (ho\u1eb7c skip t\u1ea5t c\u1ea3 \u2192 100%) |\n| `abort` | D\u1eebng rollout, rollback v\u1ec1 version c\u0169 |\n| `retry` | Retry rollout sau khi abort (quay l\u1ea1i Healthy) |\n| `promote --full` | Skip t\u1ea5t c\u1ea3 remaining steps \u2192 100% ngay |\n</code></pre>"},{"location":"day-10/questions/#phan-2-configuration-cau-11-20","title":"Ph\u1ea7n 2: Configuration (C\u00e2u 11-20)","text":""},{"location":"day-10/questions/#cau-11-cai-at-argo-rollouts-the-nao","title":"C\u00e2u 11: C\u00e0i \u0111\u1eb7t Argo Rollouts th\u1ebf n\u00e0o?","text":"<pre><code>```bash\nkubectl create namespace argo-rollouts\nkubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/latest/download/install.yaml\n```\nTh\u00eam kubectl plugin: download `kubectl-argo-rollouts` binary \u2192 `/usr/local/bin/`.\n</code></pre>"},{"location":"day-10/questions/#cau-12-bluegreen-can-may-services","title":"C\u00e2u 12: Blue/Green c\u1ea7n m\u1ea5y Services?","text":"<pre><code>**2 Services:**\n- `activeService` \u2014 Production traffic (Blue khi ch\u01b0a promote, Green sau promote)\n- `previewService` \u2014 Preview/testing traffic (lu\u00f4n tr\u1ecf version m\u1edbi)\n\nArgoCD t\u1ef1 qu\u1ea3n l\u00fd selector switching gi\u1eefa 2 services.\n</code></pre>"},{"location":"day-10/questions/#cau-13-autopromotionenabled-false-trong-bluegreen-nghia-gi","title":"C\u00e2u 13: <code>autoPromotionEnabled: false</code> trong Blue/Green ngh\u0129a g\u00ec?","text":"<pre><code>B\u1eaft bu\u1ed9c **manual promote** tr\u01b0\u1edbc khi switch traffic. N\u1ebfu `true` \u2192 t\u1ef1 promote sau khi preview pods Ready. Production n\u00ean `false` \u0111\u1ec3 human review tr\u01b0\u1edbc khi switch.\n</code></pre>"},{"location":"day-10/questions/#cau-14-scaledowndelayseconds-dung-e-lam-gi","title":"C\u00e2u 14: <code>scaleDownDelaySeconds</code> d\u00f9ng \u0111\u1ec3 l\u00e0m g\u00ec?","text":"<pre><code>Sau khi promote, gi\u1eef ReplicaSet c\u0169 th\u00eam N gi\u00e2y tr\u01b0\u1edbc khi scale down. Cho ph\u00e9p **rollback nhanh** n\u1ebfu ph\u00e1t hi\u1ec7n l\u1ed7i ngay sau promote. M\u1eb7c \u0111\u1ecbnh: 30s.\n</code></pre>"},{"location":"day-10/questions/#cau-15-replica-based-vs-traffic-based-canary-khac-nhau-the-nao","title":"C\u00e2u 15: Replica-based vs Traffic-based Canary kh\u00e1c nhau th\u1ebf n\u00e0o?","text":"<pre><code>**Replica-based** (m\u1eb7c \u0111\u1ecbnh, kh\u00f4ng c\u1ea7n service mesh): Scale replicas \u2014 1/10 pods new = ~10% traffic. Kh\u00f4ng ch\u00ednh x\u00e1c. **Traffic-based** (c\u1ea7n Istio/Nginx): VirtualService/Ingress route ch\u00ednh x\u00e1c 10% HTTP requests. Ch\u00ednh x\u00e1c nh\u01b0ng ph\u1ee9c t\u1ea1p h\u01a1n.\n</code></pre>"},{"location":"day-10/questions/#cau-16-argo-rollouts-istio-cau-hinh-the-nao","title":"C\u00e2u 16: Argo Rollouts + Istio c\u1ea5u h\u00ecnh th\u1ebf n\u00e0o?","text":"<pre><code>```yaml\nstrategy:\n  canary:\n    trafficRouting:\n      istio:\n        virtualService:\n          name: my-app-vsvc\n        destinationRule:\n          name: my-app-destrule\n```\nRollouts t\u1ef1 update VirtualService weights theo canary steps.\n</code></pre>"},{"location":"day-10/questions/#cau-17-argo-rollouts-dashboard-ui-truy-cap-the-nao","title":"C\u00e2u 17: Argo Rollouts Dashboard UI truy c\u1eadp th\u1ebf n\u00e0o?","text":"<pre><code>```bash\nkubectl argo rollouts dashboard\n# \u2192 http://localhost:3100\n```\nUI hi\u1ec3n th\u1ecb rollout visualization, steps, ReplicaSets, traffic distribution.\n</code></pre>"},{"location":"day-10/questions/#cau-18-kubectl-argo-rollouts-get-rollout-name-watch-hien-thi-gi","title":"C\u00e2u 18: <code>kubectl argo rollouts get rollout &lt;name&gt; --watch</code> hi\u1ec3n th\u1ecb g\u00ec?","text":"<pre><code>Live visualization c\u1ee7a rollout progress: current step, weight, ReplicaSets (stable vs canary), pod status. Real-time update khi steps ti\u1ebfn tri\u1ec3n. Press Ctrl+C \u0111\u1ec3 tho\u00e1t.\n</code></pre>"},{"location":"day-10/questions/#cau-19-trigger-update-cho-rollout-the-nao","title":"C\u00e2u 19: Trigger update cho Rollout th\u1ebf n\u00e0o?","text":"<pre><code>```bash\n# C\u00e1ch 1: Set image (CLI)\nkubectl argo rollouts set image &lt;name&gt; &lt;container&gt;=&lt;new-image&gt;\n\n# C\u00e1ch 2: Edit YAML\nkubectl edit rollout &lt;name&gt;\n\n# C\u00e1ch 3: GitOps (recommended)\n# Update image tag in Git \u2192 ArgoCD sync \u2192 Rollout triggers\n```\n</code></pre>"},{"location":"day-10/questions/#cau-20-argocd-co-native-support-argo-rollouts-khong","title":"C\u00e2u 20: ArgoCD c\u00f3 native support Argo Rollouts kh\u00f4ng?","text":"<pre><code>**C\u00f3!** ArgoCD nh\u1eadn di\u1ec7n Rollout CRD, hi\u1ec3n th\u1ecb trong UI v\u1edbi health/sync status. ArgoCD UI c\u00f3 n\u00fat Promote/Abort cho Rollouts. Flow: Git commit \u2192 ArgoCD sync \u2192 Rollout execute canary/blue-green.\n</code></pre>"},{"location":"day-10/questions/#phan-3-advanced-troubleshooting-cau-21-30","title":"Ph\u1ea7n 3: Advanced &amp; Troubleshooting (C\u00e2u 21-30)","text":""},{"location":"day-10/questions/#cau-21-abort-rollout-thi-chuyen-gi-xay-ra","title":"C\u00e2u 21: Abort rollout th\u00ec chuy\u1ec7n g\u00ec x\u1ea3y ra?","text":"<pre><code>1. Traffic route 100% v\u1ec1 stable (old) version\n2. Canary ReplicaSet scale down to 0\n3. Rollout status = **Degraded**\n4. C\u1ea7n `retry` \u0111\u1ec3 quay l\u1ea1i **Healthy** status\n</code></pre>"},{"location":"day-10/questions/#cau-22-rollback-trong-argo-rollouts-khac-kubernetes-deployment","title":"C\u00e2u 22: Rollback trong Argo Rollouts kh\u00e1c Kubernetes Deployment?","text":"<pre><code>**K8s Deployment:** `kubectl rollout undo` \u2014 revert YAML, recreate pods. **Argo Rollouts:** `abort` \u2014 ngay l\u1eadp t\u1ee9c route traffic v\u1ec1 old version, kh\u00f4ng c\u1ea7n recreate pods (v\u00ec old ReplicaSet v\u1eabn running). Nhanh h\u01a1n nhi\u1ec1u.\n</code></pre>"},{"location":"day-10/questions/#cau-23-analysisrun-tu-ong-abort-rollout-khi-nao","title":"C\u00e2u 23: AnalysisRun t\u1ef1 \u0111\u1ed9ng abort rollout khi n\u00e0o?","text":"<pre><code>Khi metric query tr\u1ea3 v\u1ec1 k\u1ebft qu\u1ea3 **kh\u00f4ng th\u1ecfa** `successCondition`. V\u00ed d\u1ee5: error rate &gt; 5%, latency p99 &gt; 500ms. AnalysisRun fail \u2192 Rollout auto-abort \u2192 traffic rollback.\n</code></pre>"},{"location":"day-10/questions/#cau-24-experiments-trong-argo-rollouts-la-gi","title":"C\u00e2u 24: Experiments trong Argo Rollouts l\u00e0 g\u00ec?","text":"<pre><code>Ch\u1ea1y **temporary ReplicaSets** song song trong canary step \u0111\u1ec3 A/B testing. Kh\u00f4ng route real traffic \u2014 ch\u1ec9 t\u1ea1o pods \u0111\u1ec3 run AnalysisRun against. T\u1ef1 cleanup sau experiment.\n</code></pre>"},{"location":"day-10/questions/#cau-25-anti-affinity-trong-canary-deployment-co-y-nghia-gi","title":"C\u00e2u 25: Anti-Affinity trong Canary deployment c\u00f3 \u00fd ngh\u0129a g\u00ec?","text":"<pre><code>\u0110\u1ea3m b\u1ea3o canary pods v\u00e0 stable pods ch\u1ea1y tr\u00ean **nodes kh\u00e1c nhau**. Tr\u00e1nh tr\u01b0\u1eddng h\u1ee3p node failure \u1ea3nh h\u01b0\u1edfng c\u1ea3 2 versions \u0111\u1ed3ng th\u1eddi.\n</code></pre>"},{"location":"day-10/questions/#cau-26-maxsurge-va-maxunavailable-trong-rollout","title":"C\u00e2u 26: <code>maxSurge</code> v\u00e0 <code>maxUnavailable</code> trong Rollout?","text":"<pre><code>Gi\u1ed1ng Deployment rolling update:\n- `maxSurge` \u2014 S\u1ed1 pods th\u00eam t\u1ed1i \u0111a (vd: 25% = t\u1ea1o th\u00eam 25% pods)\n- `maxUnavailable` \u2014 S\u1ed1 pods unavailable t\u1ed1i \u0111a (vd: 0 = zero downtime)\n\u00c1p d\u1ee5ng cho **non-canary** updates (khi kh\u00f4ng c\u00f3 canary steps).\n</code></pre>"},{"location":"day-10/questions/#cau-27-rollout-status-paused-vs-degraded","title":"C\u00e2u 27: Rollout status \"Paused\" vs \"Degraded\"?","text":"<pre><code>**Paused:** \u0110ang ch\u1edd \u1edf canary step (planned pause). Normal state \u2014 ch\u1edd promote ho\u1eb7c timer. **Degraded:** Rollout b\u1ecb abort ho\u1eb7c AnalysisRun failed. C\u1ea7n human intervention (retry/fix).\n</code></pre>"},{"location":"day-10/questions/#cau-28-monitoring-argo-rollouts-voi-prometheus","title":"C\u00e2u 28: Monitoring Argo Rollouts v\u1edbi Prometheus?","text":"<pre><code>Key metrics:\n- `rollout_info` \u2014 Rollout metadata (phase, strategy)\n- `rollout_phase` \u2014 Current phase (Healthy, Paused, Degraded)\n- `analysis_run_info` \u2014 AnalysisRun results\nExpose qua `/metrics` endpoint tr\u00ean Rollouts controller pod.\n</code></pre>"},{"location":"day-10/questions/#cau-29-migrate-tu-deployment-sang-rollout-the-nao","title":"C\u00e2u 29: Migrate t\u1eeb Deployment sang Rollout th\u1ebf n\u00e0o?","text":"<pre><code>1. Change `kind: Deployment` \u2192 `kind: Rollout`\n2. Change `apiVersion` \u2192 `argoproj.io/v1alpha1`\n3. Add `strategy.canary` ho\u1eb7c `strategy.blueGreen`\n4. Deploy \u2014 Rollout adopt existing ReplicaSet (zero downtime migration)\n\n**L\u01b0u \u00fd:** X\u00f3a Deployment tr\u01b0\u1edbc khi t\u1ea1o Rollout (c\u00f9ng selector \u2192 conflict).\n</code></pre>"},{"location":"day-10/questions/#cau-30-full-production-gitops-flow-voi-argocd-argo-rollouts","title":"C\u00e2u 30: Full production GitOps flow v\u1edbi ArgoCD + Argo Rollouts?","text":"<pre><code>```\n1. Developer push code \u2192 App repo\n2. CI pipeline build + test + push image\n3. CI update image tag in Config repo (Git commit)\n4. ArgoCD detect \u2192 sync Rollout manifest (new image)\n5. Argo Rollouts execute canary:\n   a. 10% traffic \u2192 new version\n   b. AnalysisRun query Prometheus\n   c. Pass \u2192 50% \u2192 100% (auto promote)\n   d. Fail \u2192 auto abort \u2192 rollback\n6. ArgoCD report Healthy/Degraded\n```\n**End-to-end automated progressive delivery!**\n</code></pre>"},{"location":"day-10/exercises/exercise/","title":"\u270f\ufe0f B\u00e0i t\u1eadp Ng\u00e0y 10: Canary &amp; Blue/Green Deployment","text":""},{"location":"day-10/exercises/exercise/#muc-tieu","title":"\ud83c\udfaf M\u1ee5c ti\u00eau","text":"<ul> <li>Deploy Canary rollout v\u00e0 quan s\u00e1t traffic shifting</li> <li>Th\u1ef1c hi\u1ec7n Rollback khi Canary l\u1ed7i</li> <li>Deploy Blue/Green rollout</li> </ul>"},{"location":"day-10/exercises/exercise/#bai-tap-1-canary-deployment","title":"B\u00e0i t\u1eadp 1: Canary Deployment","text":"<ol> <li> <p>C\u00e0i Argo Rollouts:    <pre><code>chmod +x scripts/*.sh\n./scripts/install-argo-rollouts.sh\n./scripts/verify.sh\n</code></pre></p> </li> <li> <p>Deploy Canary:    <pre><code>kubectl create namespace canary-demo\nkubectl apply -f manifests/rollout-canary.yaml -n canary-demo\nkubectl apply -f manifests/service.yaml -n canary-demo\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra tr\u1ea1ng th\u00e1i:    <pre><code>kubectl argo rollouts get rollout canary-demo -n canary-demo --watch\n</code></pre></p> </li> <li> <p>Trigger update (\u0111\u1ed5i image):    <pre><code>kubectl argo rollouts set image canary-demo \\\n  canary-demo=argoproj/rollouts-demo:yellow \\\n  -n canary-demo\n</code></pre></p> </li> <li> <p>Quan s\u00e1t canary steps:</p> </li> <li>10% traffic \u2192 pause 60s</li> <li>30% traffic \u2192 pause 60s</li> <li> <p>60% traffic \u2192 ch\u1edd manual promote</p> </li> <li> <p>Promote:    <pre><code>kubectl argo rollouts promote canary-demo -n canary-demo\n</code></pre></p> </li> </ol>"},{"location":"day-10/exercises/exercise/#bai-tap-2-rollback-khi-canary-loi","title":"B\u00e0i t\u1eadp 2: Rollback khi Canary l\u1ed7i \ud83d\udea8","text":"<ol> <li> <p>Trigger update m\u1edbi:    <pre><code>kubectl argo rollouts set image canary-demo \\\n  canary-demo=argoproj/rollouts-demo:red \\\n  -n canary-demo\n</code></pre></p> </li> <li> <p>Trong khi canary \u0111ang \u1edf 10-30%, abort ngay:    <pre><code>kubectl argo rollouts abort canary-demo -n canary-demo\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra rollback th\u00e0nh c\u00f4ng:    <pre><code>kubectl argo rollouts get rollout canary-demo -n canary-demo\n# \u2192 Status: Degraded (abort) ho\u1eb7c \u0111\u00e3 rollback v\u1ec1 version tr\u01b0\u1edbc\n</code></pre></p> </li> <li> <p>Retry \u0111\u1ec3 quay l\u1ea1i tr\u1ea1ng th\u00e1i Healthy:    <pre><code>kubectl argo rollouts retry rollout canary-demo -n canary-demo\n</code></pre></p> </li> </ol>"},{"location":"day-10/exercises/exercise/#bai-tap-3-bluegreen-deployment","title":"B\u00e0i t\u1eadp 3: Blue/Green Deployment","text":"<ol> <li> <p>Deploy Blue/Green:    <pre><code>kubectl create namespace bluegreen-demo\nkubectl apply -f manifests/rollout-bluegreen.yaml -n bluegreen-demo\n</code></pre></p> </li> <li> <p>Port-forward 2 services:    <pre><code># Active (Blue)\nkubectl port-forward svc/bluegreen-active -n bluegreen-demo 9091:80 &amp;\n\n# Preview (Green)\nkubectl port-forward svc/bluegreen-preview -n bluegreen-demo 9092:80 &amp;\n</code></pre></p> </li> <li> <p>Trigger update:    <pre><code>kubectl argo rollouts set image bluegreen-demo \\\n  bluegreen-demo=argoproj/rollouts-demo:green \\\n  -n bluegreen-demo\n</code></pre></p> </li> <li> <p>Ki\u1ec3m tra:</p> </li> <li><code>http://localhost:9091</code> \u2192 Blue (version c\u0169)</li> <li> <p><code>http://localhost:9092</code> \u2192 Green (version m\u1edbi, \u0111ang preview)</p> </li> <li> <p>Promote:    <pre><code>kubectl argo rollouts promote bluegreen-demo -n bluegreen-demo\n</code></pre></p> </li> <li> <p>Sau promote: c\u1ea3 2 URL \u0111\u1ec1u tr\u1ecf v\u1ec1 Green</p> </li> </ol>"},{"location":"day-10/exercises/exercise/#bai-tap-4-dashboard-ui","title":"B\u00e0i t\u1eadp 4: Dashboard UI","text":"<pre><code>kubectl argo rollouts dashboard &amp;\n# M\u1edf http://localhost:3100\n# Xem visualization c\u1ee7a rollout process\n</code></pre>"},{"location":"day-10/exercises/exercise/#checklist-hoan-thanh","title":"\u2705 Checklist ho\u00e0n th\u00e0nh","text":"<ul> <li>[ ] Argo Rollouts c\u00e0i th\u00e0nh c\u00f4ng</li> <li>[ ] Canary deployment ch\u1ea1y v\u1edbi traffic shifting</li> <li>[ ] Rollback (abort) canary th\u00e0nh c\u00f4ng</li> <li>[ ] Blue/Green deployment ch\u1ea1y</li> <li>[ ] Preview vs Active service ho\u1ea1t \u0111\u1ed9ng \u0111\u00fang</li> <li>[ ] Promote Blue/Green th\u00e0nh c\u00f4ng</li> </ul> <p>\ud83c\udf89 Ch\u00fac m\u1eebng! B\u1ea1n \u0111\u00e3 ho\u00e0n th\u00e0nh kh\u00f3a h\u1ecdc ArgoCD 10 ng\u00e0y!</p> <p>B\u1ea1n \u0111\u00e3 n\u1eafm \u0111\u01b0\u1ee3c: - \u2705 GitOps fundamentals - \u2705 ArgoCD installation &amp; configuration - \u2705 Sync strategies &amp; self-healing - \u2705 Helm &amp; Kustomize integration - \u2705 Multi-cluster management - \u2705 App of Apps &amp; ApplicationSet patterns - \u2705 RBAC &amp; security - \u2705 Progressive delivery (Canary &amp; Blue/Green)</p>"}]}